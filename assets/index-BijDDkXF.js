(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function p_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jf={exports:{}},za={},Ff={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function ZT(){if(Dy)return Re;Dy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function b(U,X,ye){this.props=U,this.context=X,this.refs=j,this.updater=ye||A}b.prototype.isReactComponent={},b.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=b.prototype;function G(U,X,ye){this.props=U,this.context=X,this.refs=j,this.updater=ye||A}var q=G.prototype=new F;q.constructor=G,D(q,b.prototype),q.isPureReactComponent=!0;var re=Array.isArray,ne=Object.prototype.hasOwnProperty,ae={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function S(U,X,ye){var Pe,ke={},Me=null,Ue=null;if(X!=null)for(Pe in X.ref!==void 0&&(Ue=X.ref),X.key!==void 0&&(Me=""+X.key),X)ne.call(X,Pe)&&!V.hasOwnProperty(Pe)&&(ke[Pe]=X[Pe]);var ze=arguments.length-2;if(ze===1)ke.children=ye;else if(1<ze){for(var qe=Array(ze),Ct=0;Ct<ze;Ct++)qe[Ct]=arguments[Ct+2];ke.children=qe}if(U&&U.defaultProps)for(Pe in ze=U.defaultProps,ze)ke[Pe]===void 0&&(ke[Pe]=ze[Pe]);return{$$typeof:t,type:U,key:Me,ref:Ue,props:ke,_owner:ae.current}}function I(U,X){return{$$typeof:t,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function M(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ye){return X[ye]})}var B=/\/+/g;function P(U,X){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):X.toString(36)}function Ce(U,X,ye,Pe,ke){var Me=typeof U;(Me==="undefined"||Me==="boolean")&&(U=null);var Ue=!1;if(U===null)Ue=!0;else switch(Me){case"string":case"number":Ue=!0;break;case"object":switch(U.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=U,ke=ke(Ue),U=Pe===""?"."+P(Ue,0):Pe,re(ke)?(ye="",U!=null&&(ye=U.replace(B,"$&/")+"/"),Ce(ke,X,ye,"",function(Ct){return Ct})):ke!=null&&(R(ke)&&(ke=I(ke,ye+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(B,"$&/")+"/")+U)),X.push(ke)),1;if(Ue=0,Pe=Pe===""?".":Pe+":",re(U))for(var ze=0;ze<U.length;ze++){Me=U[ze];var qe=Pe+P(Me,ze);Ue+=Ce(Me,X,ye,qe,ke)}else if(qe=w(U),typeof qe=="function")for(U=qe.call(U),ze=0;!(Me=U.next()).done;)Me=Me.value,qe=Pe+P(Me,ze++),Ue+=Ce(Me,X,ye,qe,ke);else if(Me==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Ie(U,X,ye){if(U==null)return U;var Pe=[],ke=0;return Ce(U,Pe,"","",function(Me){return X.call(ye,Me,ke++)}),Pe}function Ne(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ye){(U._status===0||U._status===-1)&&(U._status=1,U._result=ye)},function(ye){(U._status===0||U._status===-1)&&(U._status=2,U._result=ye)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var me={current:null},Q={transition:null},le={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:Q,ReactCurrentOwner:ae};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Ie,forEach:function(U,X,ye){Ie(U,function(){X.apply(this,arguments)},ye)},count:function(U){var X=0;return Ie(U,function(){X++}),X},toArray:function(U){return Ie(U,function(X){return X})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=b,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=G,Re.StrictMode=i,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Re.act=oe,Re.cloneElement=function(U,X,ye){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Pe=D({},U.props),ke=U.key,Me=U.ref,Ue=U._owner;if(X!=null){if(X.ref!==void 0&&(Me=X.ref,Ue=ae.current),X.key!==void 0&&(ke=""+X.key),U.type&&U.type.defaultProps)var ze=U.type.defaultProps;for(qe in X)ne.call(X,qe)&&!V.hasOwnProperty(qe)&&(Pe[qe]=X[qe]===void 0&&ze!==void 0?ze[qe]:X[qe])}var qe=arguments.length-2;if(qe===1)Pe.children=ye;else if(1<qe){ze=Array(qe);for(var Ct=0;Ct<qe;Ct++)ze[Ct]=arguments[Ct+2];Pe.children=ze}return{$$typeof:t,type:U.type,key:ke,ref:Me,props:Pe,_owner:Ue}},Re.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},Re.createElement=S,Re.createFactory=function(U){var X=S.bind(null,U);return X.type=U,X},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:f,render:U}},Re.isValidElement=R,Re.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Ne}},Re.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},Re.startTransition=function(U){var X=Q.transition;Q.transition={};try{U()}finally{Q.transition=X}},Re.unstable_act=oe,Re.useCallback=function(U,X){return me.current.useCallback(U,X)},Re.useContext=function(U){return me.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return me.current.useDeferredValue(U)},Re.useEffect=function(U,X){return me.current.useEffect(U,X)},Re.useId=function(){return me.current.useId()},Re.useImperativeHandle=function(U,X,ye){return me.current.useImperativeHandle(U,X,ye)},Re.useInsertionEffect=function(U,X){return me.current.useInsertionEffect(U,X)},Re.useLayoutEffect=function(U,X){return me.current.useLayoutEffect(U,X)},Re.useMemo=function(U,X){return me.current.useMemo(U,X)},Re.useReducer=function(U,X,ye){return me.current.useReducer(U,X,ye)},Re.useRef=function(U){return me.current.useRef(U)},Re.useState=function(U){return me.current.useState(U)},Re.useSyncExternalStore=function(U,X,ye){return me.current.useSyncExternalStore(U,X,ye)},Re.useTransition=function(){return me.current.useTransition()},Re.version="18.3.1",Re}var Ny;function Bc(){return Ny||(Ny=1,Ff.exports=ZT()),Ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function ex(){if(by)return za;by=1;var t=Bc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,m){var v,E={},w=null,A=null;m!==void 0&&(w=""+m),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(A=d.ref);for(v in d)i.call(d,v)&&!l.hasOwnProperty(v)&&(E[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)E[v]===void 0&&(E[v]=d[v]);return{$$typeof:e,type:f,key:w,ref:A,props:E,_owner:o.current}}return za.Fragment=n,za.jsx=u,za.jsxs=u,za}var My;function m_(){return My||(My=1,jf.exports=ex()),jf.exports}var C=m_(),L=Bc();const tx=p_(L);var Xu={},Bf={exports:{}},an={},Uf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function nx(){return Ly||(Ly=1,function(t){function e(Q,le){var oe=Q.length;Q.push(le);e:for(;0<oe;){var U=oe-1>>>1,X=Q[U];if(0<o(X,le))Q[U]=le,Q[oe]=X,oe=U;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],oe=Q.pop();if(oe!==le){Q[0]=oe;e:for(var U=0,X=Q.length,ye=X>>>1;U<ye;){var Pe=2*(U+1)-1,ke=Q[Pe],Me=Pe+1,Ue=Q[Me];if(0>o(ke,oe))Me<X&&0>o(Ue,ke)?(Q[U]=Ue,Q[Me]=oe,U=Me):(Q[U]=ke,Q[Pe]=oe,U=Pe);else if(Me<X&&0>o(Ue,oe))Q[U]=Ue,Q[Me]=oe,U=Me;else break e}}return le}function o(Q,le){var oe=Q.sortIndex-le.sortIndex;return oe!==0?oe:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],m=[],v=1,E=null,w=3,A=!1,D=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(Q){for(var le=n(m);le!==null;){if(le.callback===null)i(m);else if(le.startTime<=Q)i(m),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(m)}}function re(Q){if(j=!1,q(Q),!D)if(n(d)!==null)D=!0,Ne(ne);else{var le=n(m);le!==null&&me(re,le.startTime-Q)}}function ne(Q,le){D=!1,j&&(j=!1,F(S),S=-1),A=!0;var oe=w;try{for(q(le),E=n(d);E!==null&&(!(E.expirationTime>le)||Q&&!M());){var U=E.callback;if(typeof U=="function"){E.callback=null,w=E.priorityLevel;var X=U(E.expirationTime<=le);le=t.unstable_now(),typeof X=="function"?E.callback=X:E===n(d)&&i(d),q(le)}else i(d);E=n(d)}if(E!==null)var ye=!0;else{var Pe=n(m);Pe!==null&&me(re,Pe.startTime-le),ye=!1}return ye}finally{E=null,w=oe,A=!1}}var ae=!1,V=null,S=-1,I=5,R=-1;function M(){return!(t.unstable_now()-R<I)}function B(){if(V!==null){var Q=t.unstable_now();R=Q;var le=!0;try{le=V(!0,Q)}finally{le?P():(ae=!1,V=null)}}else ae=!1}var P;if(typeof G=="function")P=function(){G(B)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ie=Ce.port2;Ce.port1.onmessage=B,P=function(){Ie.postMessage(null)}}else P=function(){b(B,0)};function Ne(Q){V=Q,ae||(ae=!0,P())}function me(Q,le){S=b(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,Ne(ne))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var oe=w;w=le;try{return Q()}finally{w=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=w;w=Q;try{return le()}finally{w=oe}},t.unstable_scheduleCallback=function(Q,le,oe){var U=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?U+oe:U):oe=U,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,Q={id:v++,callback:le,priorityLevel:Q,startTime:oe,expirationTime:X,sortIndex:-1},oe>U?(Q.sortIndex=oe,e(m,Q),n(d)===null&&Q===n(m)&&(j?(F(S),S=-1):j=!0,me(re,oe-U))):(Q.sortIndex=X,e(d,Q),D||A||(D=!0,Ne(ne))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var le=w;return function(){var oe=w;w=le;try{return Q.apply(this,arguments)}finally{w=oe}}}}(zf)),zf}var Oy;function rx(){return Oy||(Oy=1,Uf.exports=nx()),Uf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function ix(){if(jy)return an;jy=1;var t=Bc(),e=rx();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function w(r){return d.call(E,r)?!0:d.call(v,r)?!1:m.test(r)?E[r]=!0:(v[r]=!0,!1)}function A(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,a,h){if(s===null||typeof s>"u"||A(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(F,G);b[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(F,G);b[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(F,G);b[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function q(r,s,a,h){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,a,p,h)&&(a=null),h||p===null?w(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,h=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ae=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),Q=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var ye=!1;function Pe(r,s){if(!r||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,k=y.length-1;1<=T&&0<=k&&p[T]!==y[k];)k--;for(;1<=T&&0<=k;T--,k--)if(p[T]!==y[k]){if(T!==1||k!==1)do if(T--,k--,0>k||p[T]!==y[k]){var N=`
`+p[T].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=T&&0<=k);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function ke(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case ae:return"Portal";case I:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case R:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ie:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case Ne:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ct(r){var s=qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function wr(r){r._valueTracker||(r._valueTracker=Ct(r))}function Ss(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=qe(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bi(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function As(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Go(r,s){s=s.checked,s!=null&&q(r,"checked",s,!1)}function Qo(r,s){Go(r,s);var a=ze(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Cs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Cs(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ll(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Cs(r,s,a){(s!=="number"||qr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Er=Array.isArray;function Tr(r,s,a,h){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&h&&(r[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Yo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Is(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(Er(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ze(a)}}function Ps(r,s){var a=ze(s.value),h=ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Xo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xr,Jo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=xr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Kr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Li=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(r){Li.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Mi[s]=Mi[r]})});function Zo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Mi.hasOwnProperty(r)&&Mi[r]?(""+s).trim():s+"px"}function ea(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=Zo(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,p):r[a]=p}}var ta=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(r,s){if(s){if(ta[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ra(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function ks(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,_n=null,Qn=null;function Vs(r){if(r=Ia(r)){if(typeof Rs!="function")throw Error(n(280));var s=r.stateNode;s&&(s=fu(s),Rs(r.stateNode,r.type,s))}}function Yn(r){_n?Qn?Qn.push(r):Qn=[r]:_n=r}function ia(){if(_n){var r=_n,s=Qn;if(Qn=_n=null,Vs(r),s)for(r=0;r<s.length;r++)Vs(s[r])}}function ji(r,s){return r(s)}function sa(){}var Sr=!1;function oa(r,s,a){if(Sr)return r(s,a);Sr=!0;try{return ji(r,s,a)}finally{Sr=!1,(_n!==null||Qn!==null)&&(sa(),ia())}}function ut(r,s){var a=r.stateNode;if(a===null)return null;var h=fu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Ds=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Ds=!1}function Fi(r,s,a,h,p,y,T,k,N){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(ee){this.onError(ee)}}var Bi=!1,Ns=null,bn=!1,aa=null,hh={onError:function(r){Bi=!0,Ns=r}};function bs(r,s,a,h,p,y,T,k,N){Bi=!1,Ns=null,Fi.apply(hh,arguments)}function Ol(r,s,a,h,p,y,T,k,N){if(bs.apply(this,arguments),Bi){if(Bi){var W=Ns;Bi=!1,Ns=null}else throw Error(n(198));bn||(bn=!0,aa=W)}}function Mn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ui(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(r){if(Mn(r)!==r)throw Error(n(188))}function jl(r){var s=r.alternate;if(!s){if(s=Mn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,h=s;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Ln(p),r;if(y===h)return Ln(p),s;y=y.sibling}throw Error(n(188))}if(a.return!==h.return)a=p,h=y;else{for(var T=!1,k=p.child;k;){if(k===a){T=!0,a=p,h=y;break}if(k===h){T=!0,h=p,a=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===a){T=!0,a=y,h=p;break}if(k===h){T=!0,h=y,a=p;break}k=k.sibling}if(!T)throw Error(n(189))}}if(a.alternate!==h)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function la(r){return r=jl(r),r!==null?Ms(r):null}function Ms(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ms(r);if(s!==null)return s;r=r.sibling}return null}var Ls=e.unstable_scheduleCallback,ua=e.unstable_cancelCallback,Fl=e.unstable_shouldYield,fh=e.unstable_requestPaint,Ke=e.unstable_now,Bl=e.unstable_getCurrentPriorityLevel,zi=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,ca=e.unstable_LowPriority,Ul=e.unstable_IdlePriority,$i=null,hn=null;function zl(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot($i,r,void 0,(r.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Hl,ha=Math.log,$l=Math.LN2;function Hl(r){return r>>>=0,r===0?32:31-(ha(r)/$l|0)|0}var Os=64,js=4194304;function Qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Hi(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,T=a&268435455;if(T!==0){var k=T&~p;k!==0?h=Qr(k):(y&=T,y!==0&&(h=Qr(y)))}else T=a&~p,T!==0?h=Qr(T):y!==0&&(h=Qr(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Gt(s),p=1<<a,h|=r[a],s&=~p;return h}function dh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-Gt(y),k=1<<T,N=p[T];N===-1?((k&a)===0||(k&h)!==0)&&(p[T]=dh(k,s)):N<=s&&(r.expiredLanes|=k),y&=~k}}function fn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Wi(){var r=Os;return Os<<=1,(Os&4194240)===0&&(Os=64),r}function Yr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Xr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Gt(s),r[s]=a}function We(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-Gt(a),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,a&=~y}}function Jr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Gt(a),p=1<<h;p&s|r[h]&s&&(r[h]|=s),a&=~p}}var be=0;function Zr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Wl,Fs,ql,Kl,Gl,fa=!1,Xn=[],Dt=null,On=null,jn=null,ei=new Map,En=new Map,Jn=[],ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(r,s){switch(r){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Zt(r,s,a,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ia(s),s!==null&&Fs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function mh(r,s,a,h,p){switch(s){case"focusin":return Dt=Zt(Dt,r,s,a,h,p),!0;case"dragenter":return On=Zt(On,r,s,a,h,p),!0;case"mouseover":return jn=Zt(jn,r,s,a,h,p),!0;case"pointerover":var y=p.pointerId;return ei.set(y,Zt(ei.get(y)||null,r,s,a,h,p)),!0;case"gotpointercapture":return y=p.pointerId,En.set(y,Zt(En.get(y)||null,r,s,a,h,p)),!0}return!1}function Yl(r){var s=Yi(r.target);if(s!==null){var a=Mn(s);if(a!==null){if(s=a.tag,s===13){if(s=Ui(a),s!==null){r.blockedOn=s,Gl(r.priority,function(){ql(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Cr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Bs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Oi=h,a.target.dispatchEvent(h),Oi=null}else return s=Ia(a),s!==null&&Fs(s),r.blockedOn=a,!1;s.shift()}return!0}function qi(r,s,a){Cr(r)&&a.delete(s)}function Xl(){fa=!1,Dt!==null&&Cr(Dt)&&(Dt=null),On!==null&&Cr(On)&&(On=null),jn!==null&&Cr(jn)&&(jn=null),ei.forEach(qi),En.forEach(qi)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,fa||(fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xl)))}function Bn(r){function s(p){return Fn(p,r)}if(0<Xn.length){Fn(Xn[0],r);for(var a=1;a<Xn.length;a++){var h=Xn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Dt!==null&&Fn(Dt,r),On!==null&&Fn(On,r),jn!==null&&Fn(jn,r),ei.forEach(s),En.forEach(s),a=0;a<Jn.length;a++)h=Jn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Jn.length&&(a=Jn[0],a.blockedOn===null);)Yl(a),a.blockedOn===null&&Jn.shift()}var Ir=re.ReactCurrentBatchConfig,ti=!0;function Je(r,s,a,h){var p=be,y=Ir.transition;Ir.transition=null;try{be=1,da(r,s,a,h)}finally{be=p,Ir.transition=y}}function gh(r,s,a,h){var p=be,y=Ir.transition;Ir.transition=null;try{be=4,da(r,s,a,h)}finally{be=p,Ir.transition=y}}function da(r,s,a,h){if(ti){var p=Bs(r,s,a,h);if(p===null)Ih(r,s,h,Ki,a),Ql(r,h);else if(mh(p,r,s,a,h))h.stopPropagation();else if(Ql(r,h),s&4&&-1<ph.indexOf(r)){for(;p!==null;){var y=Ia(p);if(y!==null&&Wl(y),y=Bs(r,s,a,h),y===null&&Ih(r,s,h,Ki,a),y===p)break;p=y}p!==null&&h.stopPropagation()}else Ih(r,s,h,null,a)}}var Ki=null;function Bs(r,s,a,h){if(Ki=null,r=ks(h),r=Yi(r),r!==null)if(s=Mn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ui(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ki=r,null}function pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bl()){case zi:return 1;case Gr:return 4;case wn:case ca:return 16;case Ul:return 536870912;default:return 16}default:return 16}}var dn=null,Us=null,en=null;function ma(){if(en)return en;var r,s=Us,a=s.length,h,p="value"in dn?dn.value:dn.textContent,y=p.length;for(r=0;r<a&&s[r]===p[r];r++);var T=a-r;for(h=1;h<=T&&s[a-h]===p[y-h];h++);return en=p.slice(r,1<h?1-h:void 0)}function zs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Zn(){return!0}function ga(){return!1}function Nt(r){function s(a,h,p,y,T){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Zn:ga,this.isPropagationStopped=ga,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),s}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Nt(Un),er=oe({},Un,{view:0,detail:0}),yh=Nt(er),Hs,Pr,ni,Gi=oe({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ni&&(ni&&r.type==="mousemove"?(Hs=r.screenX-ni.screenX,Pr=r.screenY-ni.screenY):Pr=Hs=0,ni=r),Hs)},movementY:function(r){return"movementY"in r?r.movementY:Pr}}),Ws=Nt(Gi),ya=oe({},Gi,{dataTransfer:0}),Jl=Nt(ya),qs=oe({},er,{relatedTarget:0}),Ks=Nt(qs),Zl=oe({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Nt(Zl),eu=oe({},Un,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tu=Nt(eu),nu=oe({},Un,{data:0}),va=Nt(nu),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ru[r])?!!s[r]:!1}function tr(){return iu}var c=oe({},er,{key:function(r){if(r.key){var s=Gs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=zs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(r){return r.type==="keypress"?zs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Nt(c),_=oe({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=Nt(_),z=oe({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),K=Nt(z),se=oe({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Nt(se),wt=oe({},Gi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Nt(wt),It=[9,13,27,32],dt=f&&"CompositionEvent"in window,Tn=null;f&&"documentMode"in document&&(Tn=document.documentMode);var pn=f&&"TextEvent"in window&&!Tn,Qi=f&&(!dt||Tn&&8<Tn&&11>=Tn),Qs=" ",Cm=!1;function Im(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ys=!1;function YE(r,s){switch(r){case"compositionend":return Pm(s);case"keypress":return s.which!==32?null:(Cm=!0,Qs);case"textInput":return r=s.data,r===Qs&&Cm?null:r;default:return null}}function XE(r,s){if(Ys)return r==="compositionend"||!dt&&Im(r,s)?(r=ma(),en=Us=dn=null,Ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qi&&s.locale!=="ko"?null:s.data;default:return null}}var JE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!JE[r.type]:s==="textarea"}function Rm(r,s,a,h){Yn(h),s=uu(s,"onChange"),0<s.length&&(a=new $s("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var _a=null,wa=null;function ZE(r){Gm(r,0)}function su(r){var s=to(r);if(Ss(s))return r}function eT(r,s){if(r==="change")return s}var Vm=!1;if(f){var vh;if(f){var _h="oninput"in document;if(!_h){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),_h=typeof Dm.oninput=="function"}vh=_h}else vh=!1;Vm=vh&&(!document.documentMode||9<document.documentMode)}function Nm(){_a&&(_a.detachEvent("onpropertychange",bm),wa=_a=null)}function bm(r){if(r.propertyName==="value"&&su(wa)){var s=[];Rm(s,wa,r,ks(r)),oa(ZE,s)}}function tT(r,s,a){r==="focusin"?(Nm(),_a=s,wa=a,_a.attachEvent("onpropertychange",bm)):r==="focusout"&&Nm()}function nT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(wa)}function rT(r,s){if(r==="click")return su(s)}function iT(r,s){if(r==="input"||r==="change")return su(s)}function sT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:sT;function Ea(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!d.call(s,p)||!zn(r[p],s[p]))return!1}return!0}function Mm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lm(r,s){var a=Mm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mm(a)}}function Om(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Om(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function jm(){for(var r=window,s=qr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=qr(r.document)}return s}function wh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function oT(r){var s=jm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Om(a.ownerDocument.documentElement,a)){if(h!==null&&wh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=Lm(a,y);var T=Lm(a,h);p&&T&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var aT=f&&"documentMode"in document&&11>=document.documentMode,Xs=null,Eh=null,Ta=null,Th=!1;function Fm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Th||Xs==null||Xs!==qr(h)||(h=Xs,"selectionStart"in h&&wh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ta&&Ea(Ta,h)||(Ta=h,h=uu(Eh,"onSelect"),0<h.length&&(s=new $s("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Xs)))}function ou(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Js={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},xh={},Bm={};f&&(Bm=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function au(r){if(xh[r])return xh[r];if(!Js[r])return r;var s=Js[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Bm)return xh[r]=s[a];return r}var Um=au("animationend"),zm=au("animationiteration"),$m=au("animationstart"),Hm=au("transitionend"),Wm=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(r,s){Wm.set(r,s),l(s,[r])}for(var Sh=0;Sh<qm.length;Sh++){var Ah=qm[Sh],lT=Ah.toLowerCase(),uT=Ah[0].toUpperCase()+Ah.slice(1);ri(lT,"on"+uT)}ri(Um,"onAnimationEnd"),ri(zm,"onAnimationIteration"),ri($m,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Hm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function Km(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ol(h,s,void 0,r),r.currentTarget=null}function Gm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var k=h[T],N=k.instance,W=k.currentTarget;if(k=k.listener,N!==y&&p.isPropagationStopped())break e;Km(p,k,W),y=N}else for(T=0;T<h.length;T++){if(k=h[T],N=k.instance,W=k.currentTarget,k=k.listener,N!==y&&p.isPropagationStopped())break e;Km(p,k,W),y=N}}}if(bn)throw r=aa,bn=!1,aa=null,r}function Qe(r,s){var a=s[Nh];a===void 0&&(a=s[Nh]=new Set);var h=r+"__bubble";a.has(h)||(Qm(s,r,2,!1),a.add(h))}function Ch(r,s,a){var h=0;s&&(h|=4),Qm(a,r,h,s)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Sa(r){if(!r[lu]){r[lu]=!0,i.forEach(function(a){a!=="selectionchange"&&(cT.has(a)||Ch(a,!1,r),Ch(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[lu]||(s[lu]=!0,Ch("selectionchange",!1,s))}}function Qm(r,s,a,h){switch(pa(s)){case 1:var p=Je;break;case 4:p=gh;break;default:p=da}a=p.bind(null,s,a,r),p=void 0,!Ds||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function Ih(r,s,a,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===p||N.nodeType===8&&N.parentNode===p))return;T=T.return}for(;k!==null;){if(T=Yi(k),T===null)return;if(N=T.tag,N===5||N===6){h=y=T;continue e}k=k.parentNode}}h=h.return}oa(function(){var W=y,ee=ks(a),te=[];e:{var J=Wm.get(r);if(J!==void 0){var ue=$s,fe=r;switch(r){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":fe="focus",ue=Ks;break;case"focusout":fe="blur",ue=Ks;break;case"beforeblur":case"afterblur":ue=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=K;break;case Um:case zm:case $m:ue=kr;break;case Hm:ue=He;break;case"scroll":ue=yh;break;case"wheel":ue=Le;break;case"copy":case"cut":case"paste":ue=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=x}var de=(s&4)!==0,ct=!de&&r==="scroll",$=de?J!==null?J+"Capture":null:J;de=[];for(var O=W,H;O!==null;){H=O;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,$!==null&&(ie=ut(O,$),ie!=null&&de.push(Aa(O,ie,H)))),ct)break;O=O.return}0<de.length&&(J=new ue(J,fe,null,a,ee),te.push({event:J,listeners:de}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",J&&a!==Oi&&(fe=a.relatedTarget||a.fromElement)&&(Yi(fe)||fe[Rr]))break e;if((ue||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(fe=a.relatedTarget||a.toElement,ue=W,fe=fe?Yi(fe):null,fe!==null&&(ct=Mn(fe),fe!==ct||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=W),ue!==fe)){if(de=Ws,ie="onMouseLeave",$="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(de=x,ie="onPointerLeave",$="onPointerEnter",O="pointer"),ct=ue==null?J:to(ue),H=fe==null?J:to(fe),J=new de(ie,O+"leave",ue,a,ee),J.target=ct,J.relatedTarget=H,ie=null,Yi(ee)===W&&(de=new de($,O+"enter",fe,a,ee),de.target=H,de.relatedTarget=ct,ie=de),ct=ie,ue&&fe)t:{for(de=ue,$=fe,O=0,H=de;H;H=Zs(H))O++;for(H=0,ie=$;ie;ie=Zs(ie))H++;for(;0<O-H;)de=Zs(de),O--;for(;0<H-O;)$=Zs($),H--;for(;O--;){if(de===$||$!==null&&de===$.alternate)break t;de=Zs(de),$=Zs($)}de=null}else de=null;ue!==null&&Ym(te,J,ue,de,!1),fe!==null&&ct!==null&&Ym(te,ct,fe,de,!0)}}e:{if(J=W?to(W):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var pe=eT;else if(km(J))if(Vm)pe=iT;else{pe=nT;var ve=tT}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=rT);if(pe&&(pe=pe(r,W))){Rm(te,pe,a,ee);break e}ve&&ve(r,J,W),r==="focusout"&&(ve=J._wrapperState)&&ve.controlled&&J.type==="number"&&Cs(J,"number",J.value)}switch(ve=W?to(W):window,r){case"focusin":(km(ve)||ve.contentEditable==="true")&&(Xs=ve,Eh=W,Ta=null);break;case"focusout":Ta=Eh=Xs=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,Fm(te,a,ee);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":Fm(te,a,ee)}var _e;if(dt)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ys?Im(r,a)&&(xe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Qi&&a.locale!=="ko"&&(Ys||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ys&&(_e=ma()):(dn=ee,Us="value"in dn?dn.value:dn.textContent,Ys=!0)),ve=uu(W,xe),0<ve.length&&(xe=new va(xe,r,null,a,ee),te.push({event:xe,listeners:ve}),_e?xe.data=_e:(_e=Pm(a),_e!==null&&(xe.data=_e)))),(_e=pn?YE(r,a):XE(r,a))&&(W=uu(W,"onBeforeInput"),0<W.length&&(ee=new va("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:W}),ee.data=_e))}Gm(te,s)})}function Aa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function uu(r,s){for(var a=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ut(r,a),y!=null&&h.unshift(Aa(r,y,p)),y=ut(r,s),y!=null&&h.push(Aa(r,y,p))),r=r.return}return h}function Zs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ym(r,s,a,h,p){for(var y=s._reactName,T=[];a!==null&&a!==h;){var k=a,N=k.alternate,W=k.stateNode;if(N!==null&&N===h)break;k.tag===5&&W!==null&&(k=W,p?(N=ut(a,y),N!=null&&T.unshift(Aa(a,N,k))):p||(N=ut(a,y),N!=null&&T.push(Aa(a,N,k)))),a=a.return}T.length!==0&&r.push({event:s,listeners:T})}var hT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function Xm(r){return(typeof r=="string"?r:""+r).replace(hT,`
`).replace(fT,"")}function cu(r,s,a){if(s=Xm(s),Xm(r)!==s&&a)throw Error(n(425))}function hu(){}var Ph=null,kh=null;function Rh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(r){return Jm.resolve(null).then(r).catch(mT)}:Vh;function mT(r){setTimeout(function(){throw r})}function Dh(r,s){var a=s,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){r.removeChild(p),Bn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);Bn(s)}function ii(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Zm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var eo=Math.random().toString(36).slice(2),nr="__reactFiber$"+eo,Ca="__reactProps$"+eo,Rr="__reactContainer$"+eo,Nh="__reactEvents$"+eo,gT="__reactListeners$"+eo,yT="__reactHandles$"+eo;function Yi(r){var s=r[nr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Rr]||a[nr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Zm(r);r!==null;){if(a=r[nr])return a;r=Zm(r)}return s}r=a,a=r.parentNode}return null}function Ia(r){return r=r[nr]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function to(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function fu(r){return r[Ca]||null}var bh=[],no=-1;function si(r){return{current:r}}function Ye(r){0>no||(r.current=bh[no],bh[no]=null,no--)}function Ge(r,s){no++,bh[no]=r.current,r.current=s}var oi={},Bt=si(oi),tn=si(!1),Xi=oi;function ro(r,s){var a=r.type.contextTypes;if(!a)return oi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function nn(r){return r=r.childContextTypes,r!=null}function du(){Ye(tn),Ye(Bt)}function eg(r,s,a){if(Bt.current!==oi)throw Error(n(168));Ge(Bt,s),Ge(tn,a)}function tg(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(n(108,Ue(r)||"Unknown",p));return oe({},a,h)}function pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||oi,Xi=Bt.current,Ge(Bt,r),Ge(tn,tn.current),!0}function ng(r,s,a){var h=r.stateNode;if(!h)throw Error(n(169));a?(r=tg(r,s,Xi),h.__reactInternalMemoizedMergedChildContext=r,Ye(tn),Ye(Bt),Ge(Bt,r)):Ye(tn),Ge(tn,a)}var Vr=null,mu=!1,Mh=!1;function rg(r){Vr===null?Vr=[r]:Vr.push(r)}function vT(r){mu=!0,rg(r)}function ai(){if(!Mh&&Vr!==null){Mh=!0;var r=0,s=be;try{var a=Vr;for(be=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Vr=null,mu=!1}catch(p){throw Vr!==null&&(Vr=Vr.slice(r+1)),Ls(zi,ai),p}finally{be=s,Mh=!1}}return null}var io=[],so=0,gu=null,yu=0,xn=[],Sn=0,Ji=null,Dr=1,Nr="";function Zi(r,s){io[so++]=yu,io[so++]=gu,gu=r,yu=s}function ig(r,s,a){xn[Sn++]=Dr,xn[Sn++]=Nr,xn[Sn++]=Ji,Ji=r;var h=Dr;r=Nr;var p=32-Gt(h)-1;h&=~(1<<p),a+=1;var y=32-Gt(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Dr=1<<32-Gt(s)+p|a<<p|h,Nr=y+r}else Dr=1<<y|a<<p|h,Nr=r}function Lh(r){r.return!==null&&(Zi(r,1),ig(r,1,0))}function Oh(r){for(;r===gu;)gu=io[--so],io[so]=null,yu=io[--so],io[so]=null;for(;r===Ji;)Ji=xn[--Sn],xn[Sn]=null,Nr=xn[--Sn],xn[Sn]=null,Dr=xn[--Sn],xn[Sn]=null}var mn=null,gn=null,Ze=!1,$n=null;function sg(r,s){var a=Pn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function og(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=ii(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ji!==null?{id:Dr,overflow:Nr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Pn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,mn=r,gn=null,!0):!1;default:return!1}}function jh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fh(r){if(Ze){var s=gn;if(s){var a=s;if(!og(r,s)){if(jh(r))throw Error(n(418));s=ii(a.nextSibling);var h=mn;s&&og(r,s)?sg(h,a):(r.flags=r.flags&-4097|2,Ze=!1,mn=r)}}else{if(jh(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ze=!1,mn=r}}}function ag(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function vu(r){if(r!==mn)return!1;if(!Ze)return ag(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Rh(r.type,r.memoizedProps)),s&&(s=gn)){if(jh(r))throw lg(),Error(n(418));for(;s;)sg(r,s),s=ii(s.nextSibling)}if(ag(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){gn=ii(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?ii(r.stateNode.nextSibling):null;return!0}function lg(){for(var r=gn;r;)r=ii(r.nextSibling)}function oo(){gn=mn=null,Ze=!1}function Bh(r){$n===null?$n=[r]:$n.push(r)}var _T=re.ReactCurrentBatchConfig;function Pa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var h=a.stateNode}if(!h)throw Error(n(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var k=p.refs;T===null?delete k[y]:k[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function _u(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ug(r){var s=r._init;return s(r._payload)}function cg(r){function s($,O){if(r){var H=$.deletions;H===null?($.deletions=[O],$.flags|=16):H.push(O)}}function a($,O){if(!r)return null;for(;O!==null;)s($,O),O=O.sibling;return null}function h($,O){for($=new Map;O!==null;)O.key!==null?$.set(O.key,O):$.set(O.index,O),O=O.sibling;return $}function p($,O){return $=mi($,O),$.index=0,$.sibling=null,$}function y($,O,H){return $.index=H,r?(H=$.alternate,H!==null?(H=H.index,H<O?($.flags|=2,O):H):($.flags|=2,O)):($.flags|=1048576,O)}function T($){return r&&$.alternate===null&&($.flags|=2),$}function k($,O,H,ie){return O===null||O.tag!==6?(O=Df(H,$.mode,ie),O.return=$,O):(O=p(O,H),O.return=$,O)}function N($,O,H,ie){var pe=H.type;return pe===V?ee($,O,H.props.children,ie,H.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ne&&ug(pe)===O.type)?(ie=p(O,H.props),ie.ref=Pa($,O,H),ie.return=$,ie):(ie=$u(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Pa($,O,H),ie.return=$,ie)}function W($,O,H,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Nf(H,$.mode,ie),O.return=$,O):(O=p(O,H.children||[]),O.return=$,O)}function ee($,O,H,ie,pe){return O===null||O.tag!==7?(O=as(H,$.mode,ie,pe),O.return=$,O):(O=p(O,H),O.return=$,O)}function te($,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Df(""+O,$.mode,H),O.return=$,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ne:return H=$u(O.type,O.key,O.props,null,$.mode,H),H.ref=Pa($,null,O),H.return=$,H;case ae:return O=Nf(O,$.mode,H),O.return=$,O;case Ne:var ie=O._init;return te($,ie(O._payload),H)}if(Er(O)||le(O))return O=as(O,$.mode,H,null),O.return=$,O;_u($,O)}return null}function J($,O,H,ie){var pe=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return pe!==null?null:k($,O,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:return H.key===pe?N($,O,H,ie):null;case ae:return H.key===pe?W($,O,H,ie):null;case Ne:return pe=H._init,J($,O,pe(H._payload),ie)}if(Er(H)||le(H))return pe!==null?null:ee($,O,H,ie,null);_u($,H)}return null}function ue($,O,H,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(H)||null,k(O,$,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return $=$.get(ie.key===null?H:ie.key)||null,N(O,$,ie,pe);case ae:return $=$.get(ie.key===null?H:ie.key)||null,W(O,$,ie,pe);case Ne:var ve=ie._init;return ue($,O,H,ve(ie._payload),pe)}if(Er(ie)||le(ie))return $=$.get(H)||null,ee(O,$,ie,pe,null);_u(O,ie)}return null}function fe($,O,H,ie){for(var pe=null,ve=null,_e=O,xe=O=0,Rt=null;_e!==null&&xe<H.length;xe++){_e.index>xe?(Rt=_e,_e=null):Rt=_e.sibling;var Be=J($,_e,H[xe],ie);if(Be===null){_e===null&&(_e=Rt);break}r&&_e&&Be.alternate===null&&s($,_e),O=y(Be,O,xe),ve===null?pe=Be:ve.sibling=Be,ve=Be,_e=Rt}if(xe===H.length)return a($,_e),Ze&&Zi($,xe),pe;if(_e===null){for(;xe<H.length;xe++)_e=te($,H[xe],ie),_e!==null&&(O=y(_e,O,xe),ve===null?pe=_e:ve.sibling=_e,ve=_e);return Ze&&Zi($,xe),pe}for(_e=h($,_e);xe<H.length;xe++)Rt=ue(_e,$,xe,H[xe],ie),Rt!==null&&(r&&Rt.alternate!==null&&_e.delete(Rt.key===null?xe:Rt.key),O=y(Rt,O,xe),ve===null?pe=Rt:ve.sibling=Rt,ve=Rt);return r&&_e.forEach(function(gi){return s($,gi)}),Ze&&Zi($,xe),pe}function de($,O,H,ie){var pe=le(H);if(typeof pe!="function")throw Error(n(150));if(H=pe.call(H),H==null)throw Error(n(151));for(var ve=pe=null,_e=O,xe=O=0,Rt=null,Be=H.next();_e!==null&&!Be.done;xe++,Be=H.next()){_e.index>xe?(Rt=_e,_e=null):Rt=_e.sibling;var gi=J($,_e,Be.value,ie);if(gi===null){_e===null&&(_e=Rt);break}r&&_e&&gi.alternate===null&&s($,_e),O=y(gi,O,xe),ve===null?pe=gi:ve.sibling=gi,ve=gi,_e=Rt}if(Be.done)return a($,_e),Ze&&Zi($,xe),pe;if(_e===null){for(;!Be.done;xe++,Be=H.next())Be=te($,Be.value,ie),Be!==null&&(O=y(Be,O,xe),ve===null?pe=Be:ve.sibling=Be,ve=Be);return Ze&&Zi($,xe),pe}for(_e=h($,_e);!Be.done;xe++,Be=H.next())Be=ue(_e,$,xe,Be.value,ie),Be!==null&&(r&&Be.alternate!==null&&_e.delete(Be.key===null?xe:Be.key),O=y(Be,O,xe),ve===null?pe=Be:ve.sibling=Be,ve=Be);return r&&_e.forEach(function(JT){return s($,JT)}),Ze&&Zi($,xe),pe}function ct($,O,H,ie){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:e:{for(var pe=H.key,ve=O;ve!==null;){if(ve.key===pe){if(pe=H.type,pe===V){if(ve.tag===7){a($,ve.sibling),O=p(ve,H.props.children),O.return=$,$=O;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ne&&ug(pe)===ve.type){a($,ve.sibling),O=p(ve,H.props),O.ref=Pa($,ve,H),O.return=$,$=O;break e}a($,ve);break}else s($,ve);ve=ve.sibling}H.type===V?(O=as(H.props.children,$.mode,ie,H.key),O.return=$,$=O):(ie=$u(H.type,H.key,H.props,null,$.mode,ie),ie.ref=Pa($,O,H),ie.return=$,$=ie)}return T($);case ae:e:{for(ve=H.key;O!==null;){if(O.key===ve)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a($,O.sibling),O=p(O,H.children||[]),O.return=$,$=O;break e}else{a($,O);break}else s($,O);O=O.sibling}O=Nf(H,$.mode,ie),O.return=$,$=O}return T($);case Ne:return ve=H._init,ct($,O,ve(H._payload),ie)}if(Er(H))return fe($,O,H,ie);if(le(H))return de($,O,H,ie);_u($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,O!==null&&O.tag===6?(a($,O.sibling),O=p(O,H),O.return=$,$=O):(a($,O),O=Df(H,$.mode,ie),O.return=$,$=O),T($)):a($,O)}return ct}var ao=cg(!0),hg=cg(!1),wu=si(null),Eu=null,lo=null,Uh=null;function zh(){Uh=lo=Eu=null}function $h(r){var s=wu.current;Ye(wu),r._currentValue=s}function Hh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function uo(r,s){Eu=r,Uh=lo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(rn=!0),r.firstContext=null)}function An(r){var s=r._currentValue;if(Uh!==r)if(r={context:r,memoizedValue:s,next:null},lo===null){if(Eu===null)throw Error(n(308));lo=r,Eu.dependencies={lanes:0,firstContext:r}}else lo=lo.next=r;return s}var es=null;function Wh(r){es===null?es=[r]:es.push(r)}function fg(r,s,a,h){var p=s.interleaved;return p===null?(a.next=a,Wh(s)):(a.next=p.next,p.next=a),s.interleaved=a,br(r,h)}function br(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var li=!1;function qh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ui(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Fe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,br(r,a)}return p=h.interleaved,p===null?(s.next=s,Wh(h)):(s.next=p.next,p.next=s),h.interleaved=s,br(r,a)}function Tu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Jr(r,a)}}function pg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var T={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=T:y=y.next=T,a=a.next}while(a!==null);y===null?p=y=s:y=y.next=s}else p=y=s;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function xu(r,s,a,h){var p=r.updateQueue;li=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var N=k,W=N.next;N.next=null,T===null?y=W:T.next=W,T=N;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==T&&(k===null?ee.firstBaseUpdate=W:k.next=W,ee.lastBaseUpdate=N))}if(y!==null){var te=p.baseState;T=0,ee=W=N=null,k=y;do{var J=k.lane,ue=k.eventTime;if((h&J)===J){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var fe=r,de=k;switch(J=s,ue=a,de.tag){case 1:if(fe=de.payload,typeof fe=="function"){te=fe.call(ue,te,J);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=de.payload,J=typeof fe=="function"?fe.call(ue,te,J):fe,J==null)break e;te=oe({},te,J);break e;case 2:li=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,J=p.effects,J===null?p.effects=[k]:J.push(k))}else ue={eventTime:ue,lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(W=ee=ue,N=te):ee=ee.next=ue,T|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;J=k,k=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(ee===null&&(N=te),p.baseState=N,p.firstBaseUpdate=W,p.lastBaseUpdate=ee,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);rs|=T,r.lanes=T,r.memoizedState=te}}function mg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(n(191,p));p.call(h)}}}var ka={},rr=si(ka),Ra=si(ka),Va=si(ka);function ts(r){if(r===ka)throw Error(n(174));return r}function Kh(r,s){switch(Ge(Va,s),Ge(Ra,r),Ge(rr,ka),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_t(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=_t(s,r)}Ye(rr),Ge(rr,s)}function co(){Ye(rr),Ye(Ra),Ye(Va)}function gg(r){ts(Va.current);var s=ts(rr.current),a=_t(s,r.type);s!==a&&(Ge(Ra,r),Ge(rr,a))}function Gh(r){Ra.current===r&&(Ye(rr),Ye(Ra))}var tt=si(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qh=[];function Yh(){for(var r=0;r<Qh.length;r++)Qh[r]._workInProgressVersionPrimary=null;Qh.length=0}var Au=re.ReactCurrentDispatcher,Xh=re.ReactCurrentBatchConfig,ns=0,nt=null,Et=null,Pt=null,Cu=!1,Da=!1,Na=0,wT=0;function Ut(){throw Error(n(321))}function Jh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!zn(r[a],s[a]))return!1;return!0}function Zh(r,s,a,h,p,y){if(ns=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Au.current=r===null||r.memoizedState===null?ST:AT,r=a(h,p),Da){y=0;do{if(Da=!1,Na=0,25<=y)throw Error(n(301));y+=1,Pt=Et=null,s.updateQueue=null,Au.current=CT,r=a(h,p)}while(Da)}if(Au.current=ku,s=Et!==null&&Et.next!==null,ns=0,Pt=Et=nt=null,Cu=!1,s)throw Error(n(300));return r}function ef(){var r=Na!==0;return Na=0,r}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function Cn(){if(Et===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var s=Pt===null?nt.memoizedState:Pt.next;if(s!==null)Pt=s,Et=r;else{if(r===null)throw Error(n(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Pt===null?nt.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function ba(r,s){return typeof s=="function"?s(r):s}function tf(r){var s=Cn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=Et,p=h.baseQueue,y=a.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,h=h.baseState;var k=T=null,N=null,W=y;do{var ee=W.lane;if((ns&ee)===ee)N!==null&&(N=N.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var te={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};N===null?(k=N=te,T=h):N=N.next=te,nt.lanes|=ee,rs|=ee}W=W.next}while(W!==null&&W!==y);N===null?T=h:N.next=k,zn(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=N,a.lastRenderedState=h}if(r=a.interleaved,r!==null){p=r;do y=p.lane,nt.lanes|=y,rs|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function nf(r){var s=Cn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=a.dispatch,p=a.pending,y=s.memoizedState;if(p!==null){a.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);zn(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function yg(){}function vg(r,s){var a=nt,h=Cn(),p=s(),y=!zn(h.memoizedState,p);if(y&&(h.memoizedState=p,rn=!0),h=h.queue,rf(Eg.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,Ma(9,wg.bind(null,a,h,p,s),void 0,null),kt===null)throw Error(n(349));(ns&30)!==0||_g(a,s,p)}return p}function _g(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function wg(r,s,a,h){s.value=a,s.getSnapshot=h,Tg(s)&&xg(r)}function Eg(r,s,a){return a(function(){Tg(s)&&xg(r)})}function Tg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!zn(r,a)}catch{return!0}}function xg(r){var s=br(r,1);s!==null&&Kn(s,r,1,-1)}function Sg(r){var s=ir();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:r},s.queue=r,r=r.dispatch=xT.bind(null,nt,r),[s.memoizedState,r]}function Ma(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Ag(){return Cn().memoizedState}function Iu(r,s,a,h){var p=ir();nt.flags|=r,p.memoizedState=Ma(1|s,a,void 0,h===void 0?null:h)}function Pu(r,s,a,h){var p=Cn();h=h===void 0?null:h;var y=void 0;if(Et!==null){var T=Et.memoizedState;if(y=T.destroy,h!==null&&Jh(h,T.deps)){p.memoizedState=Ma(s,a,y,h);return}}nt.flags|=r,p.memoizedState=Ma(1|s,a,y,h)}function Cg(r,s){return Iu(8390656,8,r,s)}function rf(r,s){return Pu(2048,8,r,s)}function Ig(r,s){return Pu(4,2,r,s)}function Pg(r,s){return Pu(4,4,r,s)}function kg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Rg(r,s,a){return a=a!=null?a.concat([r]):null,Pu(4,4,kg.bind(null,s,r),a)}function sf(){}function Vg(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Jh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Dg(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Jh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Ng(r,s,a){return(ns&21)===0?(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a):(zn(a,s)||(a=Wi(),nt.lanes|=a,rs|=a,r.baseState=!0),s)}function ET(r,s){var a=be;be=a!==0&&4>a?a:4,r(!0);var h=Xh.transition;Xh.transition={};try{r(!1),s()}finally{be=a,Xh.transition=h}}function bg(){return Cn().memoizedState}function TT(r,s,a){var h=di(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Mg(r))Lg(s,a);else if(a=fg(r,s,a,h),a!==null){var p=Xt();Kn(a,r,h,p),Og(a,s,h)}}function xT(r,s,a){var h=di(r),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mg(r))Lg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,k=y(T,a);if(p.hasEagerState=!0,p.eagerState=k,zn(k,T)){var N=s.interleaved;N===null?(p.next=p,Wh(s)):(p.next=N.next,N.next=p),s.interleaved=p;return}}catch{}finally{}a=fg(r,s,p,h),a!==null&&(p=Xt(),Kn(a,r,h,p),Og(a,s,h))}}function Mg(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function Lg(r,s){Da=Cu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Og(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Jr(r,a)}}var ku={readContext:An,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},ST={readContext:An,useCallback:function(r,s){return ir().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:Cg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Iu(4194308,4,kg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Iu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Iu(4,2,r,s)},useMemo:function(r,s){var a=ir();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=ir();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=TT.bind(null,nt,r),[h.memoizedState,r]},useRef:function(r){var s=ir();return r={current:r},s.memoizedState=r},useState:Sg,useDebugValue:sf,useDeferredValue:function(r){return ir().memoizedState=r},useTransition:function(){var r=Sg(!1),s=r[0];return r=ET.bind(null,r[1]),ir().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=nt,p=ir();if(Ze){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),kt===null)throw Error(n(349));(ns&30)!==0||_g(h,s,a)}p.memoizedState=a;var y={value:a,getSnapshot:s};return p.queue=y,Cg(Eg.bind(null,h,y,r),[r]),h.flags|=2048,Ma(9,wg.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=ir(),s=kt.identifierPrefix;if(Ze){var a=Nr,h=Dr;a=(h&~(1<<32-Gt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Na++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=wT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},AT={readContext:An,useCallback:Vg,useContext:An,useEffect:rf,useImperativeHandle:Rg,useInsertionEffect:Ig,useLayoutEffect:Pg,useMemo:Dg,useReducer:tf,useRef:Ag,useState:function(){return tf(ba)},useDebugValue:sf,useDeferredValue:function(r){var s=Cn();return Ng(s,Et.memoizedState,r)},useTransition:function(){var r=tf(ba)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:vg,useId:bg,unstable_isNewReconciler:!1},CT={readContext:An,useCallback:Vg,useContext:An,useEffect:rf,useImperativeHandle:Rg,useInsertionEffect:Ig,useLayoutEffect:Pg,useMemo:Dg,useReducer:nf,useRef:Ag,useState:function(){return nf(ba)},useDebugValue:sf,useDeferredValue:function(r){var s=Cn();return Et===null?s.memoizedState=r:Ng(s,Et.memoizedState,r)},useTransition:function(){var r=nf(ba)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:vg,useId:bg,unstable_isNewReconciler:!1};function Hn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function of(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ru={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Xt(),p=di(r),y=Mr(h,p);y.payload=s,a!=null&&(y.callback=a),s=ui(r,y,p),s!==null&&(Kn(s,r,p,h),Tu(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Xt(),p=di(r),y=Mr(h,p);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=ui(r,y,p),s!==null&&(Kn(s,r,p,h),Tu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Xt(),h=di(r),p=Mr(a,h);p.tag=2,s!=null&&(p.callback=s),s=ui(r,p,h),s!==null&&(Kn(s,r,h,a),Tu(s,r,h))}};function jg(r,s,a,h,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ea(a,h)||!Ea(p,y):!0}function Fg(r,s,a){var h=!1,p=oi,y=s.contextType;return typeof y=="object"&&y!==null?y=An(y):(p=nn(s)?Xi:Bt.current,h=s.contextTypes,y=(h=h!=null)?ro(r,p):oi),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ru,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Bg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Ru.enqueueReplaceState(s,s.state,null)}function af(r,s,a,h){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},qh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=An(y):(y=nn(s)?Xi:Bt.current,p.context=ro(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(of(r,s,y,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ru.enqueueReplaceState(p,p.state,null),xu(r,a,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function ho(r,s){try{var a="",h=s;do a+=ke(h),h=h.return;while(h);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function lf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function uf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var IT=typeof WeakMap=="function"?WeakMap:Map;function Ug(r,s,a){a=Mr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Ou||(Ou=!0,Sf=h),uf(r,s)},a}function zg(r,s,a){a=Mr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;a.payload=function(){return h(p)},a.callback=function(){uf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){uf(r,s),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),a}function $g(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new IT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(a)||(p.add(a),r=UT.bind(null,r,s,a),s.then(r,r))}function Hg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Wg(r,s,a,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Mr(-1,1),s.tag=2,ui(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var PT=re.ReactCurrentOwner,rn=!1;function Yt(r,s,a,h){s.child=r===null?hg(s,null,a,h):ao(s,r.child,a,h)}function qg(r,s,a,h,p){a=a.render;var y=s.ref;return uo(s,p),h=Zh(r,s,a,h,y,p),a=ef(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Lr(r,s,p)):(Ze&&a&&Lh(s),s.flags|=1,Yt(r,s,h,p),s.child)}function Kg(r,s,a,h,p){if(r===null){var y=a.type;return typeof y=="function"&&!Vf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,Gg(r,s,y,h,p)):(r=$u(a.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var T=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ea,a(T,h)&&r.ref===s.ref)return Lr(r,s,p)}return s.flags|=1,r=mi(y,h),r.ref=s.ref,r.return=s,s.child=r}function Gg(r,s,a,h,p){if(r!==null){var y=r.memoizedProps;if(Ea(y,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(rn=!0);else return s.lanes=r.lanes,Lr(r,s,p)}return cf(r,s,a,h,p)}function Qg(r,s,a){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(po,yn),yn|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ge(po,yn),yn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,Ge(po,yn),yn|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,Ge(po,yn),yn|=h;return Yt(r,s,p,a),s.child}function Yg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function cf(r,s,a,h,p){var y=nn(a)?Xi:Bt.current;return y=ro(s,y),uo(s,p),a=Zh(r,s,a,h,y,p),h=ef(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Lr(r,s,p)):(Ze&&h&&Lh(s),s.flags|=1,Yt(r,s,a,p),s.child)}function Xg(r,s,a,h,p){if(nn(a)){var y=!0;pu(s)}else y=!1;if(uo(s,p),s.stateNode===null)Du(r,s),Fg(s,a,h),af(s,a,h,p),h=!0;else if(r===null){var T=s.stateNode,k=s.memoizedProps;T.props=k;var N=T.context,W=a.contextType;typeof W=="object"&&W!==null?W=An(W):(W=nn(a)?Xi:Bt.current,W=ro(s,W));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==h||N!==W)&&Bg(s,T,h,W),li=!1;var J=s.memoizedState;T.state=J,xu(s,h,T,p),N=s.memoizedState,k!==h||J!==N||tn.current||li?(typeof ee=="function"&&(of(s,a,ee,h),N=s.memoizedState),(k=li||jg(s,a,k,h,J,N,W))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=N),T.props=h,T.state=N,T.context=W,h=k):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,dg(r,s),k=s.memoizedProps,W=s.type===s.elementType?k:Hn(s.type,k),T.props=W,te=s.pendingProps,J=T.context,N=a.contextType,typeof N=="object"&&N!==null?N=An(N):(N=nn(a)?Xi:Bt.current,N=ro(s,N));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==te||J!==N)&&Bg(s,T,h,N),li=!1,J=s.memoizedState,T.state=J,xu(s,h,T,p);var fe=s.memoizedState;k!==te||J!==fe||tn.current||li?(typeof ue=="function"&&(of(s,a,ue,h),fe=s.memoizedState),(W=li||jg(s,a,W,h,J,fe,N)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,fe,N),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,fe,N)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=fe),T.props=h,T.state=fe,T.context=N,h=W):(typeof T.componentDidUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return hf(r,s,a,h,y,p)}function hf(r,s,a,h,p,y){Yg(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&ng(s,a,!1),Lr(r,s,y);h=s.stateNode,PT.current=s;var k=T&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=ao(s,r.child,null,y),s.child=ao(s,null,k,y)):Yt(r,s,k,y),s.memoizedState=h.state,p&&ng(s,a,!0),s.child}function Jg(r){var s=r.stateNode;s.pendingContext?eg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&eg(r,s.context,!1),Kh(r,s.containerInfo)}function Zg(r,s,a,h,p){return oo(),Bh(p),s.flags|=256,Yt(r,s,a,h),s.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function df(r){return{baseLanes:r,cachePool:null,transitions:null}}function ey(r,s,a){var h=s.pendingProps,p=tt.current,y=!1,T=(s.flags&128)!==0,k;if((k=T)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ge(tt,p&1),r===null)return Fh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Hu(T,h,0,null),r=as(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=df(a),s.memoizedState=ff,r):pf(s,T));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return kT(r,s,T,h,k,p,a);if(y){y=h.fallback,T=s.mode,p=r.child,k=p.sibling;var N={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=N,s.deletions=null):(h=mi(p,N),h.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=mi(k,y):(y=as(y,T,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=r.child.memoizedState,T=T===null?df(a):{baseLanes:T.baseLanes|a,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~a,s.memoizedState=ff,h}return y=r.child,r=y.sibling,h=mi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function pf(r,s){return s=Hu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Vu(r,s,a,h){return h!==null&&Bh(h),ao(s,r.child,null,a),r=pf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function kT(r,s,a,h,p,y,T){if(a)return s.flags&256?(s.flags&=-257,h=lf(Error(n(422))),Vu(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=Hu({mode:"visible",children:h.children},p,0,null),y=as(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&ao(s,r.child,null,T),s.child.memoizedState=df(T),s.memoizedState=ff,y);if((s.mode&1)===0)return Vu(r,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(n(419)),h=lf(y,h,void 0),Vu(r,s,T,h)}if(k=(T&r.childLanes)!==0,rn||k){if(h=kt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,br(r,p),Kn(h,r,p,-1))}return Rf(),h=lf(Error(n(421))),Vu(r,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=zT.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,gn=ii(p.nextSibling),mn=s,Ze=!0,$n=null,r!==null&&(xn[Sn++]=Dr,xn[Sn++]=Nr,xn[Sn++]=Ji,Dr=r.id,Nr=r.overflow,Ji=s),s=pf(s,h.children),s.flags|=4096,s)}function ty(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Hh(r.return,s,a)}function mf(r,s,a,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=p)}function ny(r,s,a){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Yt(r,s,h.children,a),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ty(r,a,s);else if(r.tag===19)ty(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ge(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&Su(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),mf(s,!1,p,a,y);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Su(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}mf(s,!0,a,null,y);break;case"together":mf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Du(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Lr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),rs|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=mi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=mi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function RT(r,s,a){switch(s.tag){case 3:Jg(s),oo();break;case 5:gg(s);break;case 1:nn(s.type)&&pu(s);break;case 4:Kh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ge(wu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ge(tt,tt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?ey(r,s,a):(Ge(tt,tt.current&1),r=Lr(r,s,a),r!==null?r.sibling:null);Ge(tt,tt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return ny(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ge(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Qg(r,s,a)}return Lr(r,s,a)}var ry,gf,iy,sy;ry=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},gf=function(){},iy=function(r,s,a,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,ts(rr.current);var y=null;switch(a){case"input":p=bi(r,p),h=bi(r,h),y=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":p=Yo(r,p),h=Yo(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=hu)}na(a,h);var T;a=null;for(W in p)if(!h.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var k=p[W];for(T in k)k.hasOwnProperty(T)&&(a||(a={}),a[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in h){var N=h[W];if(k=p?.[W],h.hasOwnProperty(W)&&N!==k&&(N!=null||k!=null))if(W==="style")if(k){for(T in k)!k.hasOwnProperty(T)||N&&N.hasOwnProperty(T)||(a||(a={}),a[T]="");for(T in N)N.hasOwnProperty(T)&&k[T]!==N[T]&&(a||(a={}),a[T]=N[T])}else a||(y||(y=[]),y.push(W,a)),a=N;else W==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,k=k?k.__html:void 0,N!=null&&k!==N&&(y=y||[]).push(W,N)):W==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(W,""+N):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(N!=null&&W==="onScroll"&&Qe("scroll",r),y||k===N||(y=[])):(y=y||[]).push(W,N))}a&&(y=y||[]).push("style",a);var W=y;(s.updateQueue=W)&&(s.flags|=4)}},sy=function(r,s,a,h){a!==h&&(s.flags|=4)};function La(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function VT(r,s,a){var h=s.pendingProps;switch(Oh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return nn(s.type)&&du(),zt(s),null;case 3:return h=s.stateNode,co(),Ye(tn),Ye(Bt),Yh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$n!==null&&(If($n),$n=null))),gf(r,s),zt(s),null;case 5:Gh(s);var p=ts(Va.current);if(a=s.type,r!==null&&s.stateNode!=null)iy(r,s,a,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return zt(s),null}if(r=ts(rr.current),vu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[nr]=s,h[Ca]=y,r=(s.mode&1)!==0,a){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(p=0;p<xa.length;p++)Qe(xa[p],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":As(h,y),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Qe("invalid",h);break;case"textarea":Is(h,y),Qe("invalid",h)}na(a,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var k=y[T];T==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&cu(h.textContent,k,r),p=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&cu(h.textContent,k,r),p=["children",""+k]):o.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Qe("scroll",h)}switch(a){case"input":wr(h),Ll(h,y,!0);break;case"textarea":wr(h),Xo(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=hu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(a,{is:h.is}):(r=T.createElement(a),a==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,a),r[nr]=s,r[Ca]=h,ry(r,s,!1,!1),s.stateNode=r;e:{switch(T=ra(a,h),a){case"dialog":Qe("cancel",r),Qe("close",r),p=h;break;case"iframe":case"object":case"embed":Qe("load",r),p=h;break;case"video":case"audio":for(p=0;p<xa.length;p++)Qe(xa[p],r);p=h;break;case"source":Qe("error",r),p=h;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),p=h;break;case"details":Qe("toggle",r),p=h;break;case"input":As(r,h),p=bi(r,h),Qe("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),Qe("invalid",r);break;case"textarea":Is(r,h),p=Yo(r,h),Qe("invalid",r);break;default:p=h}na(a,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var N=k[y];y==="style"?ea(r,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Jo(r,N)):y==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Kr(r,N):typeof N=="number"&&Kr(r,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Qe("scroll",r):N!=null&&q(r,y,N,T))}switch(a){case"input":wr(r),Ll(r,h,!1);break;case"textarea":wr(r),Xo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ze(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Tr(r,!!h.multiple,y,!1):h.defaultValue!=null&&Tr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=hu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(r&&s.stateNode!=null)sy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(a=ts(Va.current),ts(rr.current),vu(s)){if(h=s.stateNode,a=s.memoizedProps,h[nr]=s,(y=h.nodeValue!==a)&&(r=mn,r!==null))switch(r.tag){case 3:cu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&cu(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[nr]=s,s.stateNode=h}return zt(s),null;case 13:if(Ye(tt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)lg(),oo(),s.flags|=98560,y=!1;else if(y=vu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[nr]=s}else oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),y=!1}else $n!==null&&(If($n),$n=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(tt.current&1)!==0?Tt===0&&(Tt=3):Rf())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return co(),gf(r,s),r===null&&Sa(s.stateNode.containerInfo),zt(s),null;case 10:return $h(s.type._context),zt(s),null;case 17:return nn(s.type)&&du(),zt(s),null;case 19:if(Ye(tt),y=s.memoizedState,y===null)return zt(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)La(y,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Su(r),T!==null){for(s.flags|=128,La(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ge(tt,tt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ke()>mo&&(s.flags|=128,h=!0,La(y,!1),s.lanes=4194304)}else{if(!h)if(r=Su(T),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),La(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ze)return zt(s),null}else 2*Ke()-y.renderingStartTime>mo&&a!==1073741824&&(s.flags|=128,h=!0,La(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(a=y.last,a!==null?a.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ke(),s.sibling=null,a=tt.current,Ge(tt,h?a&1|2:a&1),s):(zt(s),null);case 22:case 23:return kf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(yn&1073741824)!==0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function DT(r,s){switch(Oh(s),s.tag){case 1:return nn(s.type)&&du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return co(),Ye(tn),Ye(Bt),Yh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Gh(s),null;case 13:if(Ye(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));oo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(tt),null;case 4:return co(),null;case 10:return $h(s.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var Nu=!1,$t=!1,NT=typeof WeakSet=="function"?WeakSet:Set,he=null;function fo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){at(r,s,h)}else a.current=null}function yf(r,s,a){try{a()}catch(h){at(r,s,h)}}var oy=!1;function bT(r,s){if(Ph=ti,r=jm(),wh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var T=0,k=-1,N=-1,W=0,ee=0,te=r,J=null;t:for(;;){for(var ue;te!==a||p!==0&&te.nodeType!==3||(k=T+p),te!==y||h!==0&&te.nodeType!==3||(N=T+h),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)J=te,te=ue;for(;;){if(te===r)break t;if(J===a&&++W===p&&(k=T),J===y&&++ee===h&&(N=T),(ue=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ue}a=k===-1||N===-1?null:{start:k,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(kh={focusedElem:r,selectionRange:a},ti=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var de=fe.memoizedProps,ct=fe.memoizedState,$=s.stateNode,O=$.getSnapshotBeforeUpdate(s.elementType===s.type?de:Hn(s.type,de),ct);$.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){at(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return fe=oy,oy=!1,fe}function Oa(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&yf(s,a,y)}p=p.next}while(p!==h)}}function bu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function vf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function ay(r){var s=r.alternate;s!==null&&(r.alternate=null,ay(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[nr],delete s[Ca],delete s[Nh],delete s[gT],delete s[yT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ly(r){return r.tag===5||r.tag===3||r.tag===4}function uy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ly(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _f(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=hu));else if(h!==4&&(r=r.child,r!==null))for(_f(r,s,a),r=r.sibling;r!==null;)_f(r,s,a),r=r.sibling}function wf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(wf(r,s,a),r=r.sibling;r!==null;)wf(r,s,a),r=r.sibling}var bt=null,Wn=!1;function ci(r,s,a){for(a=a.child;a!==null;)cy(r,s,a),a=a.sibling}function cy(r,s,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 5:$t||fo(a,s);case 6:var h=bt,p=Wn;bt=null,ci(r,s,a),bt=h,Wn=p,bt!==null&&(Wn?(r=bt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):bt.removeChild(a.stateNode));break;case 18:bt!==null&&(Wn?(r=bt,a=a.stateNode,r.nodeType===8?Dh(r.parentNode,a):r.nodeType===1&&Dh(r,a),Bn(r)):Dh(bt,a.stateNode));break;case 4:h=bt,p=Wn,bt=a.stateNode.containerInfo,Wn=!0,ci(r,s,a),bt=h,Wn=p;break;case 0:case 11:case 14:case 15:if(!$t&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&yf(a,s,T),p=p.next}while(p!==h)}ci(r,s,a);break;case 1:if(!$t&&(fo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(k){at(a,s,k)}ci(r,s,a);break;case 21:ci(r,s,a);break;case 22:a.mode&1?($t=(h=$t)||a.memoizedState!==null,ci(r,s,a),$t=h):ci(r,s,a);break;default:ci(r,s,a)}}function hy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new NT),s.forEach(function(h){var p=$T.bind(null,r,h);a.has(h)||(a.add(h),h.then(p,p))})}}function qn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var y=r,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 5:bt=k.stateNode,Wn=!1;break e;case 3:bt=k.stateNode.containerInfo,Wn=!0;break e;case 4:bt=k.stateNode.containerInfo,Wn=!0;break e}k=k.return}if(bt===null)throw Error(n(160));cy(y,T,p),bt=null,Wn=!1;var N=p.alternate;N!==null&&(N.return=null),p.return=null}catch(W){at(p,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)fy(s,r),s=s.sibling}function fy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(qn(s,r),sr(r),h&4){try{Oa(3,r,r.return),bu(3,r)}catch(de){at(r,r.return,de)}try{Oa(5,r,r.return)}catch(de){at(r,r.return,de)}}break;case 1:qn(s,r),sr(r),h&512&&a!==null&&fo(a,a.return);break;case 5:if(qn(s,r),sr(r),h&512&&a!==null&&fo(a,a.return),r.flags&32){var p=r.stateNode;try{Kr(p,"")}catch(de){at(r,r.return,de)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,T=a!==null?a.memoizedProps:y,k=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Go(p,y),ra(k,T);var W=ra(k,y);for(T=0;T<N.length;T+=2){var ee=N[T],te=N[T+1];ee==="style"?ea(p,te):ee==="dangerouslySetInnerHTML"?Jo(p,te):ee==="children"?Kr(p,te):q(p,ee,te,W)}switch(k){case"input":Qo(p,y);break;case"textarea":Ps(p,y);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Tr(p,!!y.multiple,ue,!1):J!==!!y.multiple&&(y.defaultValue!=null?Tr(p,!!y.multiple,y.defaultValue,!0):Tr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ca]=y}catch(de){at(r,r.return,de)}}break;case 6:if(qn(s,r),sr(r),h&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(de){at(r,r.return,de)}}break;case 3:if(qn(s,r),sr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Bn(s.containerInfo)}catch(de){at(r,r.return,de)}break;case 4:qn(s,r),sr(r);break;case 13:qn(s,r),sr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(xf=Ke())),h&4&&hy(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?($t=(W=$t)||ee,qn(s,r),$t=W):qn(s,r),sr(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!ee&&(r.mode&1)!==0)for(he=r,ee=r.child;ee!==null;){for(te=he=ee;he!==null;){switch(J=he,ue=J.child,J.tag){case 0:case 11:case 14:case 15:Oa(4,J,J.return);break;case 1:fo(J,J.return);var fe=J.stateNode;if(typeof fe.componentWillUnmount=="function"){h=J,a=J.return;try{s=h,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(de){at(h,a,de)}}break;case 5:fo(J,J.return);break;case 22:if(J.memoizedState!==null){my(te);continue}}ue!==null?(ue.return=J,he=ue):my(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{p=te.stateNode,W?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=te.stateNode,N=te.memoizedProps.style,T=N!=null&&N.hasOwnProperty("display")?N.display:null,k.style.display=Zo("display",T))}catch(de){at(r,r.return,de)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(de){at(r,r.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:qn(s,r),sr(r),h&4&&hy(r);break;case 21:break;default:qn(s,r),sr(r)}}function sr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ly(a)){var h=a;break e}a=a.return}throw Error(n(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Kr(p,""),h.flags&=-33);var y=uy(r);wf(r,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,k=uy(r);_f(r,k,T);break;default:throw Error(n(161))}}catch(N){at(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function MT(r,s,a){he=r,dy(r)}function dy(r,s,a){for(var h=(r.mode&1)!==0;he!==null;){var p=he,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||Nu;if(!T){var k=p.alternate,N=k!==null&&k.memoizedState!==null||$t;k=Nu;var W=$t;if(Nu=T,($t=N)&&!W)for(he=p;he!==null;)T=he,N=T.child,T.tag===22&&T.memoizedState!==null?gy(p):N!==null?(N.return=T,he=N):gy(p);for(;y!==null;)he=y,dy(y),y=y.sibling;he=p,Nu=k,$t=W}py(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,he=y):py(r)}}function py(r){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:$t||bu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!$t)if(a===null)h.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:Hn(s.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&mg(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}mg(s,T,a)}break;case 5:var k=s.stateNode;if(a===null&&s.flags&4){a=k;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Bn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$t||s.flags&512&&vf(s)}catch(J){at(s,s.return,J)}}if(s===r){he=null;break}if(a=s.sibling,a!==null){a.return=s.return,he=a;break}he=s.return}}function my(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var a=s.sibling;if(a!==null){a.return=s.return,he=a;break}he=s.return}}function gy(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{bu(4,s)}catch(N){at(s,a,N)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(N){at(s,p,N)}}var y=s.return;try{vf(s)}catch(N){at(s,y,N)}break;case 5:var T=s.return;try{vf(s)}catch(N){at(s,T,N)}}}catch(N){at(s,s.return,N)}if(s===r){he=null;break}var k=s.sibling;if(k!==null){k.return=s.return,he=k;break}he=s.return}}var LT=Math.ceil,Mu=re.ReactCurrentDispatcher,Ef=re.ReactCurrentOwner,In=re.ReactCurrentBatchConfig,Fe=0,kt=null,pt=null,Mt=0,yn=0,po=si(0),Tt=0,ja=null,rs=0,Lu=0,Tf=0,Fa=null,sn=null,xf=0,mo=1/0,Or=null,Ou=!1,Sf=null,hi=null,ju=!1,fi=null,Fu=0,Ba=0,Af=null,Bu=-1,Uu=0;function Xt(){return(Fe&6)!==0?Ke():Bu!==-1?Bu:Bu=Ke()}function di(r){return(r.mode&1)===0?1:(Fe&2)!==0&&Mt!==0?Mt&-Mt:_T.transition!==null?(Uu===0&&(Uu=Wi()),Uu):(r=be,r!==0||(r=window.event,r=r===void 0?16:pa(r.type)),r)}function Kn(r,s,a,h){if(50<Ba)throw Ba=0,Af=null,Error(n(185));Xr(r,a,h),((Fe&2)===0||r!==kt)&&(r===kt&&((Fe&2)===0&&(Lu|=a),Tt===4&&pi(r,Mt)),on(r,h),a===1&&Fe===0&&(s.mode&1)===0&&(mo=Ke()+500,mu&&ai()))}function on(r,s){var a=r.callbackNode;Ar(r,s);var h=Hi(r,r===kt?Mt:0);if(h===0)a!==null&&ua(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ua(a),s===1)r.tag===0?vT(vy.bind(null,r)):rg(vy.bind(null,r)),pT(function(){(Fe&6)===0&&ai()}),a=null;else{switch(Zr(h)){case 1:a=zi;break;case 4:a=Gr;break;case 16:a=wn;break;case 536870912:a=Ul;break;default:a=wn}a=Cy(a,yy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function yy(r,s){if(Bu=-1,Uu=0,(Fe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(go()&&r.callbackNode!==a)return null;var h=Hi(r,r===kt?Mt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=zu(r,h);else{s=h;var p=Fe;Fe|=2;var y=wy();(kt!==r||Mt!==s)&&(Or=null,mo=Ke()+500,ss(r,s));do try{FT();break}catch(k){_y(r,k)}while(!0);zh(),Mu.current=y,Fe=p,pt!==null?s=0:(kt=null,Mt=0,s=Tt)}if(s!==0){if(s===2&&(p=fn(r),p!==0&&(h=p,s=Cf(r,p))),s===1)throw a=ja,ss(r,0),pi(r,h),on(r,Ke()),a;if(s===6)pi(r,h);else{if(p=r.current.alternate,(h&30)===0&&!OT(p)&&(s=zu(r,h),s===2&&(y=fn(r),y!==0&&(h=y,s=Cf(r,y))),s===1))throw a=ja,ss(r,0),pi(r,h),on(r,Ke()),a;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:os(r,sn,Or);break;case 3:if(pi(r,h),(h&130023424)===h&&(s=xf+500-Ke(),10<s)){if(Hi(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Vh(os.bind(null,r,sn,Or),s);break}os(r,sn,Or);break;case 4:if(pi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var T=31-Gt(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*LT(h/1960))-h,10<h){r.timeoutHandle=Vh(os.bind(null,r,sn,Or),h);break}os(r,sn,Or);break;case 5:os(r,sn,Or);break;default:throw Error(n(329))}}}return on(r,Ke()),r.callbackNode===a?yy.bind(null,r):null}function Cf(r,s){var a=Fa;return r.current.memoizedState.isDehydrated&&(ss(r,s).flags|=256),r=zu(r,s),r!==2&&(s=sn,sn=a,s!==null&&If(s)),r}function If(r){sn===null?sn=r:sn.push.apply(sn,r)}function OT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],y=p.getSnapshot;p=p.value;try{if(!zn(y(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(r,s){for(s&=~Tf,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Gt(s),h=1<<a;r[a]=-1,s&=~h}}function vy(r){if((Fe&6)!==0)throw Error(n(327));go();var s=Hi(r,0);if((s&1)===0)return on(r,Ke()),null;var a=zu(r,s);if(r.tag!==0&&a===2){var h=fn(r);h!==0&&(s=h,a=Cf(r,h))}if(a===1)throw a=ja,ss(r,0),pi(r,s),on(r,Ke()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,os(r,sn,Or),on(r,Ke()),null}function Pf(r,s){var a=Fe;Fe|=1;try{return r(s)}finally{Fe=a,Fe===0&&(mo=Ke()+500,mu&&ai())}}function is(r){fi!==null&&fi.tag===0&&(Fe&6)===0&&go();var s=Fe;Fe|=1;var a=In.transition,h=be;try{if(In.transition=null,be=1,r)return r()}finally{be=h,In.transition=a,Fe=s,(Fe&6)===0&&ai()}}function kf(){yn=po.current,Ye(po)}function ss(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,dT(a)),pt!==null)for(a=pt.return;a!==null;){var h=a;switch(Oh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&du();break;case 3:co(),Ye(tn),Ye(Bt),Yh();break;case 5:Gh(h);break;case 4:co();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:$h(h.type._context);break;case 22:case 23:kf()}a=a.return}if(kt=r,pt=r=mi(r.current,null),Mt=yn=s,Tt=0,ja=null,Tf=Lu=rs=0,sn=Fa=null,es!==null){for(s=0;s<es.length;s++)if(a=es[s],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,y=a.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}a.pending=h}es=null}return r}function _y(r,s){do{var a=pt;try{if(zh(),Au.current=ku,Cu){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Cu=!1}if(ns=0,Pt=Et=nt=null,Da=!1,Na=0,Ef.current=null,a===null||a.return===null){Tt=1,ja=s,pt=null;break}e:{var y=r,T=a.return,k=a,N=s;if(s=Mt,k.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=N,ee=k,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Hg(T);if(ue!==null){ue.flags&=-257,Wg(ue,T,k,y,s),ue.mode&1&&$g(y,W,s),s=ue,N=W;var fe=s.updateQueue;if(fe===null){var de=new Set;de.add(N),s.updateQueue=de}else fe.add(N);break e}else{if((s&1)===0){$g(y,W,s),Rf();break e}N=Error(n(426))}}else if(Ze&&k.mode&1){var ct=Hg(T);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Wg(ct,T,k,y,s),Bh(ho(N,k));break e}}y=N=ho(N,k),Tt!==4&&(Tt=2),Fa===null?Fa=[y]:Fa.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=Ug(y,N,s);pg(y,$);break e;case 1:k=N;var O=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(hi===null||!hi.has(H)))){y.flags|=65536,s&=-s,y.lanes|=s;var ie=zg(y,k,s);pg(y,ie);break e}}y=y.return}while(y!==null)}Ty(a)}catch(pe){s=pe,pt===a&&a!==null&&(pt=a=a.return);continue}break}while(!0)}function wy(){var r=Mu.current;return Mu.current=ku,r===null?ku:r}function Rf(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),kt===null||(rs&268435455)===0&&(Lu&268435455)===0||pi(kt,Mt)}function zu(r,s){var a=Fe;Fe|=2;var h=wy();(kt!==r||Mt!==s)&&(Or=null,ss(r,s));do try{jT();break}catch(p){_y(r,p)}while(!0);if(zh(),Fe=a,Mu.current=h,pt!==null)throw Error(n(261));return kt=null,Mt=0,Tt}function jT(){for(;pt!==null;)Ey(pt)}function FT(){for(;pt!==null&&!Fl();)Ey(pt)}function Ey(r){var s=Ay(r.alternate,r,yn);r.memoizedProps=r.pendingProps,s===null?Ty(r):pt=s,Ef.current=null}function Ty(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=VT(a,s,yn),a!==null){pt=a;return}}else{if(a=DT(a,s),a!==null){a.flags&=32767,pt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Tt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);Tt===0&&(Tt=5)}function os(r,s,a){var h=be,p=In.transition;try{In.transition=null,be=1,BT(r,s,a,h)}finally{In.transition=p,be=h}return null}function BT(r,s,a,h){do go();while(fi!==null);if((Fe&6)!==0)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(We(r,y),r===kt&&(pt=kt=null,Mt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ju||(ju=!0,Cy(wn,function(){return go(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=In.transition,In.transition=null;var T=be;be=1;var k=Fe;Fe|=4,Ef.current=null,bT(r,a),fy(a,r),oT(kh),ti=!!Ph,kh=Ph=null,r.current=a,MT(a),fh(),Fe=k,be=T,In.transition=y}else r.current=a;if(ju&&(ju=!1,fi=r,Fu=p),y=r.pendingLanes,y===0&&(hi=null),zl(a.stateNode),on(r,Ke()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(Ou)throw Ou=!1,r=Sf,Sf=null,r;return(Fu&1)!==0&&r.tag!==0&&go(),y=r.pendingLanes,(y&1)!==0?r===Af?Ba++:(Ba=0,Af=r):Ba=0,ai(),null}function go(){if(fi!==null){var r=Zr(Fu),s=In.transition,a=be;try{if(In.transition=null,be=16>r?16:r,fi===null)var h=!1;else{if(r=fi,fi=null,Fu=0,(Fe&6)!==0)throw Error(n(331));var p=Fe;for(Fe|=4,he=r.current;he!==null;){var y=he,T=y.child;if((he.flags&16)!==0){var k=y.deletions;if(k!==null){for(var N=0;N<k.length;N++){var W=k[N];for(he=W;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Oa(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var J=ee.sibling,ue=ee.return;if(ay(ee),ee===W){he=null;break}if(J!==null){J.return=ue,he=J;break}he=ue}}}var fe=y.alternate;if(fe!==null){var de=fe.child;if(de!==null){fe.child=null;do{var ct=de.sibling;de.sibling=null,de=ct}while(de!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,he=T;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Oa(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,he=$;break e}he=y.return}}var O=r.current;for(he=O;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=O;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:bu(9,k)}}catch(pe){at(k,k.return,pe)}if(k===T){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(Fe=p,ai(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot($i,r)}catch{}h=!0}return h}finally{be=a,In.transition=s}}return!1}function xy(r,s,a){s=ho(a,s),s=Ug(r,s,1),r=ui(r,s,1),s=Xt(),r!==null&&(Xr(r,1,s),on(r,s))}function at(r,s,a){if(r.tag===3)xy(r,r,a);else for(;s!==null;){if(s.tag===3){xy(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(hi===null||!hi.has(h))){r=ho(a,r),r=zg(s,r,1),s=ui(s,r,1),r=Xt(),s!==null&&(Xr(s,1,r),on(s,r));break}}s=s.return}}function UT(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&a,kt===r&&(Mt&a)===a&&(Tt===4||Tt===3&&(Mt&130023424)===Mt&&500>Ke()-xf?ss(r,0):Tf|=a),on(r,s)}function Sy(r,s){s===0&&((r.mode&1)===0?s=1:(s=js,js<<=1,(js&130023424)===0&&(js=4194304)));var a=Xt();r=br(r,s),r!==null&&(Xr(r,s,a),on(r,a))}function zT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Sy(r,a)}function $T(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),Sy(r,a)}var Ay;Ay=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return rn=!1,RT(r,s,a);rn=(r.flags&131072)!==0}else rn=!1,Ze&&(s.flags&1048576)!==0&&ig(s,yu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Du(r,s),r=s.pendingProps;var p=ro(s,Bt.current);uo(s,a),p=Zh(null,s,h,r,p,a);var y=ef();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(y=!0,pu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,qh(s),p.updater=Ru,s.stateNode=p,p._reactInternals=s,af(s,h,r,a),s=hf(null,s,h,!0,y,a)):(s.tag=0,Ze&&y&&Lh(s),Yt(null,s,p,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Du(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=WT(h),r=Hn(h,r),p){case 0:s=cf(null,s,h,r,a);break e;case 1:s=Xg(null,s,h,r,a);break e;case 11:s=qg(null,s,h,r,a);break e;case 14:s=Kg(null,s,h,Hn(h.type,r),a);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Hn(h,p),cf(r,s,h,p,a);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Hn(h,p),Xg(r,s,h,p,a);case 3:e:{if(Jg(s),r===null)throw Error(n(387));h=s.pendingProps,y=s.memoizedState,p=y.element,dg(r,s),xu(s,h,null,a);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=ho(Error(n(423)),s),s=Zg(r,s,h,a,p);break e}else if(h!==p){p=ho(Error(n(424)),s),s=Zg(r,s,h,a,p);break e}else for(gn=ii(s.stateNode.containerInfo.firstChild),mn=s,Ze=!0,$n=null,a=hg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(oo(),h===p){s=Lr(r,s,a);break e}Yt(r,s,h,a)}s=s.child}return s;case 5:return gg(s),r===null&&Fh(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,T=p.children,Rh(h,p)?T=null:y!==null&&Rh(h,y)&&(s.flags|=32),Yg(r,s),Yt(r,s,T,a),s.child;case 6:return r===null&&Fh(s),null;case 13:return ey(r,s,a);case 4:return Kh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ao(s,null,h,a):Yt(r,s,h,a),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Hn(h,p),qg(r,s,h,p,a);case 7:return Yt(r,s,s.pendingProps,a),s.child;case 8:return Yt(r,s,s.pendingProps.children,a),s.child;case 12:return Yt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,Ge(wu,h._currentValue),h._currentValue=T,y!==null)if(zn(y.value,T)){if(y.children===p.children&&!tn.current){s=Lr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){T=y.child;for(var N=k.firstContext;N!==null;){if(N.context===h){if(y.tag===1){N=Mr(-1,a&-a),N.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),W.pending=N}}y.lanes|=a,N=y.alternate,N!==null&&(N.lanes|=a),Hh(y.return,a,s),k.lanes|=a;break}N=N.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=a,k=T.alternate,k!==null&&(k.lanes|=a),Hh(T,a,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Yt(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,uo(s,a),p=An(p),h=h(p),s.flags|=1,Yt(r,s,h,a),s.child;case 14:return h=s.type,p=Hn(h,s.pendingProps),p=Hn(h.type,p),Kg(r,s,h,p,a);case 15:return Gg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Hn(h,p),Du(r,s),s.tag=1,nn(h)?(r=!0,pu(s)):r=!1,uo(s,a),Fg(s,h,p),af(s,h,p,a),hf(null,s,h,!0,r,a);case 19:return ny(r,s,a);case 22:return Qg(r,s,a)}throw Error(n(156,s.tag))};function Cy(r,s){return Ls(r,s)}function HT(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,a,h){return new HT(r,s,a,h)}function Vf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function WT(r){if(typeof r=="function")return Vf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===Ie)return 14}return 2}function mi(r,s){var a=r.alternate;return a===null?(a=Pn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function $u(r,s,a,h,p,y){var T=2;if(h=r,typeof r=="function")Vf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case V:return as(a.children,p,y,s);case S:T=8,p|=8;break;case I:return r=Pn(12,a,s,p|2),r.elementType=I,r.lanes=y,r;case P:return r=Pn(13,a,s,p),r.elementType=P,r.lanes=y,r;case Ce:return r=Pn(19,a,s,p),r.elementType=Ce,r.lanes=y,r;case me:return Hu(a,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:T=10;break e;case M:T=9;break e;case B:T=11;break e;case Ie:T=14;break e;case Ne:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Pn(T,a,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function as(r,s,a,h){return r=Pn(7,r,h,s),r.lanes=a,r}function Hu(r,s,a,h){return r=Pn(22,r,h,s),r.elementType=me,r.lanes=a,r.stateNode={isHidden:!1},r}function Df(r,s,a){return r=Pn(6,r,null,s),r.lanes=a,r}function Nf(r,s,a){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function qT(r,s,a,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function bf(r,s,a,h,p,y,T,k,N){return r=new qT(r,s,a,k,N),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Pn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},qh(y),r}function KT(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Iy(r){if(!r)return oi;r=r._reactInternals;e:{if(Mn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(nn(a))return tg(r,a,s)}return s}function Py(r,s,a,h,p,y,T,k,N){return r=bf(a,h,!0,r,p,y,T,k,N),r.context=Iy(null),a=r.current,h=Xt(),p=di(a),y=Mr(h,p),y.callback=s??null,ui(a,y,p),r.current.lanes=p,Xr(r,p,h),on(r,h),r}function Wu(r,s,a,h){var p=s.current,y=Xt(),T=di(p);return a=Iy(a),s.context===null?s.context=a:s.pendingContext=a,s=Mr(y,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ui(p,s,T),r!==null&&(Kn(r,p,T,y),Tu(r,p,T)),T}function qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ky(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Mf(r,s){ky(r,s),(r=r.alternate)&&ky(r,s)}function GT(){return null}var Ry=typeof reportError=="function"?reportError:function(r){console.error(r)};function Lf(r){this._internalRoot=r}Ku.prototype.render=Lf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Wu(r,s,null,null)},Ku.prototype.unmount=Lf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;is(function(){Wu(null,r,null,null)}),s[Rr]=null}};function Ku(r){this._internalRoot=r}Ku.prototype.unstable_scheduleHydration=function(r){if(r){var s=Kl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Jn.length&&s!==0&&s<Jn[a].priority;a++);Jn.splice(a,0,r),a===0&&Yl(r)}};function Of(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function QT(r,s,a,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var W=qu(T);y.call(W)}}var T=Py(s,h,r,0,null,!1,!1,"",Vy);return r._reactRootContainer=T,r[Rr]=T.current,Sa(r.nodeType===8?r.parentNode:r),is(),T}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var k=h;h=function(){var W=qu(N);k.call(W)}}var N=bf(r,0,!1,null,null,!1,!1,"",Vy);return r._reactRootContainer=N,r[Rr]=N.current,Sa(r.nodeType===8?r.parentNode:r),is(function(){Wu(s,N,a,h)}),N}function Qu(r,s,a,h,p){var y=a._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var k=p;p=function(){var N=qu(T);k.call(N)}}Wu(s,T,r,p)}else T=QT(a,s,r,p,h);return qu(T)}Wl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Qr(s.pendingLanes);a!==0&&(Jr(s,a|1),on(s,Ke()),(Fe&6)===0&&(mo=Ke()+500,ai()))}break;case 13:is(function(){var h=br(r,1);if(h!==null){var p=Xt();Kn(h,r,1,p)}}),Mf(r,1)}},Fs=function(r){if(r.tag===13){var s=br(r,134217728);if(s!==null){var a=Xt();Kn(s,r,134217728,a)}Mf(r,134217728)}},ql=function(r){if(r.tag===13){var s=di(r),a=br(r,s);if(a!==null){var h=Xt();Kn(a,r,s,h)}Mf(r,s)}},Kl=function(){return be},Gl=function(r,s){var a=be;try{return be=r,s()}finally{be=a}},Rs=function(r,s,a){switch(s){case"input":if(Qo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var p=fu(h);if(!p)throw Error(n(90));Ss(h),Qo(h,p)}}}break;case"textarea":Ps(r,a);break;case"select":s=a.value,s!=null&&Tr(r,!!a.multiple,s,!1)}},ji=Pf,sa=is;var YT={usingClientEntryPoint:!1,Events:[Ia,to,fu,Yn,ia,Pf]},Ua={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XT={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=la(r),r===null?null:r.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||GT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{$i=Yu.inject(XT),hn=Yu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YT,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Of(s))throw Error(n(200));return KT(r,s,null,a)},an.createRoot=function(r,s){if(!Of(r))throw Error(n(299));var a=!1,h="",p=Ry;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=bf(r,1,!1,null,null,a,!1,h,p),r[Rr]=s.current,Sa(r.nodeType===8?r.parentNode:r),new Lf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=la(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return is(r)},an.hydrate=function(r,s,a){if(!Gu(s))throw Error(n(200));return Qu(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!Of(r))throw Error(n(405));var h=a!=null&&a.hydratedSources||null,p=!1,y="",T=Ry;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),s=Py(s,null,r,1,a??null,p,!1,y,T),r[Rr]=s.current,Sa(r),h)for(r=0;r<h.length;r++)a=h[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new Ku(s)},an.render=function(r,s,a){if(!Gu(s))throw Error(n(200));return Qu(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(n(40));return r._reactRootContainer?(is(function(){Qu(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},an.unstable_batchedUpdates=Pf,an.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Gu(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Qu(r,s,a,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var Fy;function sx(){if(Fy)return Bf.exports;Fy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bf.exports=ix(),Bf.exports}var By;function ox(){if(By)return Xu;By=1;var t=sx();return Xu.createRoot=t.createRoot,Xu.hydrateRoot=t.hydrateRoot,Xu}var ax=ox();const lx=p_(ax);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uy="popstate";function ux(t={}){function e(i,o){let{pathname:l,search:u,hash:f}=i.location;return md("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:al(o)}return hx(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cx(){return Math.random().toString(36).substring(2,10)}function zy(t,e){return{usr:t.state,key:t.key,idx:e}}function md(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:n,key:e&&e.key||i||cx()}}function al({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function hx(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,f="POP",d=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function E(){f="POP";let b=v(),F=b==null?null:b-m;m=b,d&&d({action:f,location:j.location,delta:F})}function w(b,F){f="PUSH";let G=md(j.location,b,F);m=v()+1;let q=zy(G,m),re=j.createHref(G);try{u.pushState(q,"",re)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(re)}l&&d&&d({action:f,location:j.location,delta:1})}function A(b,F){f="REPLACE";let G=md(j.location,b,F);m=v();let q=zy(G,m),re=j.createHref(G);u.replaceState(q,"",re),l&&d&&d({action:f,location:j.location,delta:0})}function D(b){return fx(b)}let j={get action(){return f},get location(){return t(o,u)},listen(b){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Uy,E),d=b,()=>{o.removeEventListener(Uy,E),d=null}},createHref(b){return e(o,b)},createURL:D,encodeLocation(b){let F=D(b);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:A,go(b){return u.go(b)}};return j}function fx(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:al(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function g_(t,e,n="/"){return dx(t,e,n,!1)}function dx(t,e,n,i){let o=typeof e=="string"?jo(e):e,l=Fr(o.pathname||"/",n);if(l==null)return null;let u=y_(t);px(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let m=Ax(l);f=xx(u[d],m,i)}return f}function y_(t,e=[],n=[],i=""){let o=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(st(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let m=jr([i,d.relativePath]),v=n.concat(d);l.children&&l.children.length>0&&(st(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),y_(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:Ex(m,l.index),routesMeta:v})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of v_(l.path))o(l,u,f)}),e}function v_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=v_(i.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function px(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var mx=/^:[\w-]+$/,gx=3,yx=2,vx=1,_x=10,wx=-2,$y=t=>t==="*";function Ex(t,e){let n=t.split("/"),i=n.length;return n.some($y)&&(i+=wx),e&&(i+=yx),n.filter(o=>!$y(o)).reduce((o,l)=>o+(mx.test(l)?gx:l===""?vx:_x),i)}function Tx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function xx(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],m=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=_c({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),w=d.route;if(!E&&m&&n&&!i[i.length-1].route.index&&(E=_c({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:jr([l,E.pathname]),pathnameBase:kx(jr([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=jr([l,E.pathnameBase]))}return u}function _c(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Sx(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:E},w)=>{if(v==="*"){let D=f[w]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=f[w];return E&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function Sx(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Ax(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Cx(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:Ix(n,e):e,search:Rx(i),hash:Vx(o)}}function Ix(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $f(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Px(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function __(t){let e=Px(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function w_(t,e,n,i=!1){let o;typeof t=="string"?o=jo(t):(o={...t},st(!o.pathname||!o.pathname.includes("?"),$f("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),$f("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),$f("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let E=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),E-=1;o.pathname=w.join("/")}f=E>=0?e[E]:"/"}let d=Cx(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}var jr=t=>t.join("/").replace(/\/\/+/g,"/"),kx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var E_=["POST","PUT","PATCH","DELETE"];new Set(E_);var Nx=["GET",...E_];new Set(Nx);var Fo=L.createContext(null);Fo.displayName="DataRouter";var Uc=L.createContext(null);Uc.displayName="DataRouterState";L.createContext(!1);var T_=L.createContext({isTransitioning:!1});T_.displayName="ViewTransition";var bx=L.createContext(new Map);bx.displayName="Fetchers";var Mx=L.createContext(null);Mx.displayName="Await";var vr=L.createContext(null);vr.displayName="Navigation";var Sl=L.createContext(null);Sl.displayName="Location";var Wr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var lp=L.createContext(null);lp.displayName="RouteError";function Lx(t,{relative:e}={}){st(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(vr),{hash:o,pathname:l,search:u}=Cl(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:jr([n,l])),i.createHref({pathname:f,search:u,hash:o})}function Al(){return L.useContext(Sl)!=null}function _r(){return st(Al(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Sl).location}var x_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S_(t){L.useContext(vr).static||L.useLayoutEffect(t)}function zc(){let{isDataRoute:t}=L.useContext(Wr);return t?Qx():Ox()}function Ox(){st(Al(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Fo),{basename:e,navigator:n}=L.useContext(vr),{matches:i}=L.useContext(Wr),{pathname:o}=_r(),l=JSON.stringify(__(i)),u=L.useRef(!1);return S_(()=>{u.current=!0}),L.useCallback((d,m={})=>{if(mr(u.current,x_),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=w_(d,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:jr([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,o,t])}L.createContext(null);function Cl(t,{relative:e}={}){let{matches:n}=L.useContext(Wr),{pathname:i}=_r(),o=JSON.stringify(__(n));return L.useMemo(()=>w_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function jx(t,e){return A_(t,e)}function A_(t,e,n,i){st(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(vr),{matches:l}=L.useContext(Wr),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let F=v&&v.path||"";C_(d,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=_r(),w;if(e){let F=typeof e=="string"?jo(e):e;st(m==="/"||F.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=E;let A=w.pathname||"/",D=A;if(m!=="/"){let F=m.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let j=g_(t,{pathname:D});mr(v||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),mr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=$x(j&&j.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:jr([m,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:jr([m,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,n,i);return e&&b?L.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function Fx(){let t=Gx(),e=Dx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,u)}var Bx=L.createElement(Fx,null),Ux=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(Wr.Provider,{value:this.props.routeContext},L.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zx({routeContext:t,match:e,children:n}){let i=L.useContext(Fo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Wr.Provider,{value:t},n)}function $x(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);st(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:v,errors:E}=n,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||w){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,m,v)=>{let E,w=!1,A=null,D=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||Bx,u&&(f<0&&v===0?(C_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,D=null):f===v&&(w=!0,D=m.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),b=()=>{let F;return E?F=A:w?F=D:m.route.Component?F=L.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=d,L.createElement(zx,{match:m,routeContext:{outlet:d,matches:j,isDataRoute:n!=null},children:F})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?L.createElement(Ux,{location:n.location,revalidation:n.revalidation,component:A,error:E,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}function up(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hx(t){let e=L.useContext(Fo);return st(e,up(t)),e}function Wx(t){let e=L.useContext(Uc);return st(e,up(t)),e}function qx(t){let e=L.useContext(Wr);return st(e,up(t)),e}function cp(t){let e=qx(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Kx(){return cp("useRouteId")}function Gx(){let t=L.useContext(lp),e=Wx("useRouteError"),n=cp("useRouteError");return t!==void 0?t:e.errors?.[n]}function Qx(){let{router:t}=Hx("useNavigate"),e=cp("useNavigate"),n=L.useRef(!1);return S_(()=>{n.current=!0}),L.useCallback(async(o,l={})=>{mr(n.current,x_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Hy={};function C_(t,e,n){!e&&!Hy[t]&&(Hy[t]=!0,mr(!1,n))}L.memo(Yx);function Yx({routes:t,future:e,state:n}){return A_(t,void 0,n,e)}function gd(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xx({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){st(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=jo(n));let{pathname:d="/",search:m="",hash:v="",state:E=null,key:w="default"}=n,A=L.useMemo(()=>{let D=Fr(d,u);return D==null?null:{location:{pathname:D,search:m,hash:v,state:E,key:w},navigationType:i}},[u,d,m,v,E,w,i]);return mr(A!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:L.createElement(vr.Provider,{value:f},L.createElement(Sl.Provider,{children:e,value:A}))}function Jx({children:t,location:e}){return jx(yd(t),e)}function yd(t,e=[]){let n=[];return L.Children.forEach(t,(i,o)=>{if(!L.isValidElement(i))return;let l=[...e,o];if(i.type===L.Fragment){n.push.apply(n,yd(i.props.children,l));return}st(i.type===gd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=yd(i.props.children,l)),n.push(u)}),n}var ac="get",lc="application/x-www-form-urlencoded";function $c(t){return t!=null&&typeof t.tagName=="string"}function Zx(t){return $c(t)&&t.tagName.toLowerCase()==="button"}function eS(t){return $c(t)&&t.tagName.toLowerCase()==="form"}function tS(t){return $c(t)&&t.tagName.toLowerCase()==="input"}function nS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rS(t,e){return t.button===0&&(!e||e==="_self")&&!nS(t)}var Ju=null;function iS(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var sS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hf(t){return t!=null&&!sS.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lc}"`),null):t}function oS(t,e){let n,i,o,l,u;if(eS(t)){let f=t.getAttribute("action");i=f?Fr(f,e):null,n=t.getAttribute("method")||ac,o=Hf(t.getAttribute("enctype"))||lc,l=new FormData(t)}else if(Zx(t)||tS(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?Fr(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||ac,o=Hf(t.getAttribute("formenctype"))||Hf(f.getAttribute("enctype"))||lc,l=new FormData(f,t),!iS()){let{name:m,type:v,value:E}=t;if(v==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,E)}}else{if($c(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ac,i=null,o=lc,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aS(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Fr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function lS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cS(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await lS(l,n);return u.links?u.links():[]}return[]}));return pS(i.flat(1).filter(uS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wy(t,e,n,i,o,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>u(d,m)||f(d,m)):l==="data"?e.filter((d,m)=>{let v=i.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function hS(t,e,{includeHydrateFallback:n}={}){return fS(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function fS(t){return[...new Set(t)]}function dS(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function pS(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(dS(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function I_(){let t=L.useContext(Fo);return hp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mS(){let t=L.useContext(Uc);return hp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fp=L.createContext(void 0);fp.displayName="FrameworkContext";function P_(){let t=L.useContext(fp);return hp(t,"You must render this element inside a <HydratedRouter> element"),t}function gS(t,e){let n=L.useContext(fp),[i,o]=L.useState(!1),[l,u]=L.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,w=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=F=>{F.forEach(G=>{u(G.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[t]),L.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let A=()=>{o(!0)},D=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:$a(f,A),onBlur:$a(d,D),onMouseEnter:$a(m,A),onMouseLeave:$a(v,D),onTouchStart:$a(E,A)}]:[!1,w,{}]}function $a(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yS({page:t,...e}){let{router:n}=I_(),i=L.useMemo(()=>g_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?L.createElement(_S,{page:t,matches:i,...e}):null}function vS(t){let{manifest:e,routeModules:n}=P_(),[i,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return cS(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function _S({page:t,matches:e,...n}){let i=_r(),{manifest:o,routeModules:l}=P_(),{basename:u}=I_(),{loaderData:f,matches:d}=mS(),m=L.useMemo(()=>Wy(t,e,d,o,i,"data"),[t,e,d,o,i]),v=L.useMemo(()=>Wy(t,e,d,o,i,"assets"),[t,e,d,o,i]),E=L.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,j=!1;if(e.forEach(F=>{let G=o.routes[F.route.id];!G||!G.hasLoader||(!m.some(q=>q.route.id===F.route.id)&&F.route.id in f&&l[F.route.id]?.shouldRevalidate||G.hasClientLoader?j=!0:D.add(F.route.id))}),D.size===0)return[];let b=aS(t,u,"data");return j&&D.size>0&&b.searchParams.set("_routes",e.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[b.pathname+b.search]},[u,f,i,o,m,e,t,l]),w=L.useMemo(()=>hS(v,o),[v,o]),A=vS(v);return L.createElement(L.Fragment,null,E.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),w.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:j})=>L.createElement("link",{key:D,...j})))}function wS(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k_&&(window.__reactRouterVersion="7.7.1")}catch{}function ES({basename:t,children:e,window:n}){let i=L.useRef();i.current==null&&(i.current=ux({window:n,v5Compat:!0}));let o=i.current,[l,u]=L.useState({action:o.action,location:o.location}),f=L.useCallback(d=>{L.startTransition(()=>u(d))},[u]);return L.useLayoutEffect(()=>o.listen(f),[o,f]),L.createElement(Xx,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var R_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hc=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:f,target:d,to:m,preventScrollReset:v,viewTransition:E,...w},A){let{basename:D}=L.useContext(vr),j=typeof m=="string"&&R_.test(m),b,F=!1;if(typeof m=="string"&&j&&(b=m,k_))try{let I=new URL(window.location.href),R=m.startsWith("//")?new URL(I.protocol+m):new URL(m),M=Fr(R.pathname,D);R.origin===I.origin&&M!=null?m=M+R.search+R.hash:F=!0}catch{mr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Lx(m,{relative:o}),[q,re,ne]=gS(i,w),ae=AS(m,{replace:u,state:f,target:d,preventScrollReset:v,relative:o,viewTransition:E});function V(I){e&&e(I),I.defaultPrevented||ae(I)}let S=L.createElement("a",{...w,...ne,href:b||G,onClick:F||l?e:V,ref:wS(A,re),target:d,"data-discover":!j&&n==="render"?"true":void 0});return q&&!j?L.createElement(L.Fragment,null,S,L.createElement(yS,{page:G})):S});Hc.displayName="Link";var TS=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:f,children:d,...m},v){let E=Cl(u,{relative:m.relative}),w=_r(),A=L.useContext(Uc),{navigator:D,basename:j}=L.useContext(vr),b=A!=null&&RS(E)&&f===!0,F=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,G=w.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(G=G.toLowerCase(),q=q?q.toLowerCase():null,F=F.toLowerCase()),q&&j&&(q=Fr(q,j)||q);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ne=G===F||!o&&G.startsWith(F)&&G.charAt(re)==="/",ae=q!=null&&(q===F||!o&&q.startsWith(F)&&q.charAt(F.length)==="/"),V={isActive:ne,isPending:ae,isTransitioning:b},S=ne?e:void 0,I;typeof i=="function"?I=i(V):I=[i,ne?"active":null,ae?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(V):l;return L.createElement(Hc,{...m,"aria-current":S,className:I,ref:v,style:R,to:u,viewTransition:f},typeof d=="function"?d(V):d)});TS.displayName="NavLink";var xS=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=ac,action:f,onSubmit:d,relative:m,preventScrollReset:v,viewTransition:E,...w},A)=>{let D=PS(),j=kS(f,{relative:m}),b=u.toLowerCase()==="get"?"get":"post",F=typeof f=="string"&&R_.test(f),G=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let re=q.nativeEvent.submitter,ne=re?.getAttribute("formmethod")||u;D(re||q.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:o,state:l,relative:m,preventScrollReset:v,viewTransition:E})};return L.createElement("form",{ref:A,method:b,action:j,onSubmit:i?d:G,...w,"data-discover":!F&&t==="render"?"true":void 0})});xS.displayName="Form";function SS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V_(t){let e=L.useContext(Fo);return st(e,SS(t)),e}function AS(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=zc(),d=_r(),m=Cl(t,{relative:l});return L.useCallback(v=>{if(rS(v,e)){v.preventDefault();let E=n!==void 0?n:al(d)===al(m);f(t,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[d,f,m,n,i,e,t,o,l,u])}var CS=0,IS=()=>`__${String(++CS)}__`;function PS(){let{router:t}=V_("useSubmit"),{basename:e}=L.useContext(vr),n=Kx();return L.useCallback(async(i,o={})=>{let{action:l,method:u,encType:f,formData:d,body:m}=oS(i,e);if(o.navigate===!1){let v=o.fetcherKey||IS();await t.fetch(v,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function kS(t,{relative:e}={}){let{basename:n}=L.useContext(vr),i=L.useContext(Wr);st(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Cl(t||".",{relative:e})},u=_r();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(E=>E).forEach(E=>f.append("index",E));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:jr([n,l.pathname])),al(l)}function RS(t,{relative:e}={}){let n=L.useContext(T_);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=V_("useViewTransitionState"),o=Cl(t,{relative:e});if(!n.isTransitioning)return!1;let l=Fr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Fr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return _c(o.pathname,u)!=null||_c(o.pathname,l)!=null}const VS=({children:t,className:e="",delay:n=0})=>{const[i,o]=L.useState(!1),l=L.useRef(null);return L.useEffect(()=>{const u=new IntersectionObserver(([f])=>{f.isIntersecting&&setTimeout(()=>o(!0),n)},{threshold:.1});return l.current&&u.observe(l.current),()=>u.disconnect()},[n]),C.jsx("div",{ref:l,className:`overflow-hidden ${e}`,children:C.jsx("div",{className:`transition-transform duration-700 ease-out ${i?"translate-y-0":"translate-y-full"}`,children:t})})},DS=t=>C.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[C.jsx("circle",{cx:"12",cy:"12",r:"5",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1v2m0 18v2m11-11h-2M3 12H1m16.364-7.364l-1.414 1.414M6.05 17.95l-1.414 1.414m12.728 0l1.414-1.414M6.05 6.05L4.636 4.636"})]}),NS=t=>C.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})}),vd=({isDark:t,onToggle:e})=>C.jsx("button",{onClick:e,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors duration-300 ${t?"text-white":"text-black"}`,title:t?"Switch to light mode":"Switch to dark mode","aria-label":t?"Switch to light mode":"Switch to dark mode",type:"button",children:t?C.jsx(NS,{className:"w-6 h-6"}):C.jsx(DS,{className:"w-6 h-6"})}),bS=({isOpen:t,onClose:e,activeSection:n,isDark:i,onThemeToggle:o,onSectionClick:l})=>{const u=[{id:"home",label:"Home"},{id:"about",label:"About"},{id:"project",label:"Project"},{id:"contact",label:"Contact",path:"/contact"}];return C.jsxs("div",{className:`fixed inset-0 z-50 md:hidden transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:[C.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:e}),C.jsxs("div",{className:`absolute right-0 top-0 h-full w-64 
                   bg-white dark:bg-black
                   shadow-xl flex flex-col justify-between
                   transition-colors duration-300`,children:[C.jsxs("div",{className:"p-6 relative",children:[C.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),C.jsx("div",{className:"mt-12 space-y-6",children:u.map(f=>f.path&&f.id==="contact"?C.jsx(Hc,{to:f.path,onClick:e,className:`block w-full text-left py-3 px-4 rounded-lg transition-colors ${n===f.id?"bg-black text-white dark:bg-gray-800 dark:text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:f.label},f.id):C.jsx("button",{onClick:()=>{e(),l(f.id)},className:`block w-full text-left py-3 px-4 rounded-lg transition-colors ${n===f.id?"bg-black text-white dark:bg-gray-800 dark:text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:f.label},f.id))})]}),C.jsxs("div",{className:"p-6 flex justify-between items-center border-t border-gray-200 dark:border-gray-700",children:[C.jsxs("div",{className:"flex gap-4",children:[C.jsx("a",{href:"https://github.com/g0GobliN",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors","aria-label":"GitHub",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M12 0C5.37 0 0 5.373 0 12c0 5.303 3.438 9.8 8.205 11.387.6.11.82-.258.82-.577v-2.234c-3.338.726-4.033-1.61-4.033-1.61-.546-1.387-1.333-1.756-1.333-1.756-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.237 1.84 1.237 1.07 1.835 2.807 1.305 3.492.997.108-.775.42-1.305.763-1.605-2.665-.3-5.466-1.334-5.466-5.933 0-1.31.468-2.38 1.236-3.22-.124-.303-.536-1.523.117-3.176 0 0 1.008-.322 3.301 1.23a11.52 11.52 0 013.003-.404 11.52 11.52 0 013.003.404c2.292-1.552 3.298-1.23 3.298-1.23.654 1.653.242 2.873.118 3.176.77.84 1.235 1.91 1.235 3.22 0 4.61-2.803 5.63-5.475 5.922.43.372.814 1.103.814 2.222v3.293c0 .32.218.694.825.576C20.565 21.796 24 17.3 24 12c0-6.627-5.373-12-12-12z"})})}),C.jsx("a",{href:"https://instagram.com/goblin01_",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors","aria-label":"Instagram",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[C.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11.37a4 4 0 11-7.999-.001 4 4 0 017.999 0z"}),C.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.5",y2:"6.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),C.jsx(vd,{isDark:i,onToggle:o})]})]})]})},MS="/assets/images/goblin.webp",LS=({activeSection:t,onSectionChange:e,isDark:n,onThemeToggle:i})=>{const[o,l]=L.useState(!1),u=zc(),f=_r(),d=[{id:"home",label:"Home"},{id:"about",label:"About"},{id:"project",label:"Project"},{id:"contact",label:"Contact",path:"/contact"}],m=(w,A=80)=>{const D=document.getElementById(w);if(!D)return;const b=D.getBoundingClientRect().top+window.pageYOffset-A;window.scrollTo({top:b,behavior:"smooth"})},v=w=>{w.preventDefault(),f.pathname==="/"?(m("home",80),e?.("home")):u("/")},E=w=>{l(!1),f.pathname==="/"?(m(w,80),e?.(w)):(u("/",{replace:!1}),setTimeout(()=>{m(w,80),e?.(w)},150))};return C.jsxs(C.Fragment,{children:[C.jsx("nav",{className:`
        fixed top-0 left-0 right-0 z-40
        bg-white dark:bg-black
        bg-opacity-80 backdrop-blur-md
        border-b border-gray-200 dark:border-gray-700
        transition-colors duration-300
      `,children:C.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("div",{className:"w-10 h-10 relative",children:C.jsx("a",{href:"/",onClick:v,children:C.jsx("img",{src:MS,alt:"Logo",className:"w-full h-full object-contain scale-[1.2] transition-transform duration-300 hover:scale-125"})})}),C.jsx("div",{className:"hidden md:flex items-center gap-8",children:d.map(w=>w.path?C.jsx(Hc,{to:w.path,className:`interactive text-sm font-gotham-book transition-colors ${t===w.id?"text-black dark:text-white crossed-text":"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"}`,onClick:()=>l(!1),children:w.label},w.id):C.jsx("button",{onClick:()=>E(w.id),className:`interactive text-sm font-medium transition-colors ${t===w.id?"text-black dark:text-white crossed-text":"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white"}`,children:w.label},w.id))}),C.jsx("div",{className:"hidden md:flex items-center gap-4",children:C.jsx(vd,{isDark:n,onToggle:i})}),C.jsx("div",{className:"md:hidden flex items-center gap-2",children:C.jsx("button",{onClick:()=>l(!0),className:"interactive p-2 text-gray-700 dark:text-gray-300",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})})}),C.jsx(bS,{isOpen:o,onClose:()=>l(!1),activeSection:t,isDark:n,onThemeToggle:i,onSectionClick:E}),o&&C.jsx("div",{className:`fixed bottom-6 right-6 md:hidden z-50 transition-opacity ${o?"opacity-100":"opacity-0 pointer-events-none"}`,children:C.jsx(vd,{isDark:n,onToggle:i})})]})},OS=()=>{};var qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},jS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],d=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},N_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,v=l>>2,E=(l&3)<<4|f>>4;let w=(f&15)<<2|m>>6,A=m&63;d||(A=64,u||(w=64)),i.push(n[v],n[E],n[w],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||m==null||E==null)throw new FS;const w=l<<2|f>>4;if(i.push(w),m!==64){const A=f<<4&240|m>>2;if(i.push(A),E!==64){const D=m<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(t){const e=D_(t);return N_.encodeByteArray(e,!0)},wc=function(t){return BS(t).replace(/\./g,"")},US=function(t){try{return N_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=()=>zS().__FIREBASE_DEFAULTS__,HS=()=>{if(typeof process>"u"||typeof qy>"u")return;const t=qy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&US(t[1]);return e&&JSON.parse(e)},dp=()=>{try{return OS()||$S()||HS()||WS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qS=t=>dp()?.emulatorHosts?.[t],KS=t=>{const e=qS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},b_=()=>dp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wc(JSON.stringify(n)),wc(JSON.stringify(u)),""].join(".")}const Ya={};function XS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ya))Ya[e]?t.emulator.push(e):t.prod.push(e);return t}function JS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ky=!1;function ZS(t,e){if(typeof window>"u"||typeof document>"u"||!pp(window.location.host)||Ya[t]===e||Ya[t]||Ky)return;Ya[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=XS().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Ky=!0,u()},w}function v(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=JS(i),A=n("text"),D=document.getElementById(A)||document.createElement("span"),j=n("learnmore"),b=document.getElementById(j)||document.createElement("a"),F=n("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;f(q),v(b,j);const re=m();d(G,F),q.append(G,D,b,re),document.body.appendChild(q)}l?(D.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){const t=dp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="FirebaseError";class Bo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=sA,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M_.prototype.create)}}class M_{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?oA(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Bo(o,f,i)}}function oA(t,e){return t.replace(aA,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const aA=/\{\$([^}]+)}/g;function Ec(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(Gy(l)&&Gy(u)){if(!Ec(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Gy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){return t&&t._delegate?t._delegate:t}class ll{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new GS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cA(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(t){return t===us?void 0:t}function cA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const fA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},dA=je.INFO,pA={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},mA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=pA[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class L_{constructor(e){this.name=e,this._logLevel=dA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const gA=(t,e)=>e.some(n=>t instanceof n);let Qy,Yy;function yA(){return Qy||(Qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O_=new WeakMap,_d=new WeakMap,j_=new WeakMap,Wf=new WeakMap,mp=new WeakMap;function _A(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(_i(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&O_.set(n,t)}).catch(()=>{}),mp.set(e,t),e}function wA(t){if(_d.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});_d.set(t,e)}let wd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _d.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EA(t){wd=t(wd)}function TA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(qf(this),e,...n);return j_.set(i,e.sort?e.sort():[e]),_i(i)}:vA().includes(t)?function(...e){return t.apply(qf(this),e),_i(O_.get(this))}:function(...e){return _i(t.apply(qf(this),e))}}function xA(t){return typeof t=="function"?TA(t):(t instanceof IDBTransaction&&wA(t),gA(t,yA())?new Proxy(t,wd):t)}function _i(t){if(t instanceof IDBRequest)return _A(t);if(Wf.has(t))return Wf.get(t);const e=xA(t);return e!==t&&(Wf.set(t,e),mp.set(e,t)),e}const qf=t=>mp.get(t);function SA(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=_i(u);return i&&u.addEventListener("upgradeneeded",d=>{i(_i(u.result),d.oldVersion,d.newVersion,_i(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const AA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Kf=new Map;function Xy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=CA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||AA.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&d.done]))[0]};return Kf.set(e,l),l}EA(t=>({...t,get:(e,n,i)=>Xy(e,n)||t.get(e,n,i),has:(e,n)=>!!Xy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function PA(t){return t.getComponent()?.type==="VERSION"}const Ed="@firebase/app",Jy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new L_("@firebase/app"),kA="@firebase/app-compat",RA="@firebase/analytics-compat",VA="@firebase/analytics",DA="@firebase/app-check-compat",NA="@firebase/app-check",bA="@firebase/auth",MA="@firebase/auth-compat",LA="@firebase/database",OA="@firebase/data-connect",jA="@firebase/database-compat",FA="@firebase/functions",BA="@firebase/functions-compat",UA="@firebase/installations",zA="@firebase/installations-compat",$A="@firebase/messaging",HA="@firebase/messaging-compat",WA="@firebase/performance",qA="@firebase/performance-compat",KA="@firebase/remote-config",GA="@firebase/remote-config-compat",QA="@firebase/storage",YA="@firebase/storage-compat",XA="@firebase/firestore",JA="@firebase/ai",ZA="@firebase/firestore-compat",eC="firebase",tC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",nC={[Ed]:"fire-core",[kA]:"fire-core-compat",[VA]:"fire-analytics",[RA]:"fire-analytics-compat",[NA]:"fire-app-check",[DA]:"fire-app-check-compat",[bA]:"fire-auth",[MA]:"fire-auth-compat",[LA]:"fire-rtdb",[OA]:"fire-data-connect",[jA]:"fire-rtdb-compat",[FA]:"fire-fn",[BA]:"fire-fn-compat",[UA]:"fire-iid",[zA]:"fire-iid-compat",[$A]:"fire-fcm",[HA]:"fire-fcm-compat",[WA]:"fire-perf",[qA]:"fire-perf-compat",[KA]:"fire-rc",[GA]:"fire-rc-compat",[QA]:"fire-gcs",[YA]:"fire-gcs-compat",[XA]:"fire-fst",[ZA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,rC=new Map,xd=new Map;function Zy(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xc(t){const e=t.name;if(xd.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,t);for(const n of Tc.values())Zy(n,t);for(const n of rC.values())Zy(n,t);return!0}function iC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sC(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new M_("app","Firebase",oC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=tC;function F_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Td,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw wi.create("bad-app-name",{appName:String(o)});if(n||(n=b_()),!n)throw wi.create("no-options");const l=Tc.get(o);if(l){if(Ec(n,l.options)&&Ec(i,l.config))return l;throw wi.create("duplicate-app",{appName:o})}const u=new hA(o);for(const d of xd.values())u.addComponent(d);const f=new aC(n,i,u);return Tc.set(o,f),f}function uC(t=Td){const e=Tc.get(t);if(!e&&t===Td&&b_())return F_();if(!e)throw wi.create("no-app",{appName:t});return e}function Io(t,e,n){let i=nC[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(u.join(" "));return}xc(new ll(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="firebase-heartbeat-database",hC=1,ul="firebase-heartbeat-store";let Gf=null;function B_(){return Gf||(Gf=SA(cC,hC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),Gf}async function fC(t){try{const n=(await B_()).transaction(ul),i=await n.objectStore(ul).get(U_(t));return await n.done,i}catch(e){if(e instanceof Bo)Br.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e?.message});Br.warn(n.message)}}}async function ev(t,e){try{const i=(await B_()).transaction(ul,"readwrite");await i.objectStore(ul).put(e,U_(t)),await i.done}catch(n){if(n instanceof Bo)Br.warn(n.message);else{const i=wi.create("idb-set",{originalErrorMessage:n?.message});Br.warn(i.message)}}}function U_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=1024,pC=30;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>pC){const o=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tv(),{heartbeatsToSend:n,unsentEntries:i}=gC(this._heartbeatsCache.heartbeats),o=wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Br.warn(e),""}}}function tv(){return new Date().toISOString().substring(0,10)}function gC(t,e=dC){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),nv(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),nv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nv(t){return wc(JSON.stringify({version:2,heartbeats:t})).length}function vC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){xc(new ll("platform-logger",e=>new IA(e),"PRIVATE")),xc(new ll("heartbeat",e=>new mC(e),"PRIVATE")),Io(Ed,Jy,t),Io(Ed,Jy,"esm2020"),Io("fire-js","")}_C("");var wC="firebase",EC="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(wC,EC,"app");var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,z_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function I(){}I.prototype=S.prototype,V.D=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(R,M,B){for(var P=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)P[Ce-2]=arguments[Ce];return S.prototype[M].apply(R,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,S,I){I||(I=0);var R=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)R[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;16>M;++M)R[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],M=V.g[2];var B=V.g[3],P=S+(B^I&(M^B))+R[0]+3614090360&4294967295;S=I+(P<<7&4294967295|P>>>25),P=B+(M^S&(I^M))+R[1]+3905402710&4294967295,B=S+(P<<12&4294967295|P>>>20),P=M+(I^B&(S^I))+R[2]+606105819&4294967295,M=B+(P<<17&4294967295|P>>>15),P=I+(S^M&(B^S))+R[3]+3250441966&4294967295,I=M+(P<<22&4294967295|P>>>10),P=S+(B^I&(M^B))+R[4]+4118548399&4294967295,S=I+(P<<7&4294967295|P>>>25),P=B+(M^S&(I^M))+R[5]+1200080426&4294967295,B=S+(P<<12&4294967295|P>>>20),P=M+(I^B&(S^I))+R[6]+2821735955&4294967295,M=B+(P<<17&4294967295|P>>>15),P=I+(S^M&(B^S))+R[7]+4249261313&4294967295,I=M+(P<<22&4294967295|P>>>10),P=S+(B^I&(M^B))+R[8]+1770035416&4294967295,S=I+(P<<7&4294967295|P>>>25),P=B+(M^S&(I^M))+R[9]+2336552879&4294967295,B=S+(P<<12&4294967295|P>>>20),P=M+(I^B&(S^I))+R[10]+4294925233&4294967295,M=B+(P<<17&4294967295|P>>>15),P=I+(S^M&(B^S))+R[11]+2304563134&4294967295,I=M+(P<<22&4294967295|P>>>10),P=S+(B^I&(M^B))+R[12]+1804603682&4294967295,S=I+(P<<7&4294967295|P>>>25),P=B+(M^S&(I^M))+R[13]+4254626195&4294967295,B=S+(P<<12&4294967295|P>>>20),P=M+(I^B&(S^I))+R[14]+2792965006&4294967295,M=B+(P<<17&4294967295|P>>>15),P=I+(S^M&(B^S))+R[15]+1236535329&4294967295,I=M+(P<<22&4294967295|P>>>10),P=S+(M^B&(I^M))+R[1]+4129170786&4294967295,S=I+(P<<5&4294967295|P>>>27),P=B+(I^M&(S^I))+R[6]+3225465664&4294967295,B=S+(P<<9&4294967295|P>>>23),P=M+(S^I&(B^S))+R[11]+643717713&4294967295,M=B+(P<<14&4294967295|P>>>18),P=I+(B^S&(M^B))+R[0]+3921069994&4294967295,I=M+(P<<20&4294967295|P>>>12),P=S+(M^B&(I^M))+R[5]+3593408605&4294967295,S=I+(P<<5&4294967295|P>>>27),P=B+(I^M&(S^I))+R[10]+38016083&4294967295,B=S+(P<<9&4294967295|P>>>23),P=M+(S^I&(B^S))+R[15]+3634488961&4294967295,M=B+(P<<14&4294967295|P>>>18),P=I+(B^S&(M^B))+R[4]+3889429448&4294967295,I=M+(P<<20&4294967295|P>>>12),P=S+(M^B&(I^M))+R[9]+568446438&4294967295,S=I+(P<<5&4294967295|P>>>27),P=B+(I^M&(S^I))+R[14]+3275163606&4294967295,B=S+(P<<9&4294967295|P>>>23),P=M+(S^I&(B^S))+R[3]+4107603335&4294967295,M=B+(P<<14&4294967295|P>>>18),P=I+(B^S&(M^B))+R[8]+1163531501&4294967295,I=M+(P<<20&4294967295|P>>>12),P=S+(M^B&(I^M))+R[13]+2850285829&4294967295,S=I+(P<<5&4294967295|P>>>27),P=B+(I^M&(S^I))+R[2]+4243563512&4294967295,B=S+(P<<9&4294967295|P>>>23),P=M+(S^I&(B^S))+R[7]+1735328473&4294967295,M=B+(P<<14&4294967295|P>>>18),P=I+(B^S&(M^B))+R[12]+2368359562&4294967295,I=M+(P<<20&4294967295|P>>>12),P=S+(I^M^B)+R[5]+4294588738&4294967295,S=I+(P<<4&4294967295|P>>>28),P=B+(S^I^M)+R[8]+2272392833&4294967295,B=S+(P<<11&4294967295|P>>>21),P=M+(B^S^I)+R[11]+1839030562&4294967295,M=B+(P<<16&4294967295|P>>>16),P=I+(M^B^S)+R[14]+4259657740&4294967295,I=M+(P<<23&4294967295|P>>>9),P=S+(I^M^B)+R[1]+2763975236&4294967295,S=I+(P<<4&4294967295|P>>>28),P=B+(S^I^M)+R[4]+1272893353&4294967295,B=S+(P<<11&4294967295|P>>>21),P=M+(B^S^I)+R[7]+4139469664&4294967295,M=B+(P<<16&4294967295|P>>>16),P=I+(M^B^S)+R[10]+3200236656&4294967295,I=M+(P<<23&4294967295|P>>>9),P=S+(I^M^B)+R[13]+681279174&4294967295,S=I+(P<<4&4294967295|P>>>28),P=B+(S^I^M)+R[0]+3936430074&4294967295,B=S+(P<<11&4294967295|P>>>21),P=M+(B^S^I)+R[3]+3572445317&4294967295,M=B+(P<<16&4294967295|P>>>16),P=I+(M^B^S)+R[6]+76029189&4294967295,I=M+(P<<23&4294967295|P>>>9),P=S+(I^M^B)+R[9]+3654602809&4294967295,S=I+(P<<4&4294967295|P>>>28),P=B+(S^I^M)+R[12]+3873151461&4294967295,B=S+(P<<11&4294967295|P>>>21),P=M+(B^S^I)+R[15]+530742520&4294967295,M=B+(P<<16&4294967295|P>>>16),P=I+(M^B^S)+R[2]+3299628645&4294967295,I=M+(P<<23&4294967295|P>>>9),P=S+(M^(I|~B))+R[0]+4096336452&4294967295,S=I+(P<<6&4294967295|P>>>26),P=B+(I^(S|~M))+R[7]+1126891415&4294967295,B=S+(P<<10&4294967295|P>>>22),P=M+(S^(B|~I))+R[14]+2878612391&4294967295,M=B+(P<<15&4294967295|P>>>17),P=I+(B^(M|~S))+R[5]+4237533241&4294967295,I=M+(P<<21&4294967295|P>>>11),P=S+(M^(I|~B))+R[12]+1700485571&4294967295,S=I+(P<<6&4294967295|P>>>26),P=B+(I^(S|~M))+R[3]+2399980690&4294967295,B=S+(P<<10&4294967295|P>>>22),P=M+(S^(B|~I))+R[10]+4293915773&4294967295,M=B+(P<<15&4294967295|P>>>17),P=I+(B^(M|~S))+R[1]+2240044497&4294967295,I=M+(P<<21&4294967295|P>>>11),P=S+(M^(I|~B))+R[8]+1873313359&4294967295,S=I+(P<<6&4294967295|P>>>26),P=B+(I^(S|~M))+R[15]+4264355552&4294967295,B=S+(P<<10&4294967295|P>>>22),P=M+(S^(B|~I))+R[6]+2734768916&4294967295,M=B+(P<<15&4294967295|P>>>17),P=I+(B^(M|~S))+R[13]+1309151649&4294967295,I=M+(P<<21&4294967295|P>>>11),P=S+(M^(I|~B))+R[4]+4149444226&4294967295,S=I+(P<<6&4294967295|P>>>26),P=B+(I^(S|~M))+R[11]+3174756917&4294967295,B=S+(P<<10&4294967295|P>>>22),P=M+(S^(B|~I))+R[2]+718787259&4294967295,M=B+(P<<15&4294967295|P>>>17),P=I+(B^(M|~S))+R[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+B&4294967295}i.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var I=S-this.blockSize,R=this.B,M=this.h,B=0;B<S;){if(M==0)for(;B<=I;)o(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<S;)if(R[M++]=V.charCodeAt(B++),M==this.blockSize){o(this,R),M=0;break}}else for(;B<S;)if(R[M++]=V[B++],M==this.blockSize){o(this,R),M=0;break}}this.h=M,this.o+=S},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var I=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=I&255,I/=256;for(this.u(V),V=Array(16),S=I=0;4>S;++S)for(var R=0;32>R;R+=8)V[I++]=this.g[S]>>>R&255;return V};function l(V,S){var I=f;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function u(V,S){this.h=S;for(var I=[],R=!0,M=V.length-1;0<=M;M--){var B=V[M]|0;R&&B==S||(I[M]=B,R=!1)}this.g=I}var f={};function d(V){return-128<=V&&128>V?l(V,function(S){return new u([S|0],0>S?-1:0)}):new u([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return b(m(-V));for(var S=[],I=1,R=0;V>=I;R++)S[R]=V/I|0,I*=4294967296;return new u(S,0)}function v(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return b(v(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(S,8)),R=E,M=0;M<V.length;M+=8){var B=Math.min(8,V.length-M),P=parseInt(V.substring(M,M+B),S);8>B?(B=m(Math.pow(S,B)),R=R.j(B).add(m(P))):(R=R.j(I),R=R.add(m(P)))}return R}var E=d(0),w=d(1),A=d(16777216);t=u.prototype,t.m=function(){if(j(this))return-b(this).m();for(var V=0,S=1,I=0;I<this.g.length;I++){var R=this.i(I);V+=(0<=R?R:4294967296+R)*S,S*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(D(this))return"0";if(j(this))return"-"+b(this).toString(V);for(var S=m(Math.pow(V,6)),I=this,R="";;){var M=re(I,S).g;I=F(I,M.j(S));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,D(I))return B+R;for(;6>B.length;)B="0"+B;R=B+R}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function D(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function j(V){return V.h==-1}t.l=function(V){return V=F(this,V),j(V)?-1:D(V)?0:1};function b(V){for(var S=V.g.length,I=[],R=0;R<S;R++)I[R]=~V.g[R];return new u(I,~V.h).add(w)}t.abs=function(){return j(this)?b(this):this},t.add=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],R=0,M=0;M<=S;M++){var B=R+(this.i(M)&65535)+(V.i(M)&65535),P=(B>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);R=P>>>16,B&=65535,P&=65535,I[M]=P<<16|B}return new u(I,I[I.length-1]&-2147483648?-1:0)};function F(V,S){return V.add(b(S))}t.j=function(V){if(D(this)||D(V))return E;if(j(this))return j(V)?b(this).j(b(V)):b(b(this).j(V));if(j(V))return b(this.j(b(V)));if(0>this.l(A)&&0>V.l(A))return m(this.m()*V.m());for(var S=this.g.length+V.g.length,I=[],R=0;R<2*S;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<V.g.length;M++){var B=this.i(R)>>>16,P=this.i(R)&65535,Ce=V.i(M)>>>16,Ie=V.i(M)&65535;I[2*R+2*M]+=P*Ie,G(I,2*R+2*M),I[2*R+2*M+1]+=B*Ie,G(I,2*R+2*M+1),I[2*R+2*M+1]+=P*Ce,G(I,2*R+2*M+1),I[2*R+2*M+2]+=B*Ce,G(I,2*R+2*M+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new u(I,0)};function G(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function q(V,S){this.g=V,this.h=S}function re(V,S){if(D(S))throw Error("division by zero");if(D(V))return new q(E,E);if(j(V))return S=re(b(V),S),new q(b(S.g),b(S.h));if(j(S))return S=re(V,b(S)),new q(b(S.g),S.h);if(30<V.g.length){if(j(V)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,R=S;0>=R.l(V);)I=ne(I),R=ne(R);var M=ae(I,1),B=ae(R,1);for(R=ae(R,2),I=ae(I,2);!D(R);){var P=B.add(R);0>=P.l(V)&&(M=M.add(I),B=P),R=ae(R,1),I=ae(I,1)}return S=F(V,M.j(S)),new q(M,S)}for(M=E;0<=V.l(S);){for(I=Math.max(1,Math.floor(V.m()/S.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),B=m(I),P=B.j(S);j(P)||0<P.l(V);)I-=R,B=m(I),P=B.j(S);D(B)&&(B=w),M=M.add(B),V=F(V,P)}return new q(M,V)}t.A=function(V){return re(this,V).h},t.and=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)&V.i(R);return new u(I,this.h&V.h)},t.or=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)|V.i(R);return new u(I,this.h|V.h)},t.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)^V.i(R);return new u(I,this.h^V.h)};function ne(V){for(var S=V.g.length+1,I=[],R=0;R<S;R++)I[R]=V.i(R)<<1|V.i(R-1)>>>31;return new u(I,V.h)}function ae(V,S){var I=S>>5;S%=32;for(var R=V.g.length-I,M=[],B=0;B<R;B++)M[B]=0<S?V.i(B+I)>>>S|V.i(B+I+1)<<32-S:V.i(B+I);return new u(M,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,z_=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ei=u}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $_,Wa,H_,uc,Sd,W_,q_,K_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var x=0;x<c.length-1;x++){var z=c[x];if(!(z in _))break e;_=_[z]}c=c[c.length-1],x=_[c],g=g(x),g!=x&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function l(c,g){c instanceof String&&(c+="");var _=0,x=!1,z={next:function(){if(!x&&_<c.length){var K=_++;return{value:g(K,c[K]),done:!1}}return x=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return l(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function E(c,g,_){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,x),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function w(c,g,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,w.apply(null,arguments)}function A(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function D(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(x,z,K){for(var se=Array(arguments.length-2),He=2;He<arguments.length;He++)se[He-2]=arguments[He];return g.prototype[z].apply(x,se)}}function j(c){const g=c.length;if(0<g){const _=Array(g);for(let x=0;x<g;x++)_[x]=c[x];return _}return[]}function b(c,g){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(d(x)){const z=c.length||0,K=x.length||0;c.length=z+K;for(let se=0;se<K;se++)c[z+se]=x[se]}else c.push(x)}}class F{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ne=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ae(c,g,_){for(const x in c)g.call(_,c[x],x,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,g){let _,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(_ in x)c[_]=x[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function B(c){f.setTimeout(()=>{throw c},0)}function P(){var c=le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ce{constructor(){this.h=this.g=null}add(g,_){const x=Ie.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var Ie=new F(()=>new Ne,c=>c.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Q=!1,le=new Ce,oe=()=>{const c=f.Promise.resolve(void 0);me=()=>{c.then(U)}};var U=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(_){B(_)}var g=Ie;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function ke(c,g){if(ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ne){e:{try{re(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ke.aa.h.call(this)}}D(ke,ye);var Me={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function qe(c,g,_,x,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=z,this.key=++ze,this.da=this.fa=!1}function Ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wr(c){this.src=c,this.g={},this.h=0}wr.prototype.add=function(c,g,_,x,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=qr(c,g,x,z);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new qe(g,this.src,K,!!x,z),g.fa=_,c.push(g)),g};function Ss(c,g){var _=g.type;if(_ in c.g){var x=c.g[_],z=Array.prototype.indexOf.call(x,g,void 0),K;(K=0<=z)&&Array.prototype.splice.call(x,z,1),K&&(Ct(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function qr(c,g,_,x){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==x)return z}return-1}var bi="closure_lm_"+(1e6*Math.random()|0),As={};function Go(c,g,_,x,z){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Go(c,g[K],_,x,z);return null}return _=Xo(_),c&&c[Ue]?c.K(g,_,m(x)?!!x.capture:!1,z):Qo(c,g,_,!1,x,z)}function Qo(c,g,_,x,z,K){if(!g)throw Error("Invalid event type");var se=m(z)?!!z.capture:!!z,He=Is(c);if(He||(c[bi]=He=new wr(c)),_=He.add(g,_,x,se,K),_.proxy)return _;if(x=Ll(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)Pe||(z=se),z===void 0&&(z=!1),c.addEventListener(g.toString(),x,z);else if(c.attachEvent)c.attachEvent(Tr(g.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ll(){function c(_){return g.call(c.src,c.listener,_)}const g=Yo;return c}function Cs(c,g,_,x,z){if(Array.isArray(g))for(var K=0;K<g.length;K++)Cs(c,g[K],_,x,z);else x=m(x)?!!x.capture:!!x,_=Xo(_),c&&c[Ue]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],_=qr(K,_,x,z),-1<_&&(Ct(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Is(c))&&(g=c.g[g.toString()],c=-1,g&&(c=qr(g,_,x,z)),(_=-1<c?g[c]:null)&&Er(_))}function Er(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])Ss(g.i,c);else{var _=c.type,x=c.proxy;g.removeEventListener?g.removeEventListener(_,x,c.capture):g.detachEvent?g.detachEvent(Tr(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=Is(g))?(Ss(_,c),_.h==0&&(_.src=null,g[bi]=null)):Ct(c)}}}function Tr(c){return c in As?As[c]:As[c]="on"+c}function Yo(c,g){if(c.da)c=!0;else{g=new ke(g,this);var _=c.listener,x=c.ha||c.src;c.fa&&Er(c),c=_.call(x,g)}return c}function Is(c){return c=c[bi],c instanceof wr?c:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(c){return typeof c=="function"?c:(c[Ps]||(c[Ps]=function(g){return c.handleEvent(g)}),c[Ps])}function vt(){X.call(this),this.i=new wr(this),this.M=this,this.F=null}D(vt,X),vt.prototype[Ue]=!0,vt.prototype.removeEventListener=function(c,g,_,x){Cs(this,c,g,_,x)};function _t(c,g){var _,x=c.F;if(x)for(_=[];x;x=x.F)_.push(x);if(c=c.M,x=g.type||g,typeof g=="string")g=new ye(g,c);else if(g instanceof ye)g.target=g.target||c;else{var z=g;g=new ye(x,c),R(g,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var se=g.g=_[K];z=xr(se,x,!0,g)&&z}if(se=g.g=c,z=xr(se,x,!0,g)&&z,z=xr(se,x,!1,g)&&z,_)for(K=0;K<_.length;K++)se=g.g=_[K],z=xr(se,x,!1,g)&&z}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],x=0;x<_.length;x++)Ct(_[x]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,_,x){return this.i.add(String(c),g,!1,_,x)},vt.prototype.L=function(c,g,_,x){return this.i.add(String(c),g,!0,_,x)};function xr(c,g,_,x){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,K=0;K<g.length;++K){var se=g[K];if(se&&!se.da&&se.capture==_){var He=se.listener,wt=se.ha||se.src;se.fa&&Ss(c.i,se),z=He.call(wt,x)!==!1&&z}}return z&&!x.defaultPrevented}function Jo(c,g,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function Kr(c){c.g=Jo(()=>{c.g=null,c.i&&(c.i=!1,Kr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Mi extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(c){X.call(this),this.h=c,this.g={}}D(Li,X);var Zo=[];function ea(c){ae(c.g,function(g,_){this.g.hasOwnProperty(_)&&Er(g)},c),c.g={}}Li.prototype.N=function(){Li.aa.N.call(this),ea(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ta=f.JSON.stringify,na=f.JSON.parse,ra=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Oi(){}Oi.prototype.h=null;function ks(c){return c.h||(c.h=c.i())}function Rs(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){ye.call(this,"d")}D(Qn,ye);function Vs(){ye.call(this,"c")}D(Vs,ye);var Yn={},ia=null;function ji(){return ia=ia||new vt}Yn.La="serverreachability";function sa(c){ye.call(this,Yn.La,c)}D(sa,ye);function Sr(c){const g=ji();_t(g,new sa(g))}Yn.STAT_EVENT="statevent";function oa(c,g){ye.call(this,Yn.STAT_EVENT,c),this.stat=g}D(oa,ye);function ut(c){const g=ji();_t(g,new oa(g,c))}Yn.Ma="timingevent";function Ds(c,g){ye.call(this,Yn.Ma,c),this.size=g}D(Ds,ye);function Nn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Fi(){this.g=!0}Fi.prototype.xa=function(){this.g=!1};function Bi(c,g,_,x,z,K){c.info(function(){if(c.g)if(K)for(var se="",He=K.split("&"),wt=0;wt<He.length;wt++){var Le=He[wt].split("=");if(1<Le.length){var It=Le[0];Le=Le[1];var dt=It.split("_");se=2<=dt.length&&dt[1]=="type"?se+(It+"="+Le+"&"):se+(It+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+g+`
`+_+`
`+se})}function Ns(c,g,_,x,z,K,se){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+g+`
`+_+`
`+K+" "+se})}function bn(c,g,_,x){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+hh(c,_)+(x?" "+x:"")})}function aa(c,g){c.info(function(){return"TIMEOUT: "+g})}Fi.prototype.info=function(){};function hh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var x=_[c];if(!(2>x.length)){var z=x[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return ta(_)}catch{return g}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ol={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Ui(){}D(Ui,Oi),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},Mn=new Ui;function Ln(c,g,_,x){this.j=c,this.i=g,this.l=_,this.R=x||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}var la={},Ms={};function Ls(c,g,_){c.L=1,c.v=Jr(fn(g)),c.m=_,c.P=!0,ua(c,null)}function ua(c,g){c.F=Date.now(),Ke(c),c.A=fn(c.v);var _=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),ei(_.i,"t",x),c.C=0,_=c.j.J,c.h=new jl,c.g=nu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Mi(w(c.Y,c,c.g),c.O)),g=c.U,_=c.g,x=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Zo[0]=z.toString()),z=Zo);for(var K=0;K<z.length;K++){var se=Go(_,z[K],x||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Sr(),Bi(c.i,c.u,c.A,c.l,c.R,c.m)}Ln.prototype.ca=function(c){c=c.target;const g=this.M;g&&en(c)==3?g.j():this.Y(c)},Ln.prototype.Y=function(c){try{if(c==this.g)e:{const dt=en(this.g);var g=this.g.Ba();const Tn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||dt!=4||g==7||(g==8||0>=Tn?Sr(3):Sr(2)),zi(this);var _=this.g.Z();this.X=_;t:if(Fl(this)){var x=ma(this.g);c="";var z=x.length,K=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Gr(this);var se="";break t}this.h.i=new f.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(x[g],{stream:!(K&&g==z-1)});x.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Ns(this.i,this.u,this.A,this.l,this.R,dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,wt=this.g;if((He=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(He)){var Le=He;break t}}Le=null}if(_=Le)bn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ca(this,_);else{this.o=!1,this.s=3,ut(12),wn(this),Gr(this);break e}}if(this.P){_=!0;let pn;for(;!this.J&&this.C<se.length;)if(pn=fh(this,se),pn==Ms){dt==4&&(this.s=4,ut(14),_=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==la){this.s=4,ut(15),bn(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else bn(this.i,this.l,pn,null),ca(this,pn);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||se.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)bn(this.i,this.l,se,"[Invalid Chunked Response]"),wn(this),Gr(this);else if(0<se.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ya(It),It.M=!0,ut(11))}}else bn(this.i,this.l,se,null),ca(this,se);dt==4&&wn(this),this.o&&!this.J&&(dt==4?Ks(this.j,this):(this.o=!1,Ke(this)))}else zs(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),wn(this),Gr(this)}}}catch{}finally{}};function Fl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fh(c,g){var _=c.C,x=g.indexOf(`
`,_);return x==-1?Ms:(_=Number(g.substring(_,x)),isNaN(_)?la:(x+=1,x+_>g.length?Ms:(g=g.slice(x,x+_),c.C=x+_,g)))}Ln.prototype.cancel=function(){this.J=!0,wn(this)};function Ke(c){c.S=Date.now()+c.I,Bl(c,c.I)}function Bl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Nn(w(c.ba,c),g)}function zi(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(aa(this.i,this.A),this.L!=2&&(Sr(),ut(17)),wn(this),this.s=2,Gr(this)):Bl(this,this.S-c)};function Gr(c){c.j.G==0||c.J||Ks(c.j,c)}function wn(c){zi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ea(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ca(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Gt(_.h,c))){if(!c.K&&Gt(_.h,c)&&_.G==3){try{var x=_.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)qs(_),Un(_);else break e;Ws(_),ut(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Nn(w(_.Za,_),6e3));if(1>=zl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else kr(_,11)}else if((c.K||_.g==c)&&qs(_),!G(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Le=z[g];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const It=Le[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const dt=Le[4];dt!=null&&(_.Aa=dt,_.j.info("SVER="+_.Aa));const Tn=Le[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(x=1.5*Tn,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const pn=c.g;if(pn){const Qi=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qi){var K=x.h;K.g||Qi.indexOf("spdy")==-1&&Qi.indexOf("quic")==-1&&Qi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ha(K,K.h),K.h=null))}if(x.D){const Qs=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(x.ya=Qs,We(x.I,x.D,Qs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var se=c;if(x.qa=tu(x,x.J?x.ia:null,x.W),se.K){$l(x.h,se);var He=se,wt=x.L;wt&&(He.I=wt),He.B&&(zi(He),Ke(He)),x.g=se}else Gi(x);0<_.i.length&&er(_)}else Le[0]!="stop"&&Le[0]!="close"||kr(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?kr(_,7):Nt(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}Sr(4)}catch{}}var Ul=class{constructor(c,g){this.g=c,this.map=g}};function $i(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zl(c){return c.h?1:c.g?c.g.size:0}function Gt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ha(c,g){c.g?c.g.add(g):c.h=g}function $l(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}$i.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Hl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return j(c.i)}function Os(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],_=c.length,x=0;x<_;x++)g.push(c[x]);return g}g=[],_=0;for(x in c)g[_++]=c[x];return g}function js(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const x in c)g[_++]=x;return g}}}function Qr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=js(c),x=Os(c),z=x.length,K=0;K<z;K++)g.call(void 0,x[K],_&&_[K],c)}var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var x=c[_].indexOf("="),z=null;if(0<=x){var K=c[_].substring(0,x);z=c[_].substring(x+1)}else K=c[_];g(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ar(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ar){this.h=c.h,Wi(this,c.j),this.o=c.o,this.g=c.g,Yr(this,c.s),this.l=c.l;var g=c.i,_=new Xn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Xr(this,_),this.m=c.m}else c&&(g=String(c).match(Hi))?(this.h=!1,Wi(this,g[1]||"",!0),this.o=be(g[2]||""),this.g=be(g[3]||"",!0),Yr(this,g[4]),this.l=be(g[5]||"",!0),Xr(this,g[6]||"",!0),this.m=be(g[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}Ar.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zr(g,Fs,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zr(g,Fs,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Zr(_,_.charAt(0)=="/"?Kl:ql,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Zr(_,fa)),c.join("")};function fn(c){return new Ar(c)}function Wi(c,g,_){c.j=_?be(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Yr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Xr(c,g,_){g instanceof Xn?(c.i=g,Jn(c.i,c.h)):(_||(g=Zr(g,Gl)),c.i=new Xn(g,c.h))}function We(c,g,_){c.i.set(g,_)}function Jr(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function be(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Wl),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fs=/[#\/\?@]/g,ql=/[#\?:]/g,Kl=/[#\?]/g,Gl=/[#\?@]/g,fa=/#/g;function Xn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&dh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=Xn.prototype,t.add=function(c,g){Dt(this),this.i=null,c=En(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function On(c,g){Dt(c),g=En(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jn(c,g){return Dt(c),g=En(c,g),c.g.has(g)}t.forEach=function(c,g){Dt(this),this.g.forEach(function(_,x){_.forEach(function(z){c.call(g,z,x,this)},this)},this)},t.na=function(){Dt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let x=0;x<g.length;x++){const z=c[x];for(let K=0;K<z.length;K++)_.push(g[x])}return _},t.V=function(c){Dt(this);let g=[];if(typeof c=="string")jn(this,c)&&(g=g.concat(this.g.get(En(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return Dt(this),this.i=null,c=En(this,c),jn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ei(c,g,_){On(c,g),0<_.length&&(c.i=null,c.g.set(En(c,g),j(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var x=g[_];const K=encodeURIComponent(String(x)),se=this.V(x);for(x=0;x<se.length;x++){var z=K;se[x]!==""&&(z+="="+encodeURIComponent(String(se[x]))),c.push(z)}}return this.i=c.join("&")};function En(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Jn(c,g){g&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(_,x){var z=x.toLowerCase();x!=z&&(On(this,x),ei(this,z,_))},c)),c.j=g}function ph(c,g){const _=new Fi;if(f.Image){const x=new Image;x.onload=A(Zt,_,"TestLoadImage: loaded",!0,g,x),x.onerror=A(Zt,_,"TestLoadImage: error",!1,g,x),x.onabort=A(Zt,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=A(Zt,_,"TestLoadImage: timeout",!1,g,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else g(!1)}function Ql(c,g){const _=new Fi,x=new AbortController,z=setTimeout(()=>{x.abort(),Zt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:x.signal}).then(K=>{clearTimeout(z),K.ok?Zt(_,"TestPingServer: ok",!0,g):Zt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Zt(_,"TestPingServer: error",!1,g)})}function Zt(c,g,_,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(_)}catch{}}function mh(){this.g=new ra}function Yl(c,g,_){const x=_||"";try{Qr(c,function(z,K){let se=z;m(z)&&(se=ta(z)),g.push(x+K+"="+encodeURIComponent(se))})}catch(z){throw g.push(x+"type="+encodeURIComponent("_badmap")),z}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Cr,Oi),Cr.prototype.g=function(){return new qi(this.l,this.j)},Cr.prototype.i=function(c){return function(){return c}}({});function qi(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(qi,vt),t=qi.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Bn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Fn(this):Bn(this),this.readyState==3&&Xl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Fn(this))},t.Qa=function(c){this.g&&(this.response=c,Fn(this))},t.ga=function(){this.g&&Fn(this)};function Fn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Bn(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ir(c){let g="";return ae(c,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function ti(c,g,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Ir(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,g,_))}function Je(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Je,vt);var gh=/^https?$/i,da=["POST","PUT"];t=Je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?ks(this.o):ks(Mn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){Ki(this,K);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)_.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())_.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(da,g,void 0))||x||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ki(this,K)}};function Ki(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Bs(c),dn(c)}function Bs(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},t.bb=function(){pa(this)};function pa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||en(c)!=4||c.Z()!=2)){if(c.u&&en(c)==4)Jo(c.Ea,0,c);else if(_t(c,"readystatechange"),en(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var x;if(x=se===0){var z=String(c.D).match(Hi)[1]||null;!z&&f.self&&f.self.location&&(z=f.self.location.protocol.slice(0,-1)),x=!gh.test(z?z.toLowerCase():"")}_=x}if(_)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var K=2<en(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Bs(c)}}finally{dn(c)}}}}function dn(c,g){if(c.g){Us(c);const _=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||_t(c,"ready");try{_.onreadystatechange=x}catch{}}}function Us(c){c.I&&(f.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function en(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),na(g)}};function ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(c){const g={};c=(c.g&&2<=en(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(G(c[x]))continue;var _=M(c[x]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[z]||[];g[z]=K,K.push(_)}V(g,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ga(c){this.Aa=0,this.i=[],this.j=new Fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,c),this.cb=Zn("retryDelaySeedMs",1e4,c),this.Wa=Zn("forwardChannelMaxRetries",2,c),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $i(c&&c.concurrentRequestLimit),this.Da=new mh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ga.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,x){ut(0),this.W=c,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=tu(this,null,this.W),er(this)};function Nt(c){if($s(c),c.G==3){var g=c.U++,_=fn(c.I);if(We(_,"SID",c.K),We(_,"RID",g),We(_,"TYPE","terminate"),Pr(c,_),g=new Ln(c,c.j,g),g.L=2,g.v=Jr(fn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=nu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ke(g)}eu(c)}function Un(c){c.g&&(ya(c),c.g.cancel(),c.g=null)}function $s(c){Un(c),c.u&&(f.clearTimeout(c.u),c.u=null),qs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function er(c){if(!hn(c.h)&&!c.s){c.s=!0;var g=c.Ga;me||oe(),Q||(me(),Q=!0),le.add(g,c),c.B=0}}function yh(c,g){return zl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Nn(w(c.Ga,c,g),Zl(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Ln(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),R(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ni(this,z,g),_=fn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Pr(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(Ir(K)))+"&"+g:this.m&&ti(_,this.m,K)),ha(this.h,z),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",g),We(_,"SID","null"),z.T=!0,Ls(z,_,null)):Ls(z,_,g),this.G=2}}else this.G==3&&(c?Hs(this,c):this.i.length==0||hn(this.h)||Hs(this))};function Hs(c,g){var _;g?_=g.l:_=c.U++;const x=fn(c.I);We(x,"SID",c.K),We(x,"RID",_),We(x,"AID",c.T),Pr(c,x),c.m&&c.o&&ti(x,c.m,c.o),_=new Ln(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ni(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,_),Ls(_,x,g)}function Pr(c,g){c.H&&ae(c.H,function(_,x){We(g,x,_)}),c.l&&Qr({},function(_,x){We(g,x,_)})}function ni(c,g,_){_=Math.min(c.i.length,_);var x=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=z[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let He=!0;for(let wt=0;wt<_;wt++){let Le=z[wt].g;const It=z[wt].map;if(Le-=K,0>Le)K=Math.max(0,z[wt].g-100),He=!1;else try{Yl(It,se,"req"+Le+"_")}catch{x&&x(It)}}if(He){x=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,x}function Gi(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;me||oe(),Q||(me(),Q=!0),le.add(g,c),c.v=0}}function Ws(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Nn(w(c.Fa,c),Zl(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Nn(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Un(this),Jl(this))};function ya(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Jl(c){c.g=new Ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=fn(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Pr(c,g),c.m&&c.o&&ti(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Jr(fn(g)),_.m=null,_.P=!0,ua(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Un(this),Ws(this),ut(19))};function qs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ks(c,g){var _=null;if(c.g==g){qs(c),ya(c),c.g=null;var x=2}else if(Gt(c.h,g))_=g.D,$l(c.h,g),x=1;else return;if(c.G!=0){if(g.o)if(x==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;x=ji(),_t(x,new Ds(x,_)),er(c)}else Gi(c);else if(z=g.s,z==3||z==0&&0<g.X||!(x==1&&yh(c,g)||x==2&&Ws(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function Zl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function kr(c,g){if(c.j.info("Error code "+g),g==2){var _=w(c.fb,c),x=c.Xa;const z=!x;x=new Ar(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wi(x,"https"),Jr(x),z?ph(x.toString(),_):Ql(x.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(g),eu(c),$s(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function eu(c){if(c.G=0,c.ka=[],c.l){const g=Hl(c.h);(g.length!=0||c.i.length!=0)&&(b(c.ka,g),b(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function tu(c,g,_){var x=_ instanceof Ar?fn(_):new Ar(_);if(x.g!="")g&&(x.g=g+"."+x.g),Yr(x,x.s);else{var z=f.location;x=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var K=new Ar(null);x&&Wi(K,x),g&&(K.g=g),z&&Yr(K,z),_&&(K.l=_),x=K}return _=c.D,g=c.ya,_&&g&&We(x,_,g),We(x,"VER",c.la),Pr(c,x),x}function nu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Je(new Cr({eb:_})):new Je(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function va(){}t=va.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gs(){}Gs.prototype.g=function(c,g){return new Qt(c,g)};function Qt(c,g){vt.call(this),this.g=new ga(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!G(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!G(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new tr(this)}D(Qt,vt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Nt(this.g)},Qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ta(c),c=_);g.i.push(new Ul(g.Ya++,c)),g.G==3&&er(g)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Qt.aa.N.call(this)};function ru(c){Qn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}D(ru,Qn);function iu(){Vs.call(this),this.status=1}D(iu,Vs);function tr(c){this.g=c}D(tr,va),tr.prototype.ua=function(){_t(this.g,"a")},tr.prototype.ta=function(c){_t(this.g,new ru(c))},tr.prototype.sa=function(c){_t(this.g,new iu)},tr.prototype.ra=function(){_t(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,K_=function(){return new Gs},q_=function(){return ji()},W_=Yn,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,uc=bs,Ol.COMPLETE="complete",H_=Ol,Rs.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Wa=Rs,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,$_=Je}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore",sv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new L_("@firebase/firestore");function vo(){return _s.logLevel}function ce(t,...e){if(_s.logLevel<=je.DEBUG){const n=e.map(gp);_s.debug(`Firestore (${Uo}): ${t}`,...n)}}function Ur(t,...e){if(_s.logLevel<=je.ERROR){const n=e.map(gp);_s.error(`Firestore (${Uo}): ${t}`,...n)}}function Ro(t,...e){if(_s.logLevel<=je.WARN){const n=e.map(gp);_s.warn(`Firestore (${Uo}): ${t}`,...n)}}function gp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,G_(t,i,n)}function G_(t,e,n){let i=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ur(i),new Error(i)}function $e(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||G_(e,o,i)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class xC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let i=this.i;const o=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ti,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},f=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ti)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new Q_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class AC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new AC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ov(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=PC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function Ve(t,e){return t<e?-1:t>e?1:0}function Ad(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),l=e.charAt(i);if(o!==l)return Qf(o)===Qf(l)?Ve(o,l):Qf(o)?1:-1}return Ve(t.length,e.length)}const kC=55296,RC=57343;function Qf(t){const e=t.charCodeAt(0);return e>=kC&&e<=RC}function Vo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="__name__";class or{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=or.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Ve(e.length,n.length)}static compareSegments(e,n){const i=or.isNumericId(e),o=or.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?or.extractNumericId(e).compare(or.extractNumericId(n)):Ad(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class rt extends or{construct(e,n,i){return new rt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const VC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends or{construct(e,n,i){return new jt(e,n,i)}static isValidIdentifier(e){return VC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new jt([av])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(rt.fromString(e))}static fromName(e){return new we(rt.fromString(e).popFirst(5))}static empty(){return new we(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e,n){if(!n)throw new ge(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NC(t,e,n,i){if(e===!0&&i===!0)throw new ge(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lv(t){if(!we.isDocumentKey(t))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vp(t);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Il(t,e){if(!Y_(t))throw new ge(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ge(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*cv);return new Xe(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uv)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Il(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:yt("string",Xe._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Xe(0,0))}static max(){return new Se(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function bC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new Xe(n+1,0):new Xe(n,i));return new xi(o,we.empty(),e)}function MC(t){return new xi(t.readTime,t.key,cl)}class xi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new xi(Se.min(),we.empty(),cl)}static max(){return new xi(Se.max(),we.empty(),cl)}}function LC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==OC)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,i)=>{n(e)})}static reject(e){return new Y((n,i)=>{i(e)})}static waitFor(e){return new Y((n,i)=>{let o=0,l=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++l,u&&l===o&&n()},d=>i(d))}),u=!0,l===o&&n()})}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next(o=>o?Y.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,l)=>{i.push(n.call(this,o,l))}),this.waitFor(i)}static mapArray(e,n){return new Y((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next(v=>{u[m]=v,++f,f===l&&i(u)},v=>o(v))}})}static doWhile(e,n){return new Y((i,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):i()};l()})}}function FC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function qc(t){return t==null}function Sc(t){return t===0&&1/t==-1/0}function BC(t){return typeof t=="number"&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="";function UC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hv(e)),e=zC(t.get(n),e);return hv(e)}function zC(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case X_:n+="";break;default:n+=l}}return n}function hv(t){return t+X_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new Ot(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(e){return new dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new At(jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Z_("Invalid base64 string: "+l):l}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const $C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=$C.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="server_timestamp",tw="__type__",nw="__previous_value__",rw="__local_write_time__";function wp(t){return(t?.mapValue?.fields||{})[tw]?.stringValue===ew}function Kc(t){const e=t.mapValue.fields[nw];return wp(e)?Kc(e):e}function hl(t){const e=Si(t.mapValue.fields[rw].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,i,o,l,u,f,d,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=v}}const Ac="(default)";class fl{constructor(e,n){this.projectId=e,this.database=n||Ac}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__type__",WC="__max__",tc={mapValue:{}},sw="__vector__",Cc="value";function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wp(t)?4:KC(t)?9007199254740991:qC(t)?10:11:Ee(28295,{value:t})}function gr(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Si(o.timestampValue),f=Si(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Ai(o.bytesValue).isEqual(Ai(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return ft(o.geoPointValue.latitude)===ft(l.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ft(o.integerValue)===ft(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=ft(o.doubleValue),f=ft(l.doubleValue);return u===f?Sc(u)===Sc(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(fv(u)!==fv(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!gr(u[d],f[d])))return!1;return!0}(t,e);default:return Ee(52216,{left:t})}}function dl(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=Ci(t),i=Ci(e);if(n!==i)return Ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(l,u){const f=ft(l.integerValue||l.doubleValue),d=ft(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return pv(t.timestampValue,e.timestampValue);case 4:return pv(hl(t),hl(e));case 5:return Ad(t.stringValue,e.stringValue);case 6:return function(l,u){const f=Ai(l),d=Ai(u);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),d=u.split("/");for(let m=0;m<f.length&&m<d.length;m++){const v=Ve(f[m],d[m]);if(v!==0)return v}return Ve(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const f=Ve(ft(l.latitude),ft(u.latitude));return f!==0?f:Ve(ft(l.longitude),ft(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mv(t.arrayValue,e.arrayValue);case 10:return function(l,u){const f=l.fields||{},d=u.fields||{},m=f[Cc]?.arrayValue,v=d[Cc]?.arrayValue,E=Ve(m?.values?.length||0,v?.values?.length||0);return E!==0?E:mv(m,v)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===tc.mapValue&&u===tc.mapValue)return 0;if(l===tc.mapValue)return 1;if(u===tc.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),m=u.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let E=0;E<d.length&&E<v.length;++E){const w=Ad(d[E],v[E]);if(w!==0)return w;const A=Do(f[d[E]],m[v[E]]);if(A!==0)return A}return Ve(d.length,v.length)}(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function pv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Si(t),i=Si(e),o=Ve(n.seconds,i.seconds);return o!==0?o:Ve(n.nanos,i.nanos)}function mv(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=Do(n[o],i[o]);if(l)return l}return Ve(n.length,i.length)}function No(t){return Cd(t)}function Cd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Si(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ai(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=Cd(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${Cd(n.fields[u])}`;return o+"}"}(t.mapValue):Ee(61005,{value:t})}function cc(t){switch(Ci(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(t);return e?16+cc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+cc(l),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return Vi(i.fields,(l,u)=>{o+=l.length+cc(u)}),o}(t.mapValue);default:throw Ee(13486,{value:t})}}function Id(t){return!!t&&"integerValue"in t}function Ep(t){return!!t&&"arrayValue"in t}function gv(t){return!!t&&"nullValue"in t}function yv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hc(t){return!!t&&"mapValue"in t}function qC(t){return(t?.mapValue?.fields||{})[iw]?.stringValue===sw}function Xa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Xa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xa(t.arrayValue.values[n]);return e}return{...t}}function KC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(n)}setAll(e){let n=jt.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=Xa(u):o.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Vi(n,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new un(Xa(this.value))}}function ow(t){const e=[];return Vi(t.fields,(n,i)=>{const o=new jt([n]);if(hc(i)){const l=ow(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,i,o,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Se.min(),Se.min(),Se.min(),un.empty(),0)}static newFoundDocument(e,n,i,o){return new qt(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new qt(e,2,n,Se.min(),Se.min(),un.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,Se.min(),Se.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.position=e,this.inclusive=n}}function vv(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(u.referenceValue),n.key):i=Do(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function _v(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function GC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{}class xt extends aw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new YC(e,n,i):n==="array-contains"?new ZC(e,i):n==="in"?new eI(e,i):n==="not-in"?new tI(e,i):n==="array-contains-any"?new nI(e,i):new xt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new XC(e,i):new JC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends aw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yr(e,n)}matches(e){return lw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lw(t){return t.op==="and"}function uw(t){return QC(t)&&lw(t)}function QC(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function Pd(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(uw(t))return t.filters.map(e=>Pd(e)).join(",");{const e=t.filters.map(n=>Pd(n)).join(",");return`${t.op}(${e})`}}function cw(t,e){return t instanceof xt?function(i,o){return o instanceof xt&&i.op===o.op&&i.field.isEqual(o.field)&&gr(i.value,o.value)}(t,e):t instanceof yr?function(i,o){return o instanceof yr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,u,f)=>l&&cw(u,o.filters[f]),!0):!1}(t,e):void Ee(19439)}function hw(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof yr?function(n){return n.op.toString()+" {"+n.getFilters().map(hw).join(" ,")+"}"}(t):"Filter"}class YC extends xt{constructor(e,n,i){super(e,n,i),this.key=we.fromName(i.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class XC extends xt{constructor(e,n){super(e,"in",n),this.keys=fw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JC extends xt{constructor(e,n){super(e,"not-in",n),this.keys=fw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fw(t,e){return(e.arrayValue?.values||[]).map(n=>we.fromName(n.referenceValue))}class ZC extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ep(n)&&dl(n.arrayValue,this.value)}}class eI extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dl(this.value.arrayValue,n)}}class tI extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dl(this.value.arrayValue,n)}}class nI extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function wv(t,e=null,n=[],i=[],o=null,l=null,u=null){return new rI(t,e,n,i,o,l,u)}function Tp(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Pd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>No(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>No(i)).join(",")),e.Te=n}return e.Te}function xp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_v(t.startAt,e.startAt)&&_v(t.endAt,e.endAt)}function kd(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n=null,i=[],o=[],l=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iI(t,e,n,i,o,l,u,f){return new Gc(t,e,n,i,o,l,u,f)}function Sp(t){return new Gc(t)}function Ev(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sI(t){return t.collectionGroup!==null}function Ja(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new At(jt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Pc(l,i))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new Pc(jt.keyField(),i))}return e.Ie}function ar(t){const e=Ae(t);return e.Ee||(e.Ee=oI(e,Ja(t))),e.Ee}function oI(t,e){if(t.limitType==="F")return wv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Pc(o.field,l)});const n=t.endAt?new Ic(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ic(t.startAt.position,t.startAt.inclusive):null;return wv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Rd(t,e,n){return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qc(t,e){return xp(ar(t),ar(e))&&t.limitType===e.limitType}function dw(t){return`${Tp(ar(t))}|lt:${t.limitType}`}function _o(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>hw(o)).join(", ")}]`),qc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>No(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>No(o)).join(",")),`Target(${i})`}(ar(t))}; limitType=${t.limitType})`}function Yc(t,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,o){for(const l of Ja(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(u,f,d){const m=vv(u,f,d);return u.inclusive?m<=0:m<0}(i.startAt,Ja(i),o)||i.endAt&&!function(u,f,d){const m=vv(u,f,d);return u.inclusive?m>=0:m>0}(i.endAt,Ja(i),o))}(t,e)}function aI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pw(t){return(e,n)=>{let i=!1;for(const o of Ja(t)){const l=lI(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function lI(t,e,n){const i=t.field.isKeyField()?we.comparator(e.key,n.key):function(l,u,f){const d=u.data.field(l),m=f.data.field(l);return d!==null&&m!==null?Do(d,m):Ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(n,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new ot(we.comparator);function zr(){return uI}const mw=new ot(we.comparator);function qa(...t){let e=mw;for(const n of t)e=e.insert(n.key,n);return e}function gw(t){let e=mw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function hs(){return Za()}function yw(){return Za()}function Za(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const cI=new ot(we.comparator),hI=new At(we.comparator);function De(...t){let e=hI;for(const n of t)e=e.add(n);return e}const fI=new At(Ve);function dI(){return fI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function vw(t){return{integerValue:""+t}}function _w(t,e){return BC(e)?vw(e):Ap(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function pI(t,e,n){return t instanceof kc?function(o,l){const u={fields:{[tw]:{stringValue:ew},[rw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&wp(l)&&(l=Kc(l)),l&&(u.fields[nw]=l),{mapValue:u}}(n,e):t instanceof pl?Ew(t,e):t instanceof ml?Tw(t,e):function(o,l){const u=ww(o,l),f=Tv(u)+Tv(o.Ae);return Id(u)&&Id(o.Ae)?vw(f):Ap(o.serializer,f)}(t,e)}function mI(t,e,n){return t instanceof pl?Ew(t,e):t instanceof ml?Tw(t,e):n}function ww(t,e){return t instanceof gl?function(i){return Id(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class kc extends Xc{}class pl extends Xc{constructor(e){super(),this.elements=e}}function Ew(t,e){const n=xw(e);for(const i of t.elements)n.some(o=>gr(o,i))||n.push(i);return{arrayValue:{values:n}}}class ml extends Xc{constructor(e){super(),this.elements=e}}function Tw(t,e){let n=xw(e);for(const i of t.elements)n=n.filter(o=>!gr(o,i));return{arrayValue:{values:n}}}class gl extends Xc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tv(t){return ft(t.integerValue||t.doubleValue)}function xw(t){return Ep(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.field=e,this.transform=n}}function yI(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof pl&&o instanceof pl||i instanceof ml&&o instanceof ml?Vo(i.elements,o.elements,gr):i instanceof gl&&o instanceof gl?gr(i.Ae,o.Ae):i instanceof kc&&o instanceof kc}(t.transform,e.transform)}class vI{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jc{}function Sw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cw(t.key,lr.none()):new Pl(t.key,t.data,lr.none());{const n=t.data,i=un.empty();let o=new At(jt.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new Di(t.key,i,new vn(o.toArray()),lr.none())}}function _I(t,e,n){t instanceof Pl?function(o,l,u){const f=o.value.clone(),d=Sv(o.fieldTransforms,l,u.transformResults);f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(o,l,u){if(!fc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Sv(o.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(Aw(o)),d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,i){return t instanceof Pl?function(l,u,f,d){if(!fc(l.precondition,u))return f;const m=l.value.clone(),v=Av(l.fieldTransforms,d,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Di?function(l,u,f,d){if(!fc(l.precondition,u))return f;const m=Av(l.fieldTransforms,d,u),v=u.data;return v.setAll(Aw(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(t,e,n,i):function(l,u,f){return fc(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function wI(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=ww(i.transform,o||null);l!=null&&(n===null&&(n=un.empty()),n.set(i.field,l))}return n||null}function xv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Vo(i,o,(l,u)=>yI(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pl extends Jc{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Di extends Jc{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Aw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Sv(t,e,n){const i=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,mI(u,f,n[o]))}return i}function Av(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,pI(l,u,e))}return i}class Cw extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_I(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=el(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=el(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=yw();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(o.key)?null:f;const d=Sw(u,f);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,i)=>xv(n,i))&&Vo(this.baseMutations,e.baseMutations,(n,i)=>xv(n,i))}}class Cp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){$e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return cI}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new Cp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Oe;function AI(t){switch(t){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function Iw(t){if(t===void 0)return Ur("GRPC error has no .code"),Z.UNKNOWN;switch(t){case mt.OK:return Z.OK;case mt.CANCELLED:return Z.CANCELLED;case mt.UNKNOWN:return Z.UNKNOWN;case mt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case mt.INTERNAL:return Z.INTERNAL;case mt.UNAVAILABLE:return Z.UNAVAILABLE;case mt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case mt.NOT_FOUND:return Z.NOT_FOUND;case mt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case mt.ABORTED:return Z.ABORTED;case mt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case mt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:t})}}(Oe=mt||(mt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Ei([4294967295,4294967295],0);function Cv(t){const e=CI().encode(t),n=new z_;return n.update(e),new Uint8Array(n.digest())}function Iv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ei([n,i],0),new Ei([o,l],0)]}class Ip{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(i<0)throw new Ka(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ei.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ei.fromNumber(i)));return o.compare(II)===1&&(o=new Ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Cv(e),[i,o]=Iv(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ip(l,o,n);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.ge===0)return;const n=Cv(e),[i,o]=Iv(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Zc(Se.min(),o,new ot(Ve),zr(),De())}}class kl{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new kl(i,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class Pw{constructor(e,n){this.targetId=e,this.Ce=n}}class kw{constructor(e,n,i=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Pv{constructor(){this.ve=0,this.Fe=kv(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),i=De();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:l})}}),new kl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=kv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PI{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=nc(),this.He=nc(),this.Ye=new ot(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(kd(l))if(i===0){const u=new we(l.path);this.et(n,u,qt.newNoDocument(u,Se.min()))}else $e(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),d=f?this.ct(f,e,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,f;try{u=Ai(i).toUint8Array()}catch(d){if(d instanceof Z_)return Ro("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Ip(u,o,l)}catch(d){return Ro(d instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach(l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((l,u)=>{const f=this.ot(u);if(f){if(l.current&&kd(f.target)){const d=new we(f.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,qt.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}});let i=De();this.He.forEach((l,u)=>{let f=!0;u.forEachWhile(d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const o=new Zc(e,n,this.Ye,this.je,i);return this.je=zr(),this.Je=nc(),this.He=nc(),this.Ye=new ot(Ve),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Pv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nc(){return new ot(we.comparator)}function kv(){return new ot(we.comparator)}const kI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VI={and:"AND",or:"OR"};class DI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vd(t,e){return t.useProto3Json||qc(e)?e:{value:e}}function Rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NI(t,e){return Rc(t,e.toTimestamp())}function ur(t){return $e(!!t,49232),Se.fromTimestamp(function(n){const i=Si(n);return new Xe(i.seconds,i.nanos)}(t))}function Pp(t,e){return Dd(t,e).canonicalString()}function Dd(t,e){const n=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vw(t){const e=rt.fromString(t);return $e(Lw(e),10190,{key:e.toString()}),e}function Nd(t,e){return Pp(t.databaseId,e.path)}function Yf(t,e){const n=Vw(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(Nw(n))}function Dw(t,e){return Pp(t.databaseId,e)}function bI(t){const e=Vw(t);return e.length===4?rt.emptyPath():Nw(e)}function bd(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nw(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rv(t,e,n){return{name:Nd(t,e),fields:n.value.mapValue.fields}}function MI(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?($e(v===void 0||typeof v=="string",58123),Ft.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ft.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Z.UNKNOWN:Iw(m.code);return new ge(v,m.message||"")}(u);n=new kw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Yf(t,i.document.name),l=ur(i.document.updateTime),u=i.document.createTime?ur(i.document.createTime):Se.min(),f=new un({mapValue:{fields:i.document.fields}}),d=qt.newFoundDocument(o,l,u,f),m=i.targetIds||[],v=i.removedTargetIds||[];n=new dc(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Yf(t,i.document),l=i.readTime?ur(i.readTime):Se.min(),u=qt.newNoDocument(o,l),f=i.removedTargetIds||[];n=new dc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Yf(t,i.document),l=i.removedTargetIds||[];n=new dc([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new SI(o,l),f=i.targetId;n=new Pw(f,u)}}return n}function LI(t,e){let n;if(e instanceof Pl)n={update:Rv(t,e.key,e.value)};else if(e instanceof Cw)n={delete:Nd(t,e.key)};else if(e instanceof Di)n={update:Rv(t,e.key,e.data),updateMask:WI(e.fieldMask)};else{if(!(e instanceof EI))return Ee(16599,{Vt:e.type});n={verify:Nd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const f=u.transform;if(f instanceof kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof pl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gl)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ee(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:NI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)}(t,e.precondition)),n}function OI(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map(n=>function(o,l){let u=o.updateTime?ur(o.updateTime):ur(l);return u.isEqual(Se.min())&&(u=ur(l)),new vI(u,o.transformResults||[])}(n,e))):[]}function jI(t,e){return{documents:[Dw(t,e.path)]}}function FI(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Dw(t,o);const l=function(m){if(m.length!==0)return Mw(yr.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(v=>function(w){return{field:wo(w.field),direction:zI(w.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Vd(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:n,parent:o}}function BI(t){let e=bI(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){$e(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(E){const w=bw(E);return w instanceof yr&&uw(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(E){return E.map(w=>function(D){return new Pc(Eo(D.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(n.orderBy));let f=null;n.limit&&(f=function(E){let w;return w=typeof E=="object"?E.value:E,qc(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(E){const w=!!E.before,A=E.values||[];return new Ic(A,w)}(n.startAt));let m=null;return n.endAt&&(m=function(E){const w=!E.before,A=E.values||[];return new Ic(A,w)}(n.endAt)),iI(e,o,u,l,f,"F",d,m)}function UI(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Eo(n.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(n.unaryFilter.field);return xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Eo(n.unaryFilter.field);return xt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return xt.create(Eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yr.create(n.compositeFilter.filters.map(i=>bw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(t):Ee(30097,{filter:t})}function zI(t){return kI[t]}function $I(t){return RI[t]}function HI(t){return VI[t]}function wo(t){return{fieldPath:t.canonicalString()}}function Eo(t){return jt.fromServerFormat(t.fieldPath)}function Mw(t){return t instanceof xt?function(n){if(n.op==="=="){if(yv(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(gv(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yv(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(gv(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:$I(n.op),value:n.value}}}(t):t instanceof yr?function(n){const i=n.getFilters().map(o=>Mw(o));return i.length===1?i[0]:{compositeFilter:{op:HI(n.op),filters:i}}}(t):Ee(54877,{filter:t})}function WI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Lw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,i,o,l=Se.min(),u=Se.min(),f=Ft.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.yt=e}}function KI(t){const e=BI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Cn=new QI}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(xi.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class QI{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new At(rt.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new At(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ow=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Ow,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LruGarbageCollector",YI=1048576;function Nv([t,e],[n,i]){const o=Ve(t,n);return o===0?Ve(e,i):o}class XI{constructor(e){this.Ir=e,this.buffer=new At(Nv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Nv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JI{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Dv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ce(Dv,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Vr(3e5)})}}class ZI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Wc.ce);const i=new XI(n);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Vv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,l,u,f,d,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,n))).next(E=>(l=E,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),vo()<=je.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${E} documents in `+(m-d)+`ms
Total Duration: ${m-v}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E})))}}function eP(t,e){return new ZI(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.changes=new Ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&el(i.mutation,o,vn.empty(),Xe.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,De()).next(()=>i))}getLocalViewOfDocuments(e,n,i=De()){const o=hs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(l=>{let u=qa();return l.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,De()))}populateOverlays(e,n,i){const o=[];return i.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,i,o){let l=zr();const u=Za(),f=function(){return Za()}();return n.forEach((d,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Di)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),el(v.mutation,m,v.mutation.getFieldMask(),Xe.now())):u.set(m.key,vn.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((m,v)=>u.set(m,v)),n.forEach((m,v)=>f.set(m,new nP(v,u.get(m)??null))),f))}recalculateAndSaveOverlays(e,n){const i=Za();let o=new ot((u,f)=>u-f),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let v=i.get(d)||vn.empty();v=f.applyToLocalView(m,v),i.set(d,v);const E=(o.get(f.batchId)||De()).add(d);o=o.insert(f.batchId,E)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),m=d.key,v=d.value,E=yw();v.forEach(w=>{if(!l.has(w)){const A=Sw(n.get(w),i.get(w));A!==null&&E.set(w,A),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return Y.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):Y.resolve(hs());let f=cl,d=l;return u.next(m=>Y.forEach(m,(v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(v)?Y.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{d=d.insert(v,w)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,d,m,De())).next(v=>({batchId:f,changes:gw(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(i=>{let o=qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=qa();return this.indexManager.getCollectionParents(e,l).next(f=>Y.forEach(f,d=>{const m=function(E,w){return new Gc(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((E,w)=>{u=u.insert(E,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o))).next(u=>{l.forEach((d,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,qt.newInvalidDocument(v)))});let f=qa();return u.forEach((d,m)=>{const v=l.get(d);v!==void 0&&el(v.mutation,m,vn.empty(),Xe.now()),Yc(n,m)&&(f=f.insert(d,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:KI(o.bundledQuery),readTime:ur(o.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.overlays=new ot(we.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=hs();return Y.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,l)=>{this.St(e,n,l)}),Y.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const o=hs(),l=n.length+1,u=new we(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&o.set(d.getKey(),d)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new ot((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=hs(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=hs(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return Y.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new xI(n,i));let l=this.qr.get(n);l===void 0&&(l=De(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Qr=new At(Vt.$r),this.Ur=new At(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Vt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new we(new rt([])),i=new Vt(n,e),o=new Vt(n,e+1),l=[];return this.Ur.forEachInRange([i,o],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new rt([])),i=new Vt(n,e),o=new Vt(n,e+1);let l=De();return this.Ur.forEachInRange([i,o],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Vt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(Vt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TI(l,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new Vt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],u=>{const f=this.Xr(u.Yr);l.push(f)}),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new At(Ve);return n.forEach(o=>{const l=new Vt(o,0),u=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],f=>{i=i.add(f.Yr)})}),Y.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const u=new Vt(new we(l),0);let f=new At(Ve);return this.Zr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(d.Yr)),!0)},u),Y.resolve(this.ti(f))}ti(e){const n=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Y.forEach(n.mutations,o=>{const l=new Vt(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Vt(n,0),o=this.Zr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.ri=e,this.docs=function(){return new ot(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let i=zr();return n.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))}),Y.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=zr();const u=n.path,f=new we(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||LC(MC(v),i)<=0||(o.has(v.key)||Yc(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,n,i,o){Ee(9500)}ii(e,n){return Y.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new uP(this)}getSize(e){return Y.resolve(this.size)}}class uP extends tP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.persistence=e,this.si=new Ts(n=>Tp(n),xp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach((i,o)=>n(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.si.forEach((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Y.waitFor(l).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),Y.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wc(0),this.li=!1,this.li=!0,this.hi=new oP,this.referenceDelegate=e(this),this.Pi=new cP(this),this.indexManager=new GI,this.remoteDocumentCache=function(o){return new lP(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new qI(n),this.Ii=new iP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new aP(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new hP(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,n){return Y.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class hP extends jC{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Rp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,i=>{const o=we.fromPath(i);return this.gi(e,o).next(l=>{l||n.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vc{constructor(e,n){this.persistence=e,this.pi=new Ts(i=>UC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=eP(this,n)}static mi(e,n){return new Vc(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return Y.forEach(this.pi,(i,o)=>this.br(e,i,o).next(l=>l?Y.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,n).next(f=>{f||(i++,l.removeEntry(u,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cc(e.data.value)),n}br(e,n,i){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=De(),o=De();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Vp(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nA()?8:FC(eA())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ys(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,n,o,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new fP;return this.Ss(e,n,u).next(f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)})}).next(()=>l.result)}bs(e,n,i,o){return i.documentReadCount<this.fs?(vo()<=je.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(vo()<=je.DEBUG&&ce("QueryEngine","Query:",_o(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(vo()<=je.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):Y.resolve())}ys(e,n){if(Ev(n))return Y.resolve(null);let i=ar(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Rd(n,null,"F"),i=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=De(...l);return this.ps.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.Ds(n,f);return this.Cs(n,m,u,d.readTime)?this.ys(e,Rd(n,null,"F")):this.vs(e,m,n,d)}))})))}ws(e,n,i,o){return Ev(n)||o.isEqual(Se.min())?Y.resolve(null):this.ps.getDocuments(e,i).next(l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,o)?Y.resolve(null):(vo()<=je.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,u,n,bC(o,cl)).next(f=>f))})}Ds(e,n){let i=new At(pw(e));return n.forEach((o,l)=>{Yc(e,l)&&(i=i.add(l))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return vo()<=je.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,xi.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",pP=3e8;class mP{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ot(Ve),this.xs=new Ts(l=>Tp(l),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gP(t,e,n,i){return new mP(t,e,n,i)}async function Fw(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let d=De();for(const m of o){u.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of l){f.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(i,d).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:f}))})})}function yP(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(f,d,m,v){const E=m.batch,w=E.keys();let A=Y.resolve();return w.forEach(D=>{A=A.next(()=>v.getEntry(d,D)).next(j=>{const b=m.docVersions.get(D);$e(b!==null,48541),j.version.compareTo(b)<0&&(E.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(d,E))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let d=De();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(d=d.add(f.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function Bw(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function vP(t,e){const n=Ae(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach((v,E)=>{const w=o.get(E);if(!w)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next(()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E)));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(Ft.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),o=o.insert(E,A),function(j,b,F){return j.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=pP?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,A,v)&&f.push(n.Pi.updateTargetData(l,A))});let d=zr(),m=De();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(_P(l,u,e.documentUpdates).next(v=>{d=v.ks,m=v.qs})),!i.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next(E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return Y.waitFor(f).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,m)).next(()=>d)}).then(l=>(n.Ms=o,l))}function _P(t,e,n){let i=De(),o=De();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=zr();return n.forEach((f,d)=>{const m=l.get(f);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(Se.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ce(Dp,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)}),{ks:u,qs:o}})}function wP(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function EP(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Pi.getTargetData(i,e).next(l=>l?(o=l,Y.resolve(o)):n.Pi.allocateTargetId(i).next(u=>(o=new vi(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Md(t,e,n){const i=Ae(t),o=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!$o(u))throw u;ce(Dp,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function bv(t,e,n){const i=Ae(t);let o=Se.min(),l=De();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,v){const E=Ae(d),w=E.xs.get(v);return w!==void 0?Y.resolve(E.Ms.get(w)):E.Pi.getTargetData(m,v)}(i,u,ar(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next(d=>{l=d})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?l:De())).next(f=>(TP(i,aI(e),f),{documents:f,Qs:l})))}function TP(t,e,n){let i=t.Os.get(e)||Se.min();n.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Os.set(e,i)}class Mv{constructor(){this.activeTargetIds=dI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xP{constructor(){this.Mo=new Mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="ConnectivityMonitor";class Ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Ld(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="RestConnection",AP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ac?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,l){const u=Ld(),f=this.zo(e,n.toUriEncodedString());ce(Xf,`Sending RPC '${e}' ${u}:`,f,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,o,l);const{host:m}=new URL(f),v=pp(m);return this.Jo(e,f,d,i,v).then(E=>(ce(Xf,`Received RPC '${e}' ${u}: `,E),E),E=>{throw Ro(Xf,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",i),E})}Ho(e,n,i,o,l,u){return this.Go(e,n,i,o,l)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}zo(e,n){const i=AP[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class PP extends CP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const u=Ld();return new Promise((f,d)=>{const m=new $_;m.setWithCredentials(!0),m.listenOnce(H_.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uc.NO_ERROR:const E=m.getResponseJson();ce(Ht,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case uc.TIMEOUT:ce(Ht,`RPC '${e}' ${u} timed out`),d(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const w=m.getStatus();if(ce(Ht,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const j=function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(G)>=0?G:Z.UNKNOWN}(D.status);d(new ge(j,D.message))}else d(new ge(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ce(Ht,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);ce(Ht,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",v,i,15)})}T_(e,n,i){const o=Ld(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=K_(),f=q_(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const v=l.join("");ce(Ht,`Creating RPC '${e}' stream ${o}: ${v}`,d);const E=u.createWebChannel(v,d);this.I_(E);let w=!1,A=!1;const D=new IP({Yo:b=>{A?ce(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(w||(ce(Ht,`Opening RPC '${e}' stream ${o} transport.`),E.open(),w=!0),ce(Ht,`RPC '${e}' stream ${o} sending:`,b),E.send(b))},Zo:()=>E.close()}),j=(b,F,G)=>{b.listen(F,q=>{try{G(q)}catch(re){setTimeout(()=>{throw re},0)}})};return j(E,Wa.EventType.OPEN,()=>{A||(ce(Ht,`RPC '${e}' stream ${o} transport opened.`),D.o_())}),j(E,Wa.EventType.CLOSE,()=>{A||(A=!0,ce(Ht,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(E))}),j(E,Wa.EventType.ERROR,b=>{A||(A=!0,Ro(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,b.name,"Message:",b.message),D.a_(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),j(E,Wa.EventType.MESSAGE,b=>{if(!A){const F=b.data[0];$e(!!F,16349);const G=F,q=G?.error||G[0]?.error;if(q){ce(Ht,`RPC '${e}' stream ${o} received error:`,q);const re=q.status;let ne=function(S){const I=mt[S];if(I!==void 0)return Iw(I)}(re),ae=q.message;ne===void 0&&(ne=Z.INTERNAL,ae="Unknown error status: "+re+" with message "+q.message),A=!0,D.a_(new ge(ne,ae)),E.close()}else ce(Ht,`RPC '${e}' stream ${o} received:`,F),D.u_(F)}}),j(f,W_.STAT_EVENT,b=>{b.stat===Sd.PROXY?ce(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===Sd.NOPROXY&&ce(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new DI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="PersistentStream";class zw{constructor(e,n,i,o,l,u,f,d){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===n&&this.G_(i,o)},i=>{e(()=>{const o=new ge(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(jv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kP extends zw{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MI(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?ur(u.readTime):Se.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=bd(this.serializer),n.addTarget=function(l,u){let f;const d=u.target;if(f=kd(d)?{documents:jI(l,d)}:{query:FI(l,d).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Rw(l,u.resumeToken);const m=Vd(l,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Se.min())>0){f.readTime=Rc(l,u.snapshotVersion.toTimestamp());const m=Vd(l,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=UI(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=bd(this.serializer),n.removeTarget=e,this.q_(n)}}class RP extends zw{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OI(e.writeResults,e.commitTime),i=ur(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=bd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>LI(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class DP extends VP{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,Dd(n,i),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(Z.UNKNOWN,l.toString())})}Ho(e,n,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Ho(e,Dd(n,i),o,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(Z.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class NP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ur(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class bP{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{xs(this)&&(ce(Es,"Restarting streams for network reachability change."),await async function(d){const m=Ae(d);m.Ea.add(4),await Rl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await th(m)}(this))})}),this.Ra=new NP(i,o)}}async function th(t){if(xs(t))for(const e of t.da)await e(!0)}async function Rl(t){for(const e of t.da)await e(!1)}function $w(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lp(n)?Mp(n):Ho(n).O_()&&bp(n,e))}function Np(t,e){const n=Ae(t),i=Ho(n);n.Ia.delete(e),i.O_()&&Hw(n,e),n.Ia.size===0&&(i.O_()?i.L_():xs(n)&&n.Ra.set("Unknown"))}function bp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).Y_(e)}function Hw(t,e){t.Va.Ue(e),Ho(t).Z_(e)}function Mp(t){t.Va=new PI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.Ra.ua()}function Lp(t){return xs(t)&&!Ho(t).x_()&&t.Ia.size>0}function xs(t){return Ae(t).Ea.size===0}function Ww(t){t.Va=void 0}async function MP(t){t.Ra.set("Online")}async function LP(t){t.Ia.forEach((e,n)=>{bp(t,e)})}async function OP(t,e){Ww(t),Lp(t)?(t.Ra.ha(e),Mp(t)):t.Ra.set("Unknown")}async function jP(t,e,n){if(t.Ra.set("Online"),e instanceof kw&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))}(t,e)}catch(i){ce(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dc(t,i)}else if(e instanceof dc?t.Va.Ze(e):e instanceof Pw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const i=await Bw(t.localStore);n.compareTo(i)>=0&&await function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,m)=>{const v=l.Ia.get(d);if(!v)return;l.Ia.set(d,v.withResumeToken(Ft.EMPTY_BYTE_STRING,v.snapshotVersion)),Hw(l,d);const E=new vi(v.target,d,m,v.sequenceNumber);bp(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){ce(Es,"Failed to raise snapshot:",i),await Dc(t,i)}}async function Dc(t,e,n){if(!$o(e))throw e;t.Ea.add(1),await Rl(t),t.Ra.set("Offline"),n||(n=()=>Bw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(Es,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await th(t)})}function qw(t,e){return e().catch(n=>Dc(t,n,e))}async function nh(t){const e=Ae(t),n=Ii(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_p;for(;FP(e);)try{const o=await wP(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,BP(e,o)}catch(o){await Dc(e,o)}Kw(e)&&Gw(e)}function FP(t){return xs(t)&&t.Ta.length<10}function BP(t,e){t.Ta.push(e);const n=Ii(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Kw(t){return xs(t)&&!Ii(t).x_()&&t.Ta.length>0}function Gw(t){Ii(t).start()}async function UP(t){Ii(t).ra()}async function zP(t){const e=Ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function $P(t,e,n){const i=t.Ta.shift(),o=Cp.from(i,e,n);await qw(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await nh(t)}async function HP(t,e){e&&Ii(t).X_&&await async function(i,o){if(function(u){return AI(u)&&u!==Z.ABORTED}(o.code)){const l=i.Ta.shift();Ii(i).B_(),await qw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await nh(i)}}(t,e),Kw(t)&&Gw(t)}async function Fv(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce(Es,"RemoteStore received new credentials");const i=xs(n);n.Ea.add(3),await Rl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await th(n)}async function WP(t,e){const n=Ae(t);e?(n.Ea.delete(2),await th(n)):e||(n.Ea.add(2),await Rl(n),n.Ra.set("Unknown"))}function Ho(t){return t.ma||(t.ma=function(n,i,o){const l=Ae(n);return l.sa(),new kP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Xo:MP.bind(null,t),t_:LP.bind(null,t),r_:OP.bind(null,t),H_:jP.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Lp(t)?Mp(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ww(t))})),t.ma}function Ii(t){return t.fa||(t.fa=function(n,i,o){const l=Ae(n);return l.sa(),new RP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UP.bind(null,t),r_:HP.bind(null,t),ta:zP.bind(null,t),na:$P.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await nh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Es,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,f=new Op(e,n,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jp(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),$o(t))return new ge(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||we.comparator(n.key,i.key):(n,i)=>we.comparator(n.key,i.key),this.keyedMap=qa(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Po;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.ga=new ot(we.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Mo{constructor(e,n,i,o,l,u,f,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Mo(e,n,Po.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KP{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ae(n),l=o.queries;o.queries=Uv(),l.forEach((u,f)=>{for(const d of f.Sa)d.onError(i)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function Uv(){return new Ts(t=>dw(t),Qc)}async function GP(t,e){const n=Ae(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new qP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=jp(u,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Fp(n)}async function QP(t,e){const n=Ae(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function YP(t,e){const n=Ae(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(i=!0);u.wa=o}}i&&Fp(n)}function XP(t,e,n){const i=Ae(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function Fp(t){t.Ca.forEach(e=>{e.next()})}var Od,zv;(zv=Od||(Od={})).Ma="default",zv.Cache="cache";class JP{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.key=e}}class Yw{constructor(e){this.key=e}}class ZP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=pw(e),this.tu=new Po(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Bv,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const w=o.get(v),A=Yc(this.query,E)?E:null,D=!!w&&this.mutatedKeys.has(w.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;w&&A?w.data.isEqual(A.data)?D!==j&&(i.track({type:3,doc:A}),b=!0):this.su(w,A)||(i.track({type:2,doc:A}),b=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(f=!0)):!w&&A?(i.track({type:0,doc:A}),b=!0):w&&!A&&(i.track({type:1,doc:w}),b=!0,(d||m)&&(f=!0)),b&&(A?(u=u.add(A),l=j?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,E)=>function(A,D){const j=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:b})}};return j(A)-j(D)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],d=this.Xa.size===0&&this.current&&!o?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new Mo(this.query,e.tu,l,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new Yw(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new Qw(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bp="SyncEngine";class ek{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class tk{constructor(e){this.key=e,this.hu=!1}}class nk{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ts(f=>dw(f),Qc),this.Iu=new Map,this.Eu=new Set,this.du=new ot(we.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rk(t,e,n=!0){const i=n1(t);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Xw(i,e,n,!0),o}async function ik(t,e){const n=n1(t);await Xw(n,e,!0,!1)}async function Xw(t,e,n,i){const o=await EP(t.localStore,ar(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await sk(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&$w(t.remoteStore,o),f}async function sk(t,e,n,i,o){t.pu=(E,w,A)=>async function(j,b,F,G){let q=b.view.ru(F);q.Cs&&(q=await bv(j.localStore,b.query,!1).then(({documents:V})=>b.view.ru(V,q)));const re=G&&G.targetChanges.get(b.targetId),ne=G&&G.targetMismatches.get(b.targetId)!=null,ae=b.view.applyChanges(q,j.isPrimaryClient,re,ne);return Hv(j,b.targetId,ae.au),ae.snapshot}(t,E,w,A);const l=await bv(t.localStore,e,!0),u=new ZP(e,l.Qs),f=u.ru(l.documents),d=kl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=u.applyChanges(f,t.isPrimaryClient,d);Hv(t,n,m.au);const v=new ek(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function ok(t,e,n){const i=Ae(t),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter(u=>!Qc(u,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Md(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Np(i.remoteStore,o.targetId),jd(i,o.targetId)}).catch(zo)):(jd(i,o.targetId),await Md(i.localStore,o.targetId,!0))}async function ak(t,e){const n=Ae(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Np(n.remoteStore,i.targetId))}async function lk(t,e,n){const i=mk(t);try{const o=await function(u,f){const d=Ae(u),m=Xe.now(),v=f.reduce((A,D)=>A.add(D.key),De());let E,w;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=zr(),j=De();return d.Ns.getEntries(A,v).next(b=>{D=b,D.forEach((F,G)=>{G.isValidDocument()||(j=j.add(F))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,D)).next(b=>{E=b;const F=[];for(const G of f){const q=wI(G,E.get(G.key).overlayedDocument);q!=null&&F.push(new Di(G.key,q,ow(q.value.mapValue),lr.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,F,f)}).next(b=>{w=b;const F=b.applyToLocalDocumentSet(E,j);return d.documentOverlayCache.saveOverlays(A,b.batchId,F)})}).then(()=>({batchId:w.batchId,changes:gw(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new ot(Ve)),m=m.insert(f,d),u.Vu[u.currentUser.toKey()]=m}(i,o.batchId,n),await Vl(i,o.changes),await nh(i.remoteStore)}catch(o){const l=jp(o,"Failed to persist write");n.reject(l)}}async function Jw(t,e){const n=Ae(t);try{const i=await vP(n.localStore,e);e.targetChanges.forEach((o,l)=>{const u=n.Au.get(l);u&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?$e(u.hu,14607):o.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))}),await Vl(n,i,e)}catch(i){await zo(i)}}function $v(t,e,n){const i=Ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const d=Ae(u);d.onlineState=f;let m=!1;d.queries.forEach((v,E)=>{for(const w of E.Sa)w.va(f)&&(m=!0)}),m&&Fp(d)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uk(t,e,n){const i=Ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),l=o&&o.key;if(l){let u=new ot(we.comparator);u=u.insert(l,qt.newNoDocument(l,Se.min()));const f=De().add(l),d=new Zc(Se.min(),new Map,new ot(Ve),u,f);await Jw(i,d),i.du=i.du.remove(l),i.Au.delete(e),Up(i)}else await Md(i.localStore,e,!1).then(()=>jd(i,e,n)).catch(zo)}async function ck(t,e){const n=Ae(t),i=e.batch.batchId;try{const o=await yP(n.localStore,e);e1(n,i,null),Zw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Vl(n,o)}catch(o){await zo(o)}}async function hk(t,e,n){const i=Ae(t);try{const o=await function(u,f){const d=Ae(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return d.mutationQueue.lookupMutationBatch(m,f).next(E=>($e(E!==null,37113),v=E.keys(),d.mutationQueue.removeMutationBatch(m,E))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>d.localDocuments.getDocuments(m,v))})}(i.localStore,e);e1(i,e,n),Zw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Vl(i,o)}catch(o){await zo(o)}}function Zw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function e1(t,e,n){const i=Ae(t);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function jd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||t1(t,i)})}function t1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Np(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Up(t))}function Hv(t,e,n){for(const i of n)i instanceof Qw?(t.Ru.addReference(i.key,e),fk(t,i)):i instanceof Yw?(ce(Bp,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||t1(t,i.key)):Ee(19791,{wu:i})}function fk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ce(Bp,"New document in limbo: "+n),t.Eu.add(i),Up(t))}function Up(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(rt.fromString(e)),i=t.fu.next();t.Au.set(i,new tk(n)),t.du=t.du.insert(n,i),$w(t.remoteStore,new vi(ar(Sp(n.path)),i,"TargetPurposeLimboResolution",Wc.ce))}}async function Vl(t,e,n){const i=Ae(t),o=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((f,d)=>{u.push(i.pu(d,e,n).then(m=>{if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){o.push(m);const v=Vp.As(d.targetId,m);l.push(v)}}))}),await Promise.all(u),i.Pu.H_(o),await async function(d,m){const v=Ae(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Y.forEach(m,w=>Y.forEach(w.Es,A=>v.persistence.referenceDelegate.addReference(E,w.targetId,A)).next(()=>Y.forEach(w.ds,A=>v.persistence.referenceDelegate.removeReference(E,w.targetId,A)))))}catch(E){if(!$o(E))throw E;ce(Dp,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const A=v.Ms.get(w),D=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(w,j)}}}(i.localStore,l))}async function dk(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce(Bp,"User change. New user:",e.toKey());const i=await Fw(n.localStore,e);n.currentUser=e,function(l,u){l.mu.forEach(f=>{f.forEach(d=>{d.reject(new ge(Z.CANCELLED,u))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vl(n,i.Ls)}}function pk(t,e){const n=Ae(t),i=n.Au.get(e);if(i&&i.hu)return De().add(i.key);{let o=De();const l=n.Iu.get(e);if(!l)return o;for(const u of l){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function n1(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uk.bind(null,e),e.Pu.H_=YP.bind(null,e.eventManager),e.Pu.yu=XP.bind(null,e.eventManager),e}function mk(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ck.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hk.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gP(this.persistence,new dP,e.initialUser,this.serializer)}Cu(e){return new jw(Rp.mi,this.serializer)}Du(e){return new xP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class gk extends Nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Vc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new JI(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new jw(i=>Vc.mi(i,n),this.serializer)}}class Fd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$v(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dk.bind(null,this.syncEngine),await WP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KP}()}createDatastore(e){const n=eh(e.databaseInfo.databaseId),i=function(l){return new PP(l)}(e.databaseInfo);return function(l,u,f,d){return new DP(l,u,f,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,l,u,f){return new bP(i,o,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>$v(this.syncEngine,n,0),function(){return Ov.v()?new Ov:new SP}())}createSyncEngine(e,n){return function(o,l,u,f,d,m,v){const E=new nk(o,l,u,f,d,m);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Ae(n);ce(Es,"RemoteStore shutting down."),i.Ea.add(5),await Rl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class vk{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ce(Pi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ce(Pi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=jp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Zf(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Pi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Fw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _k(t);ce(Pi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Fv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Fv(e.remoteStore,o)),t._onlineComponents=e}async function _k(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Pi,"Using user provided OfflineComponentProvider");try{await Zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Zf(t,new Nc)}}else ce(Pi,"Using default OfflineComponentProvider"),await Zf(t,new gk(void 0));return t._offlineComponents}async function r1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Pi,"Using user provided OnlineComponentProvider"),await Wv(t,t._uninitializedComponentsProvider._online)):(ce(Pi,"Using default OnlineComponentProvider"),await Wv(t,new Fd))),t._onlineComponents}function wk(t){return r1(t).then(e=>e.syncEngine)}async function Ek(t){const e=await r1(t),n=e.eventManager;return n.onListen=rk.bind(null,e.syncEngine),n.onUnlisten=ok.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ik.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ak.bind(null,e.syncEngine),n}function Tk(t,e,n={}){const i=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,f,d,m){const v=new yk({next:w=>{v.Nu(),u.enqueueAndForget(()=>QP(l,E));const A=w.docs.has(f);!A&&w.fromCache?m.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&d&&d.source==="server"?m.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new JP(Sp(f.path),v,{includeMetadataChanges:!0,qa:!0});return GP(l,E)}(await Ek(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firestore.googleapis.com",Kv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=Kv}else this.host=e.host,this.ssl=e.ssl??Kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ow;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YI)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new TC;switch(i.type){case"firstParty":return new CC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=qv.get(n);i&&(ce("ComponentProvider","Removing Datastore"),qv.delete(n),i.terminate())}(this),Promise.resolve()}}function xk(t,e,n,i={}){t=ws(t,zp);const o=pp(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(QS(`https://${f}`),ZS("Firestore",!0)),l.host!==s1&&l.host!==f&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:f,ssl:o,emulatorOptions:i};if(!Ec(d,u)&&(t._setSettings(d),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=Wt.MOCK_USER;else{m=YS(i.mockUserToken,t._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(E)}t._authCredentials=new xC(new Q_(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $p(this.firestore,e,this._query)}}class St{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Il(n,St._jsonSchema))return new St(e,i||null,new we(rt.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:yt("string",St._jsonSchemaVersion),referencePath:yt("string")};class yl extends $p{constructor(e,n,i){super(e,n,Sp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new we(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Qv(t,e,...n){if(t=vs(t),arguments.length===1&&(e=yp.newId()),DC("doc","path",e),t instanceof zp){const i=rt.fromString(e,...n);return lv(i),new St(t,null,new we(i))}{if(!(t instanceof St||t instanceof yl))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(rt.fromString(e,...n));return lv(i),new St(t.firestore,t instanceof yl?t.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="AsyncQueue";class Xv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uw(this,"async_queue_retry"),this._c=()=>{const i=Jf();i&&ce(Yv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ti;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ce(Yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Ur("INTERNAL UNHANDLED ERROR: ",Jv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Op.createAndSchedule(this,e,n,i,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rh extends zp{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xv(e),this._firestoreClient=void 0,await e}}}function Sk(t,e){const n=typeof t=="object"?t:uC(),i=typeof t=="string"?t:Ac,o=iC(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=KS("firestore");l&&xk(o,...l)}return o}function o1(t){if(t._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ak(t),t._firestoreClient}function Ak(t){const e=t._freezeSettings(),n=function(o,l,u,f){return new HC(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,i1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ft.fromBase64String(e))}catch(n){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Il(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:yt("string",Vn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(Il(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:yt("string",cr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Il(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new ge(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:yt("string",hr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^__.*__$/;class Ik{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pl(e,this.data,n,this.fieldTransforms)}}class a1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class Hp{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l1(this.Ac)&&Ck.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Pk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||eh(e)}Cc(e,n,i,o=!1){return new Hp({Ac:e,methodName:n,Dc:i,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(t){const e=t._freezeSettings(),n=eh(t._databaseId);return new Pk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kk(t,e,n,i,o,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",u,i);const f=c1(i,u);let d,m;if(l.merge)d=new vn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const w=Bd(e,E,n);if(!u.contains(w))throw new ge(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);f1(v,w)||v.push(w)}d=new vn(v),m=u.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,m=u.fieldTransforms;return new Ik(new un(f),d,m)}class oh extends sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}class Wp extends sh{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new gl(e.serializer,_w(e.serializer,this.Fc));return new gI(e.path,n)}isEqual(e){return e instanceof Wp&&this.Fc===e.Fc}}function Rk(t,e,n,i){const o=t.Cc(1,e,n);qp("Data must be an object, but it was:",o,i);const l=[],u=un.empty();Vi(i,(d,m)=>{const v=Kp(e,d,n);m=vs(m);const E=o.yc(v);if(m instanceof oh)l.push(v);else{const w=ah(m,E);w!=null&&(l.push(v),u.set(v,w))}});const f=new vn(l);return new a1(u,f,o.fieldTransforms)}function Vk(t,e,n,i,o,l){const u=t.Cc(1,e,n),f=[Bd(e,i,n)],d=[o];if(l.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Bd(e,l[w])),d.push(l[w+1]);const m=[],v=un.empty();for(let w=f.length-1;w>=0;--w)if(!f1(m,f[w])){const A=f[w];let D=d[w];D=vs(D);const j=u.yc(A);if(D instanceof oh)m.push(A);else{const b=ah(D,j);b!=null&&(m.push(A),v.set(A,b))}}const E=new vn(m);return new a1(v,E,u.fieldTransforms)}function ah(t,e){if(h1(t=vs(t)))return qp("Unsupported field value:",e,t),c1(t,e);if(t instanceof sh)return function(i,o){if(!l1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const l=[];let u=0;for(const f of i){let d=ah(f,o.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,o){if((i=vs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _w(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Xe.fromDate(i);return{timestampValue:Rc(o.serializer,l)}}if(i instanceof Xe){const l=new Xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rc(o.serializer,l)}}if(i instanceof cr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vn)return{bytesValue:Rw(o.serializer,i._byteString)};if(i instanceof St){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hr)return function(u,f){return{mapValue:{fields:{[iw]:{stringValue:sw},[Cc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Ap(f.serializer,m)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${vp(i)}`)}(t,e)}function c1(t,e){const n={};return J_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,(i,o)=>{const l=ah(o,e.mc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function h1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof cr||t instanceof Vn||t instanceof St||t instanceof sh||t instanceof hr)}function qp(t,e,n){if(!h1(n)||!Y_(n)){const i=vp(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Bd(t,e,n){if((e=vs(e))instanceof ih)return e._internalPath;if(typeof e=="string")return Kp(t,e);throw bc("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dk=new RegExp("[~\\*/\\[\\]]");function Kp(t,e,n){if(e.search(Dk)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ih(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bc(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new ge(Z.INVALID_ARGUMENT,f+t+d)}function f1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(p1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nk extends d1{data(){return super.data()}}function p1(t,e){return typeof e=="string"?Kp(t,e):e instanceof ih?e._internalPath:e._delegate._internalPath}class bk{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Vi(e,(o,l)=>{i[o]=this.convertValue(l,n)}),i}convertVectorValue(e){const n=e.fields?.[Cc].arrayValue?.values?.map(i=>ft(i.doubleValue));return new hr(n)}convertGeoPoint(e){return new cr(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Kc(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=rt.fromString(e);$e(Lw(i),9688,{name:e});const o=new fl(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(n)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ps extends d1{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(p1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:yt("string",ps._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class pc extends ps{data(e={}){return super.data(e)}}class tl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ga(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new pc(this._firestore,this._userDataWriter,i.key,i,new Ga(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const d=new pc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ga(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const d=new pc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ga(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:Lk(f.type),doc:d,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){t=ws(t,St);const e=ws(t.firestore,rh);return Tk(o1(e),t._key).then(n=>Uk(e,t,n))}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:yt("string",tl._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class jk extends bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function Fk(t,e,n){t=ws(t,St);const i=ws(t.firestore,rh),o=Mk(t.converter,e);return m1(i,[kk(u1(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,lr.none())])}function Bk(t,e,n,...i){t=ws(t,St);const o=ws(t.firestore,rh),l=u1(o);let u;return u=typeof(e=vs(e))=="string"||e instanceof ih?Vk(l,"updateDoc",t._key,e,n,i):Rk(l,"updateDoc",t._key,e),m1(o,[u.toMutation(t._key,lr.exists(!0))])}function m1(t,e){return function(i,o){const l=new Ti;return i.asyncQueue.enqueueAndForget(async()=>lk(await wk(i),o,l)),l.promise}(o1(t),e)}function Uk(t,e,n){const i=n.docs.get(e._key),o=new jk(t);return new ps(t,o,e._key,i,new Ga(n.hasPendingWrites,n.fromCache),e.converter)}function zk(t){return new Wp("increment",t)}(function(e,n=!0){(function(o){Uo=o})(lC),xc(new ll("firestore",(i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new rh(new SC(i.getProvider("auth-internal")),new IC(u,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(m.options.projectId,v)}(u,o),u);return l={useFetchStreams:n,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Io(iv,sv,e),Io(iv,sv,"esm2020")})();const $k={apiKey:"AIzaSyBfvUGO47u5JTYYaH13LQXjUg3oTYgEjg8",authDomain:"portfolio-likes-cdc41.firebaseapp.com",projectId:"portfolio-likes-cdc41",storageBucket:"portfolio-likes-cdc41.firebasestorage.app",messagingSenderId:"51657461826",appId:"1:51657461826:web:136febb134da861160dddb"},Hk=F_($k),Zv=Sk(Hk),Wk=()=>{const[t,e]=L.useState(0),[n,i]=L.useState(!1),[o,l]=L.useState(!1);L.useEffect(()=>{(async()=>{const d=localStorage.getItem("user-has-liked")==="true";i(d);try{const m=Qv(Zv,"stats","likes"),v=await Ok(m);v.exists()?e(v.data().count||0):(await Fk(m,{count:0}),e(0))}catch(m){console.error("Error loading Firestore likes:",m)}})()},[]);const u=async()=>{if(!n){console.log("Like button clicked!");try{const f=Qv(Zv,"stats","likes");await Bk(f,{count:zk(1)}),e(d=>d+1),i(!0),localStorage.setItem("user-has-liked","true"),l(!0),setTimeout(()=>l(!1),600)}catch(f){console.error("Error updating like count:",f)}}};return C.jsx("footer",{className:`
    relative 
    py-12 px-6
    border-t border-gray-200 dark:border-gray-700
    bg-gray-50 text-gray-800
    dark:bg-black dark:text-gray-300
    transition-colors duration-300
  `,children:C.jsx("div",{className:"max-w-6xl mx-auto",children:C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[C.jsx("div",{className:"text-gray-600 dark:text-gray-400 order-1 text-center md:text-left font-gotham-book text-sm sm:text-base",children:"© 2025 Vishal Gurung - Goblin"}),C.jsx("div",{className:"flex items-center gap-4 order-2",children:C.jsxs("button",{onClick:u,disabled:n,className:`group flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg transition-all duration-300 text-xs ${n?"bg-green-100 dark:bg-green-900/30 cursor-default":"bg-gray-100 dark:bg-gray-800 hover:bg-green-50 dark:hover:bg-green-900/20 hover:scale-105 cursor-pointer"}`,title:n?"Code compiled!":"Compile some love!",children:[C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:`text-sm font-mono font-bold transition-all duration-300 ${n?"text-green-500 scale-110":"text-gray-400 group-hover:text-green-400"} ${o?"animate-pulse":""}`,children:n?"{ ✓ }":"{ }"}),o&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"absolute -top-1 -right-1 animate-ping text-xs text-green-400 font-mono",children:"</>"}),C.jsx("div",{className:"absolute -bottom-1 -left-1 animate-ping delay-75 text-xs text-green-300 font-mono",children:"( )"})]})]}),C.jsx("span",{className:`text-xs font-medium font-mono transition-colors duration-300 hidden sm:inline ${n?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400 group-hover:text-green-500"}`,children:t}),C.jsx("span",{className:`text-xs font-medium font-mono transition-colors duration-300 sm:hidden ${n?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400 group-hover:text-green-500"}`,children:t})]})}),C.jsxs("div",{className:"flex items-center gap-4 md:gap-6 order-3 text-sm",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),C.jsx("span",{className:"text-gray-500 font-gotham-book dark:text-gray-400 hidden sm:inline",children:"Available for work"}),C.jsx("span",{className:"text-gray-500 dark:text-gray-400 sm:hidden",children:"Available"})]}),C.jsxs("div",{className:"hidden md:flex gap-4",children:[C.jsx("a",{href:"https://github.com/g0GobliN",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors","aria-label":"GitHub",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M12 0C5.37 0 0 5.373 0 12c0 5.303 3.438 9.8 8.205 11.387.6.11.82-.258.82-.577v-2.234c-3.338.726-4.033-1.61-4.033-1.61-.546-1.387-1.333-1.756-1.333-1.756-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.237 1.84 1.237 1.07 1.835 2.807 1.305 3.492.997.108-.775.42-1.305.763-1.605-2.665-.3-5.466-1.334-5.466-5.933 0-1.31.468-2.38 1.236-3.22-.124-.303-.536-1.523.117-3.176 0 0 1.008-.322 3.301 1.23a11.52 11.52 0 013.003-.404 11.52 11.52 0 013.003.404c2.292-1.552 3.298-1.23 3.298-1.23.654 1.653.242 2.873.118 3.176.77.84 1.235 1.91 1.235 3.22 0 4.61-2.803 5.63-5.475 5.922.43.372.814 1.103.814 2.222v3.293c0 .32.218.694.825.576C20.565 21.796 24 17.3 24 12c0-6.627-5.373-12-12-12z"})})}),C.jsx("a",{href:"https://instagram.com/goblin01_",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors","aria-label":"Instagram",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[C.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11.37a4 4 0 11-7.999-.001 4 4 0 017.999 0z"}),C.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.5",y2:"6.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]})]})})})};function qk(){const{pathname:t}=_r();return L.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const ms=({children:t,className:e="",delay:n=0})=>{const[i,o]=L.useState(!1),l=L.useRef(null);return L.useEffect(()=>{const u=new IntersectionObserver(([f])=>{f.isIntersecting&&setTimeout(()=>o(!0),n)},{threshold:.1});return l.current&&u.observe(l.current),()=>u.disconnect()},[n]),C.jsx("div",{ref:l,className:`overflow-visible ${e}`,children:C.jsx("div",{className:`transition-transform duration-700 ease-out ${i?"translate-y-0":"translate-y-full"}`,children:t})})};var yo={},e0;function Kk(){if(e0)return yo;e0=1,Object.defineProperty(yo,"__esModule",{value:!0});var t=m_(),e=Bc(),n=function(){return n=Object.assign||function(d){for(var m,v=1,E=arguments.length;v<E;v++)for(var w in m=arguments[v])Object.prototype.hasOwnProperty.call(m,w)&&(d[w]=m[w]);return d},n.apply(this,arguments)};function i(d,m){var v,E;switch(m.type){case"TYPE":return n(n({},d),{speed:m.speed,text:(v=m.payload)===null||v===void 0?void 0:v.substring(0,d.text.length+1)});case"DELAY":return n(n({},d),{speed:m.payload});case"DELETE":return n(n({},d),{speed:m.speed,text:(E=m.payload)===null||E===void 0?void 0:E.substring(0,d.text.length-1)});case"COUNT":return n(n({},d),{count:d.count+1});default:return d}}var o=function(d){var m=d.words,v=m===void 0?["Hello World!","This is","a simple Typewriter"]:m,E=d.loop,w=E===void 0?1:E,A=d.typeSpeed,D=A===void 0?80:A,j=d.deleteSpeed,b=j===void 0?50:j,F=d.delaySpeed,G=F===void 0?1500:F,q=d.onLoopDone,re=d.onType,ne=d.onDelete,ae=d.onDelay,V=e.useReducer(i,{speed:D,text:"",count:0}),S=V[0],I=S.speed,R=S.text,M=S.count,B=V[1],P=e.useRef(0),Ce=e.useRef(!1),Ie=e.useRef(!1),Ne=e.useRef(!1),me=e.useRef(!1),Q=e.useCallback(function(){var le=M%v.length,oe=v[le];Ie.current?(B({type:"DELETE",payload:oe,speed:b}),R===""&&(Ie.current=!1,B({type:"COUNT"}))):(B({type:"TYPE",payload:oe,speed:D}),Ne.current=!0,R===oe&&(B({type:"DELAY",payload:G}),Ne.current=!1,me.current=!0,setTimeout(function(){me.current=!1,Ie.current=!0},G),w>0&&(P.current+=1,P.current/v.length===w&&(me.current=!1,Ce.current=!0)))),Ne.current&&re&&re(P.current),Ie.current&&ne&&ne(),me.current&&ae&&ae()},[M,G,b,w,D,v,R,re,ne,ae]);return e.useEffect(function(){var le=setTimeout(Q,I);return Ce.current&&clearTimeout(le),function(){return clearTimeout(le)}},[Q,I]),e.useEffect(function(){q&&Ce.current&&q()},[q]),[R,{isType:Ne.current,isDelay:me.current,isDelete:Ie.current,isDone:Ce.current}]},l="styles-module_blinkingCursor__yugAC",u="styles-module_blinking__9VXRT";(function(d,m){m===void 0&&(m={});var v=m.insertAt;if(typeof document<"u"){var E=document.head||document.getElementsByTagName("head")[0],w=document.createElement("style");w.type="text/css",v==="top"&&E.firstChild?E.insertBefore(w,E.firstChild):E.appendChild(w),w.styleSheet?w.styleSheet.cssText=d:w.appendChild(document.createTextNode(d))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var f=e.memo(function(d){var m=d.cursorBlinking,v=m===void 0||m,E=d.cursorStyle,w=E===void 0?"|":E,A=d.cursorColor,D=A===void 0?"inherit":A;return t.jsx("span",n({style:{color:D},className:"".concat(l," ").concat(v?u:"")},{children:w}))});return yo.Cursor=f,yo.Typewriter=function(d){var m=d.words,v=m===void 0?["Hello World!","This is","a simple Typewriter"]:m,E=d.loop,w=E===void 0?1:E,A=d.typeSpeed,D=A===void 0?80:A,j=d.deleteSpeed,b=j===void 0?50:j,F=d.delaySpeed,G=F===void 0?1500:F,q=d.cursor,re=q!==void 0&&q,ne=d.cursorStyle,ae=ne===void 0?"|":ne,V=d.cursorColor,S=V===void 0?"inherit":V,I=d.cursorBlinking,R=I===void 0||I,M=d.onLoopDone,B=d.onType,P=d.onDelay,Ce=d.onDelete,Ie=o({words:v,loop:w,typeSpeed:D,deleteSpeed:b,delaySpeed:G,onLoopDone:M,onType:B,onDelay:P,onDelete:Ce})[0];return t.jsxs(t.Fragment,{children:[t.jsx("span",{children:Ie}),re&&t.jsx(f,{cursorStyle:ae,cursorColor:S,cursorBlinking:R})]})},yo.useTypewriter=o,yo}var Gk=Kk();const Qk=({scrollY:t,onSectionChange:e})=>{t=t||0,e=e||(()=>{});const[n,i]=L.useState(0),[o,l]=L.useState({x:0,y:0}),u=[{title:"Once upon a time...",subtitle:"there was a developer",visual:"terminal"},{title:"Who loved to create",subtitle:"digital experiences",visual:"code"},{title:"Bridging worlds",subtitle:"of technology & humanity",visual:"bridge"},{title:"Meet Vishal",subtitle:"Your creative developer",visual:"profile"}];L.useEffect(()=>{const w=setInterval(()=>{i(A=>(A+1)%u.length)},4e3);return()=>clearInterval(w)},[]),L.useEffect(()=>{const w=A=>{l({x:A.clientX/window.innerWidth*2-1,y:A.clientY/window.innerHeight*2-1})};return window.addEventListener("mousemove",w),()=>window.removeEventListener("mousemove",w)},[]);const f=()=>C.jsxs("div",{className:"w-80 h-48 bg-gray-900 dark:bg-gray-800 rounded-lg p-4 font-mono text-sm shadow-2xl",children:[C.jsxs("div",{className:"flex gap-2 mb-3",children:[C.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),C.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),C.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),C.jsxs("div",{className:"text-green-400",children:[C.jsx("div",{className:"animate-pulse",children:"┌──(goblin01@g0)-[~/]"}),C.jsx("div",{className:"animate-pulse delay-500",children:"└─$ whoami"}),C.jsx("div",{className:"animate-pulse delay-1000 text-white",children:"creative_developer"}),C.jsx("div",{className:"animate-pulse delay-1500",children:"└─$ ls dreams/"}),C.jsx("div",{className:"animate-pulse delay-2000 text-blue-400",children:"innovation.js creativity.css passion.html"})]})]}),d=()=>C.jsxs("div",{className:"w-80 h-48 bg-gray-900 dark:bg-gray-800 rounded-lg p-4 text-white relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 opacity-20",children:Array.from({length:20}).map((w,A)=>C.jsx("div",{className:"absolute text-xs animate-pulse",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`},children:["<div>","function()","{ }","const","return","&&","||"][Math.floor(Math.random()*7)]},A))}),C.jsxs("div",{className:"relative z-10",children:[C.jsx("div",{className:"text-pink-400 animate-pulse",children:"const magic = () => {"}),C.jsx("div",{className:"text-blue-400 animate-pulse delay-300 ml-4",children:"return dreams + code;"}),C.jsx("div",{className:"text-pink-400 animate-pulse delay-600",children:"}"})]})]}),m=()=>C.jsx("div",{className:"relative w-80 h-48",children:C.jsxs("svg",{viewBox:"0 0 300 180",className:"w-full h-full",children:[C.jsx("defs",{children:C.jsxs("linearGradient",{id:"bridgeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[C.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),C.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),C.jsx("path",{d:"M20 140 Q150 60 280 140",stroke:"url(#bridgeGradient)",strokeWidth:"4",fill:"none",className:"animate-pulse"}),Array.from({length:8}).map((w,A)=>C.jsx("line",{x1:40+A*30,y1:140-Math.sin(A*30/240*Math.PI)*80,x2:40+A*30,y2:140,stroke:"url(#bridgeGradient)",strokeWidth:"1",className:"animate-pulse",style:{animationDelay:`${A*.2}s`}},A)),Array.from({length:12}).map((w,A)=>C.jsx("circle",{cx:30+A*20,cy:120+Math.sin(A)*20,r:"2",fill:"#60a5fa",className:"animate-bounce",style:{animationDelay:`${A*.3}s`}},A))]})}),v=()=>C.jsxs("div",{className:"relative w-80 h-48 bg-gray-800 dark:bg-gray-800 rounded-2xl flex items-center justify-center overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-black/20"}),Array.from({length:6}).map((w,A)=>C.jsx("div",{className:"absolute rounded-full bg-white/10 animate-ping",style:{width:`${60+A*20}px`,height:`${60+A*20}px`,animationDelay:`${A*3}s`,animationDuration:"3s"}},A)),C.jsxs("div",{className:"relative z-10 text-center text-white",children:[C.jsx("div",{className:"w-20 h-20 bg-cyan-400/20 font-gotham-medium rounded-full mx-auto mb-4 animate-pulse backdrop-blur-sm flex items-center justify-center text-2xl font-bold",children:"VG"}),C.jsx("div",{className:"text-sm font-medium animate-pulse font-gotham-book",children:"Ready to create magic"})]})]}),E=()=>{switch(u[n]?.visual){case"terminal":return C.jsx(f,{});case"code":return C.jsx(d,{});case"bridge":return C.jsx(m,{});case"profile":return C.jsx(v,{});default:return C.jsx(f,{})}};return C.jsx("section",{id:"home",className:`min-h-screen flex items-center justify-center relative overflow-hidden transition-colors duration-300
                 bg-gray-50 text-gray-900 
                 dark:bg-black dark:text-white`,children:C.jsxs("div",{className:"w-full max-w-6xl mx-auto px-6 pt-8 grid lg:grid-cols-2 gap-12 items-center relative z-10",children:[C.jsxs("div",{className:"text-center lg:text-left order-2 lg:order-1",children:[C.jsxs("div",{className:"mb-6",children:[C.jsx(ms,{className:"mb-2",children:C.jsx("h1",{className:"text-3xl md:text-5xl font-gotham-book leading-tight text-gray-800 dark:text-white",children:n===0?C.jsx(Gk.Typewriter,{words:[u[0].title],typeSpeed:50}):u[n]?.title})},n),C.jsx(ms,{delay:200,className:"mb-8",children:C.jsx("p",{className:"text-xl md:text-2xl font-gotham-book text-gray-600 dark:text-gray-400",children:u[n]?.subtitle})},`${n}-sub`)]}),C.jsx("div",{className:"flex justify-center lg:justify-start gap-2 mb-8",children:u.map((w,A)=>C.jsx("div",{onClick:()=>i(A),className:`cursor-pointer h-1 rounded-full transition-all duration-500 ${A===n?"w-8 bg-cyan-400":"w-2 bg-gray-400 dark:bg-gray-600"}`},A))}),C.jsx(ms,{delay:400,className:`transition-opacity duration-500 ${n===3?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:C.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[C.jsx("button",{className:"interactive px-8 py-3 bg-gray-800 text-white dark:bg-cyan-400 dark:text-gray-800 rounded-xl font-gotham-medium transform hover:scale-105 transition-all duration-300",onClick:()=>e("project"),children:"Explore My Work"}),C.jsx("button",{className:`interactive px-8 py-3 border-2 border-gray-400 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-gotham-medium 
                hover:border-black dark:hover:border-white hover:text-black dark:hover:text-white transition-all duration-300`,onClick:()=>e("contact"),children:"Start a Conversation"})]})})]}),C.jsx("div",{className:"order-1 lg:order-2 flex justify-center",children:C.jsx("div",{className:"transform transition-all duration-1000 hover:scale-105",style:{transform:`perspective(1000px) rotateY(${o.x*5}deg) rotateX(${o.y*-5}deg)`},children:E()})})]})})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),t0=t=>{const e=Xk(t);return e.charAt(0).toUpperCase()+e.slice(1)},g1=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Jk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},d)=>L.createElement("svg",{ref:d,...Zk,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:g1("lucide",o),...!l&&!Jk(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,v])=>L.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=(t,e)=>{const n=L.forwardRef(({className:i,...o},l)=>L.createElement(eR,{ref:l,iconNode:e,className:g1(`lucide-${Yk(t0(t))}`,`lucide-${t}`,i),...o}));return n.displayName=t0(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],v1=y1("arrow-right",tR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rR=y1("x",nR),_1=L.createContext({});function iR(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gp=typeof window<"u",sR=Gp?L.useLayoutEffect:L.useEffect,Qp=L.createContext(null);function Yp(t,e){t.indexOf(e)===-1&&t.push(e)}function Xp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $r=(t,e,n)=>n>e?e:n<t?t:n;let Jp=()=>{};const Hr={},w1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function E1(t){return typeof t=="object"&&t!==null}const T1=t=>/^0[^.\s]+$/u.test(t);function Zp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dn=t=>t,oR=(t,e)=>n=>e(t(n)),Dl=(...t)=>t.reduce(oR),vl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class em{constructor(){this.subscriptions=[]}add(e){return Yp(this.subscriptions,e),()=>Xp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fr=t=>t*1e3,dr=t=>t/1e3;function x1(t,e){return e?t*(1e3/e):0}const S1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aR=1e-7,lR=12;function uR(t,e,n,i,o){let l,u,f=0;do u=e+(n-e)/2,l=S1(u,i,o)-t,l>0?n=u:e=u;while(Math.abs(l)>aR&&++f<lR);return u}function Nl(t,e,n,i){if(t===e&&n===i)return Dn;const o=l=>uR(l,0,1,t,n);return l=>l===0||l===1?l:S1(o(l),e,i)}const A1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,C1=t=>e=>1-t(1-e),I1=Nl(.33,1.53,.69,.99),tm=C1(I1),P1=A1(tm),k1=t=>(t*=2)<1?.5*tm(t):.5*(2-Math.pow(2,-10*(t-1))),nm=t=>1-Math.sin(Math.acos(t)),R1=C1(nm),V1=A1(nm),cR=Nl(.42,0,1,1),hR=Nl(0,0,.58,1),D1=Nl(.42,0,.58,1),fR=t=>Array.isArray(t)&&typeof t[0]!="number",N1=t=>Array.isArray(t)&&typeof t[0]=="number",dR={linear:Dn,easeIn:cR,easeInOut:D1,easeOut:hR,circIn:nm,circInOut:V1,circOut:R1,backIn:tm,backInOut:P1,backOut:I1,anticipate:k1},pR=t=>typeof t=="string",n0=t=>{if(N1(t)){Jp(t.length===4);const[e,n,i,o]=t;return Nl(e,n,i,o)}else if(pR(t))return dR[t];return t},ic=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mR(t,e){let n=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(v){u.has(v)&&(m.schedule(v),t()),v(f)}const m={schedule:(v,E=!1,w=!1)=>{const D=w&&o?n:i;return E&&u.add(v),D.has(v)||D.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(f=v,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(d),n.clear(),o=!1,l&&(l=!1,m.process(v))}};return m}const gR=40;function b1(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=ic.reduce((q,re)=>(q[re]=mR(l),q),{}),{setup:f,read:d,resolveKeyframes:m,preUpdate:v,update:E,preRender:w,render:A,postRender:D}=u,j=()=>{const q=Hr.useManualTiming?o.timestamp:performance.now();n=!1,Hr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(q-o.timestamp,gR),1)),o.timestamp=q,o.isProcessing=!0,f.process(o),d.process(o),m.process(o),v.process(o),E.process(o),w.process(o),A.process(o),D.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(j))},b=()=>{n=!0,i=!0,o.isProcessing||t(j)};return{schedule:ic.reduce((q,re)=>{const ne=u[re];return q[re]=(ae,V=!1,S=!1)=>(n||b(),ne.schedule(ae,V,S)),q},{}),cancel:q=>{for(let re=0;re<ic.length;re++)u[ic[re]].cancel(q)},state:o,steps:u}}const{schedule:et,cancel:ki,state:Lt,steps:ed}=b1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0);let mc;function yR(){mc=void 0}const cn={now:()=>(mc===void 0&&cn.set(Lt.isProcessing||Hr.useManualTiming?Lt.timestamp:performance.now()),mc),set:t=>{mc=t,queueMicrotask(yR)}},M1=t=>e=>typeof e=="string"&&e.startsWith(t),rm=M1("--"),vR=M1("var(--"),im=t=>vR(t)?_R.test(t.split("/*")[0].trim()):!1,_R=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_l={...Wo,transform:t=>$r(0,1,t)},sc={...Wo,default:1},nl=t=>Math.round(t*1e5)/1e5,sm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wR(t){return t==null}const ER=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,om=(t,e)=>n=>!!(typeof n=="string"&&ER.test(n)&&n.startsWith(t)||e&&!wR(n)&&Object.prototype.hasOwnProperty.call(n,e)),L1=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,l,u,f]=i.match(sm);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},TR=t=>$r(0,255,t),td={...Wo,transform:t=>Math.round(TR(t))},fs={test:om("rgb","red"),parse:L1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+td.transform(t)+", "+td.transform(e)+", "+td.transform(n)+", "+nl(_l.transform(i))+")"};function xR(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Ud={test:om("#"),parse:xR,transform:fs.transform},bl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yi=bl("deg"),pr=bl("%"),Te=bl("px"),SR=bl("vh"),AR=bl("vw"),r0={...pr,parse:t=>pr.parse(t)/100,transform:t=>pr.transform(t*100)},To={test:om("hsl","hue"),parse:L1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+pr.transform(nl(e))+", "+pr.transform(nl(n))+", "+nl(_l.transform(i))+")"},gt={test:t=>fs.test(t)||Ud.test(t)||To.test(t),parse:t=>fs.test(t)?fs.parse(t):To.test(t)?To.parse(t):Ud.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fs.transform(t):To.transform(t),getAnimatableNone:t=>{const e=gt.parse(t);return e.alpha=0,gt.transform(e)}},CR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IR(t){return isNaN(t)&&typeof t=="string"&&(t.match(sm)?.length||0)+(t.match(CR)?.length||0)>0}const O1="number",j1="color",PR="var",kR="var(",i0="${}",RR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(RR,d=>(gt.test(d)?(i.color.push(l),o.push(j1),n.push(gt.parse(d))):d.startsWith(kR)?(i.var.push(l),o.push(PR),n.push(d)):(i.number.push(l),o.push(O1),n.push(parseFloat(d))),++l,i0)).split(i0);return{values:n,split:f,indexes:i,types:o}}function F1(t){return wl(t).values}function B1(t){const{split:e,types:n}=wl(t),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const f=n[u];f===O1?l+=nl(o[u]):f===j1?l+=gt.transform(o[u]):l+=o[u]}return l}}const VR=t=>typeof t=="number"?0:gt.test(t)?gt.getAnimatableNone(t):t;function DR(t){const e=F1(t);return B1(t)(e.map(VR))}const Ri={test:IR,parse:F1,createTransformer:B1,getAnimatableNone:DR};function nd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function NR({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;o=nd(d,f,t+1/3),l=nd(d,f,t),u=nd(d,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Mc(t,e){return n=>n>0?e:t}const it=(t,e,n)=>t+(e-t)*n,rd=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},bR=[Ud,fs,To],MR=t=>bR.find(e=>e.test(t));function s0(t){const e=MR(t);if(!e)return!1;let n=e.parse(t);return e===To&&(n=NR(n)),n}const o0=(t,e)=>{const n=s0(t),i=s0(e);if(!n||!i)return Mc(t,e);const o={...n};return l=>(o.red=rd(n.red,i.red,l),o.green=rd(n.green,i.green,l),o.blue=rd(n.blue,i.blue,l),o.alpha=it(n.alpha,i.alpha,l),fs.transform(o))},zd=new Set(["none","hidden"]);function LR(t,e){return zd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OR(t,e){return n=>it(t,e,n)}function am(t){return typeof t=="number"?OR:typeof t=="string"?im(t)?Mc:gt.test(t)?o0:BR:Array.isArray(t)?U1:typeof t=="object"?gt.test(t)?o0:jR:Mc}function U1(t,e){const n=[...t],i=n.length,o=t.map((l,u)=>am(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=o[u](l);return n}}function jR(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=am(t[o])(t[o],e[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function FR(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],f=t.values[u]??0;n[o]=f,i[l]++}return n}const BR=(t,e)=>{const n=Ri.createTransformer(e),i=wl(t),o=wl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?zd.has(t)&&!o.values.length||zd.has(e)&&!i.values.length?LR(t,e):Dl(U1(FR(i,o),o.values),n):Mc(t,e)};function z1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):am(t)(t,e)}const UR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>et.update(e,n),stop:()=>ki(e),now:()=>Lt.isProcessing?Lt.timestamp:cn.now()}},$1=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Lc=2e4;function lm(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Lc;)e+=n,i=t.next(e);return e>=Lc?1/0:e}function zR(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(lm(i),Lc);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:dr(o)}}const $R=5;function H1(t,e,n){const i=Math.max(e-$R,0);return x1(n-t(i),e-i)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},id=.001;function HR({duration:t=lt.duration,bounce:e=lt.bounce,velocity:n=lt.velocity,mass:i=lt.mass}){let o,l,u=1-e;u=$r(lt.minDamping,lt.maxDamping,u),t=$r(lt.minDuration,lt.maxDuration,dr(t)),u<1?(o=m=>{const v=m*u,E=v*t,w=v-n,A=$d(m,u),D=Math.exp(-E);return id-w/A*D},l=m=>{const E=m*u*t,w=E*n+n,A=Math.pow(u,2)*Math.pow(m,2)*t,D=Math.exp(-E),j=$d(Math.pow(m,2),u);return(-o(m)+id>0?-1:1)*((w-A)*D)/j}):(o=m=>{const v=Math.exp(-m*t),E=(m-n)*t+1;return-id+v*E},l=m=>{const v=Math.exp(-m*t),E=(n-m)*(t*t);return v*E});const f=5/t,d=qR(o,l,f);if(t=fr(t),isNaN(d))return{stiffness:lt.stiffness,damping:lt.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const WR=12;function qR(t,e,n){let i=n;for(let o=1;o<WR;o++)i=i-t(i)/e(i);return i}function $d(t,e){return t*Math.sqrt(1-e*e)}const KR=["duration","bounce"],GR=["stiffness","damping","mass"];function a0(t,e){return e.some(n=>t[n]!==void 0)}function QR(t){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...t};if(!a0(t,GR)&&a0(t,KR))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*$r(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:lt.mass,stiffness:o,damping:l}}else{const n=HR(t);e={...e,...n,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function Oc(t=lt.visualDuration,e=lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:m,mass:v,duration:E,velocity:w,isResolvedFromDuration:A}=QR({...n,velocity:-dr(n.velocity||0)}),D=w||0,j=m/(2*Math.sqrt(d*v)),b=u-l,F=dr(Math.sqrt(d/v)),G=Math.abs(b)<5;i||(i=G?lt.restSpeed.granular:lt.restSpeed.default),o||(o=G?lt.restDelta.granular:lt.restDelta.default);let q;if(j<1){const ne=$d(F,j);q=ae=>{const V=Math.exp(-j*F*ae);return u-V*((D+j*F*b)/ne*Math.sin(ne*ae)+b*Math.cos(ne*ae))}}else if(j===1)q=ne=>u-Math.exp(-F*ne)*(b+(D+F*b)*ne);else{const ne=F*Math.sqrt(j*j-1);q=ae=>{const V=Math.exp(-j*F*ae),S=Math.min(ne*ae,300);return u-V*((D+j*F*b)*Math.sinh(S)+ne*b*Math.cosh(S))/ne}}const re={calculatedDuration:A&&E||null,next:ne=>{const ae=q(ne);if(A)f.done=ne>=E;else{let V=ne===0?D:0;j<1&&(V=ne===0?fr(D):H1(q,ne,ae));const S=Math.abs(V)<=i,I=Math.abs(u-ae)<=o;f.done=S&&I}return f.value=f.done?u:ae,f},toString:()=>{const ne=Math.min(lm(re),Lc),ae=$1(V=>re.next(ne*V).value,ne,30);return ne+"ms "+ae},toTransition:()=>{}};return re}Oc.applyToOptions=t=>{const e=zR(t,100,Oc);return t.ease=e.ease,t.duration=fr(e.duration),t.type="keyframes",t};function Hd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:m=.5,restSpeed:v}){const E=t[0],w={done:!1,value:E},A=S=>f!==void 0&&S<f||d!==void 0&&S>d,D=S=>f===void 0?d:d===void 0||Math.abs(f-S)<Math.abs(d-S)?f:d;let j=n*e;const b=E+j,F=u===void 0?b:u(b);F!==b&&(j=F-E);const G=S=>-j*Math.exp(-S/i),q=S=>F+G(S),re=S=>{const I=G(S),R=q(S);w.done=Math.abs(I)<=m,w.value=w.done?F:R};let ne,ae;const V=S=>{A(w.value)&&(ne=S,ae=Oc({keyframes:[w.value,D(w.value)],velocity:H1(q,S,w.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return V(0),{calculatedDuration:null,next:S=>{let I=!1;return!ae&&ne===void 0&&(I=!0,re(S),V(S)),ne!==void 0&&S>=ne?ae.next(S-ne):(!I&&re(S),w)}}}function YR(t,e,n){const i=[],o=n||Hr.mix||z1,l=t.length-1;for(let u=0;u<l;u++){let f=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Dn:e;f=Dl(d,f)}i.push(f)}return i}function XR(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const l=t.length;if(Jp(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=YR(e,i,o),d=f.length,m=v=>{if(u&&v<t[0])return e[0];let E=0;if(d>1)for(;E<t.length-2&&!(v<t[E+1]);E++);const w=vl(t[E],t[E+1],v);return f[E](w)};return n?v=>m($r(t[0],t[l-1],v)):m}function JR(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=vl(0,e,i);t.push(it(n,1,o))}}function ZR(t){const e=[0];return JR(e,t.length-1),e}function e2(t,e){return t.map(n=>n*e)}function t2(t,e){return t.map(()=>e||D1).splice(0,t.length-1)}function rl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=fR(i)?i.map(n0):n0(i),l={done:!1,value:e[0]},u=e2(n&&n.length===e.length?n:ZR(e),t),f=XR(u,e,{ease:Array.isArray(o)?o:t2(e,o)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const n2=t=>t!==null;function um(t,{repeat:e,repeatType:n="loop"},i,o=1){const l=t.filter(n2),f=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const r2={decay:Hd,inertia:Hd,tween:rl,keyframes:rl,spring:Oc};function W1(t){typeof t.type=="string"&&(t.type=r2[t.type])}class cm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const i2=t=>t/100;class hm extends cm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;W1(e);const{type:n=rl,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const d=n||rl;d!==rl&&typeof f[0]!="number"&&(this.mixKeyframes=Dl(i2,z1(f[0],f[1])),f=[0,100]);const m=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=lm(m));const{calculatedDuration:v}=m;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:v,repeat:E,repeatType:w,repeatDelay:A,type:D,onUpdate:j,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-m*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?F<0:F>o;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,re=i;if(E){const S=Math.min(this.currentTime,o)/f;let I=Math.floor(S),R=S%1;!R&&S>=1&&(R=1),R===1&&I--,I=Math.min(I,E+1),!!(I%2)&&(w==="reverse"?(R=1-R,A&&(R-=A/f)):w==="mirror"&&(re=u)),q=$r(0,1,R)*f}const ne=G?{done:!1,value:v[0]}:re.next(q);l&&(ne.value=l(ne.value));let{done:ae}=ne;!G&&d!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return V&&D!==Hd&&(ne.value=um(v,this.options,b,this.speed)),j&&j(ne.value),V&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return dr(this.calculatedDuration)}get time(){return dr(this.currentTime)}set time(e){e=fr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=dr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=UR,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function s2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ds=t=>t*180/Math.PI,Wd=t=>{const e=ds(Math.atan2(t[1],t[0]));return qd(e)},o2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Wd,rotateZ:Wd,skewX:t=>ds(Math.atan(t[1])),skewY:t=>ds(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qd=t=>(t=t%360,t<0&&(t+=360),t),l0=Wd,u0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),c0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),a2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u0,scaleY:c0,scale:t=>(u0(t)+c0(t))/2,rotateX:t=>qd(ds(Math.atan2(t[6],t[5]))),rotateY:t=>qd(ds(Math.atan2(-t[2],t[0]))),rotateZ:l0,rotate:l0,skewX:t=>ds(Math.atan(t[4])),skewY:t=>ds(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Kd(t){return t.includes("scale")?1:0}function Gd(t,e){if(!t||t==="none")return Kd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=a2,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=o2,o=f}if(!o)return Kd(e);const l=i[e],u=o[1].split(",").map(u2);return typeof l=="function"?l(u):u[l]}const l2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Gd(n,e)};function u2(t){return parseFloat(t.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(qo),h0=t=>t===Wo||t===Te,c2=new Set(["x","y","z"]),h2=qo.filter(t=>!c2.has(t));function f2(t){const e=[];return h2.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const gs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Gd(e,"x"),y:(t,{transform:e})=>Gd(e,"y")};gs.translateX=gs.x;gs.translateY=gs.y;const ys=new Set;let Qd=!1,Yd=!1,Xd=!1;function q1(){if(Yd){const t=Array.from(ys).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=f2(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Yd=!1,Qd=!1,ys.forEach(t=>t.complete(Xd)),ys.clear()}function K1(){ys.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yd=!0)})}function d2(){Xd=!0,K1(),q1(),Xd=!1}class fm{constructor(e,n,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ys.add(this),Qd||(Qd=!0,et.read(K1),et.resolveKeyframes(q1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}s2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ys.delete(this)}cancel(){this.state==="scheduled"&&(ys.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const p2=t=>t.startsWith("--");function m2(t,e,n){p2(e)?t.style.setProperty(e,n):t.style[e]=n}const g2=Zp(()=>window.ScrollTimeline!==void 0),y2={};function v2(t,e){const n=Zp(t);return()=>y2[e]??n()}const G1=v2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qa=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,f0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qa([0,.65,.55,1]),circOut:Qa([.55,0,1,.45]),backIn:Qa([.31,.01,.66,-.59]),backOut:Qa([.33,1.53,.69,.99])};function Q1(t,e){if(t)return typeof t=="function"?G1()?$1(t,e):"ease-out":N1(t)?Qa(t):Array.isArray(t)?t.map(n=>Q1(n,e)||f0.easeOut):f0[t]}function _2(t,e,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:d}={},m=void 0){const v={[e]:n};d&&(v.offset=d);const E=Q1(f,o);Array.isArray(E)&&(v.easing=E);const w={delay:i,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(v,w)}function Y1(t){return typeof t=="function"&&"applyToOptions"in t}function w2({type:t,...e}){return Y1(t)&&G1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class E2 extends cm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Jp(typeof e.type!="string");const m=w2(e);this.animation=_2(n,i,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=um(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):m2(n,i,v),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return dr(Number(e))}get time(){return dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&g2()?(this.animation.timeline=e,Dn):n(this)}}const X1={anticipate:k1,backInOut:P1,circInOut:V1};function T2(t){return t in X1}function x2(t){typeof t.ease=="string"&&T2(t.ease)&&(t.ease=X1[t.ease])}const d0=10;class S2 extends E2{constructor(e){x2(e),W1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new hm({...u,autoplay:!1}),d=fr(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-d0).value,f.sample(d).value,d0),f.stop()}}const p0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ri.test(t)||t==="0")&&!t.startsWith("url("));function A2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function C2(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=p0(o,e),f=p0(l,e);return!u||!f?!1:A2(t)||(n==="spring"||Y1(n))&&i}function Jd(t){t.duration=0,t.type}const I2=new Set(["opacity","clipPath","filter","transform"]),P2=Zp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k2(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return P2()&&n&&I2.has(n)&&(n!=="transform"||!m)&&!d&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const R2=40;class V2 extends cm{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:d,motionValue:m,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=cn.now();const w={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:v,...E},A=v?.KeyframeResolver||fm;this.keyframeResolver=new A(f,(D,j,b)=>this.onKeyframesResolved(D,j,w,!b),d,m,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:d,isHandoff:m,onUpdate:v}=i;this.resolvedAt=cn.now(),C2(e,l,u,f)||((Hr.instantAnimations||!d)&&v?.(um(e,i,n)),e[0]=e[e.length-1],Jd(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>R2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!m&&k2(w)?new S2({...w,element:w.motionValue.owner.current}):new hm(w);A.finished.then(()=>this.notifyFinished()).catch(Dn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),d2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const D2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N2(t){const e=D2.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function J1(t,e,n=1){const[i,o]=N2(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return w1(u)?parseFloat(u):u}return im(o)?J1(o,e,n+1):o}function dm(t,e){return t?.[e]??t?.default??t}const Z1=new Set(["width","height","top","left","right","bottom",...qo]),b2={test:t=>t==="auto",parse:t=>t},eE=t=>e=>e.test(t),tE=[Wo,Te,pr,yi,AR,SR,b2],m0=t=>tE.find(eE(t));function M2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||T1(t):!0}const L2=new Set(["brightness","contrast","saturate","opacity"]);function O2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(sm)||[];if(!i)return t;const o=n.replace(i,"");let l=L2.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+o+")"}const j2=/\b([a-z-]*)\(.*?\)/gu,Zd={...Ri,getAnimatableNone:t=>{const e=t.match(j2);return e?e.map(O2).join(" "):t}},g0={...Wo,transform:Math.round},F2={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:sc,scaleX:sc,scaleY:sc,scaleZ:sc,skew:yi,skewX:yi,skewY:yi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:_l,originX:r0,originY:r0,originZ:Te},pm={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...F2,zIndex:g0,fillOpacity:_l,strokeOpacity:_l,numOctaves:g0},B2={...pm,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:Zd,WebkitFilter:Zd},nE=t=>B2[t];function rE(t,e){let n=nE(t);return n!==Zd&&(n=Ri),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const U2=new Set(["auto","none","0"]);function z2(t,e,n){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!U2.has(l)&&wl(l).values.length&&(o=t[i]),i++}if(o&&n)for(const l of e)t[l]=rE(n,o)}class $2 extends fm{constructor(e,n,i,o,l){super(e,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),im(m))){const v=J1(m,n.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Z1.has(i)||e.length!==2)return;const[o,l]=e,u=m0(o),f=m0(l);if(u!==f)if(h0(u)&&h0(f))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else gs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||M2(e[o]))&&i.push(o);i.length&&z2(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=gs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function H2(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=n?.[t]??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const iE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function W2(t){return E1(t)&&"offsetHeight"in t}const y0=30,q2=t=>!isNaN(parseFloat(t));class K2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=cn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=q2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new em);const i=this.events[e].add(n);return e==="change"?()=>{i(),et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>y0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,y0);return x1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lo(t,e){return new K2(t,e)}const{schedule:mm}=b1(queueMicrotask,!1),Gn={x:!1,y:!1};function sE(){return Gn.x||Gn.y}function G2(t){return t==="x"||t==="y"?Gn[t]?null:(Gn[t]=!0,()=>{Gn[t]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}function oE(t,e){const n=H2(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function v0(t){return!(t.pointerType==="touch"||sE())}function Q2(t,e,n={}){const[i,o,l]=oE(t,n),u=f=>{if(!v0(f))return;const{target:d}=f,m=e(d,f);if(typeof m!="function"||!d)return;const v=E=>{v0(E)&&(m(E),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const aE=(t,e)=>e?t===e?!0:aE(t,e.parentElement):!1,gm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Y2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function X2(t){return Y2.has(t.tagName)||t.tabIndex!==-1}const gc=new WeakSet;function _0(t){return e=>{e.key==="Enter"&&t(e)}}function sd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const J2=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=_0(()=>{if(gc.has(n))return;sd(n,"down");const o=_0(()=>{sd(n,"up")}),l=()=>sd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function w0(t){return gm(t)&&!sE()}function Z2(t,e,n={}){const[i,o,l]=oE(t,n),u=f=>{const d=f.currentTarget;if(!w0(f))return;gc.add(d);const m=e(d,f),v=(A,D)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",w),gc.has(d)&&gc.delete(d),w0(A)&&typeof m=="function"&&m(A,{success:D})},E=A=>{v(A,d===window||d===document||n.useGlobalTarget||aE(d,A.target))},w=A=>{v(A,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",w,o)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),W2(f)&&(f.addEventListener("focus",m=>J2(m,o)),!X2(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function lE(t){return E1(t)&&"ownerSVGElement"in t}function eV(t){return lE(t)&&t.tagName==="svg"}const Kt=t=>!!(t&&t.getVelocity),tV=[...tE,gt,Ri],nV=t=>tV.find(eE(t)),uE=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function rV(t=!0){const e=L.useContext(Qp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,l=L.useId();L.useEffect(()=>{if(t)return o(l)},[t]);const u=L.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const cE=L.createContext({strict:!1}),E0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oo={};for(const t in E0)Oo[t]={isEnabled:e=>E0[t].some(n=>!!e[n])};function iV(t){for(const e in t)Oo[e]={...Oo[e],...t[e]}}const sV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sV.has(t)}let hE=t=>!jc(t);function oV(t){typeof t=="function"&&(hE=e=>e.startsWith("on")?!jc(e):t(e))}try{oV(require("@emotion/is-prop-valid").default)}catch{}function aV(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(hE(o)||n===!0&&jc(o)||!e&&!jc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const lh=L.createContext({});function uh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function El(t){return typeof t=="string"||Array.isArray(t)}const ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vm=["initial",...ym];function ch(t){return uh(t.animate)||vm.some(e=>El(t[e]))}function fE(t){return!!(ch(t)||t.variants)}function lV(t,e){if(ch(t)){const{initial:n,animate:i}=t;return{initial:n===!1||El(n)?n:void 0,animate:El(i)?i:void 0}}return t.inherit!==!1?e:{}}function uV(t){const{initial:e,animate:n}=lV(t,L.useContext(lh));return L.useMemo(()=>({initial:e,animate:n}),[T0(e),T0(n)])}function T0(t){return Array.isArray(t)?t.join(" "):t}const Tl={};function cV(t){for(const e in t)Tl[e]=t[e],rm(e)&&(Tl[e].isCSSVariable=!0)}function dE(t,{layout:e,layoutId:n}){return Ko.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tl[t]||t==="opacity")}const hV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fV=qo.length;function dV(t,e,n){let i="",o=!0;for(let l=0;l<fV;l++){const u=qo[l],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const m=iE(f,pm[u]);if(!d){o=!1;const v=hV[u]||u;i+=`${v}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function _m(t,e,n){const{style:i,vars:o,transformOrigin:l}=t;let u=!1,f=!1;for(const d in e){const m=e[d];if(Ko.has(d)){u=!0;continue}else if(rm(d)){o[d]=m;continue}else{const v=iE(m,pm[d]);d.startsWith("origin")?(f=!0,l[d]=v):i[d]=v}}if(e.transform||(u||n?i.transform=dV(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${d} ${m} ${v}`}}const wm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pE(t,e,n){for(const i in e)!Kt(e[i])&&!dE(i,n)&&(t[i]=e[i])}function pV({transformTemplate:t},e){return L.useMemo(()=>{const n=wm();return _m(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mV(t,e){const n=t.style||{},i={};return pE(i,n,t),Object.assign(i,pV(t,e)),i}function gV(t,e){const n={},i=mV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const yV={offset:"stroke-dashoffset",array:"stroke-dasharray"},vV={offset:"strokeDashoffset",array:"strokeDasharray"};function _V(t,e,n=1,i=0,o=!0){t.pathLength=1;const l=o?yV:vV;t[l.offset]=Te.transform(-i);const u=Te.transform(e),f=Te.transform(n);t[l.array]=`${u} ${f}`}function mE(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},d,m,v){if(_m(t,f,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:w}=t;E.transform&&(w.transform=E.transform,delete E.transform),(w.transform||E.transformOrigin)&&(w.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete E.transformBox),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),o!==void 0&&_V(E,o,l,u,!1)}const gE=()=>({...wm(),attrs:{}}),yE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wV(t,e,n,i){const o=L.useMemo(()=>{const l=gE();return mE(l,e,yE(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};pE(l,t.style,t),o.style={...l,...o.style}}return o}const EV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Em(t){return typeof t!="string"||t.includes("-")?!1:!!(EV.indexOf(t)>-1||/[A-Z]/u.test(t))}function TV(t,e,n,{latestValues:i},o,l=!1){const f=(Em(t)?wV:gV)(e,i,o,t),d=aV(e,typeof t=="string",l),m=t!==L.Fragment?{...d,...f,ref:n}:{},{children:v}=e,E=L.useMemo(()=>Kt(v)?v.get():v,[v]);return L.createElement(t,{...m,children:E})}function x0(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Tm(t,e,n,i){if(typeof e=="function"){const[o,l]=x0(i);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=x0(i);e=e(n!==void 0?n:t.custom,o,l)}return e}function yc(t){return Kt(t)?t.get():t}function xV({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:SV(n,i,o,t),renderState:e()}}function SV(t,e,n,i){const o={},l=i(t,{});for(const w in l)o[w]=yc(l[w]);let{initial:u,animate:f}=t;const d=ch(t),m=fE(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const E=v?f:u;if(E&&typeof E!="boolean"&&!uh(E)){const w=Array.isArray(E)?E:[E];for(let A=0;A<w.length;A++){const D=Tm(t,w[A]);if(D){const{transitionEnd:j,transition:b,...F}=D;for(const G in F){let q=F[G];if(Array.isArray(q)){const re=v?q.length-1:0;q=q[re]}q!==null&&(o[G]=q)}for(const G in j)o[G]=j[G]}}}return o}const vE=t=>(e,n)=>{const i=L.useContext(lh),o=L.useContext(Qp),l=()=>xV(t,e,i,o);return n?l():iR(l)};function xm(t,e,n){const{style:i}=t,o={};for(const l in i)(Kt(i[l])||e.style&&Kt(e.style[l])||dE(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}const AV=vE({scrapeMotionValuesFromProps:xm,createRenderState:wm});function _E(t,e,n){const i=xm(t,e,n);for(const o in t)if(Kt(t[o])||Kt(e[o])){const l=qo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const CV=vE({scrapeMotionValuesFromProps:_E,createRenderState:gE}),IV=Symbol.for("motionComponentSymbol");function xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PV(t,e,n){return L.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):xo(n)&&(n.current=i))},[e])}const Sm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kV="framerAppearId",wE="data-"+Sm(kV),EE=L.createContext({});function RV(t,e,n,i,o){const{visualElement:l}=L.useContext(lh),u=L.useContext(cE),f=L.useContext(Qp),d=L.useContext(uE).reducedMotion,m=L.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const v=m.current,E=L.useContext(EE);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&VV(m.current,n,o,E);const w=L.useRef(!1);L.useInsertionEffect(()=>{v&&w.current&&v.update(n,f)});const A=n[wE],D=L.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return sR(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),D.current&&v.animationState&&v.animationState.animateChanges())}),L.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),v.enteringChildren=void 0)}),v}function VV(t,e,n,i){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:m,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TE(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&xo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:d,layoutRoot:m})}function TE(t){if(t)return t.options.allowProjection!==!1?t.projection:TE(t.parent)}function od(t,{forwardMotionProps:e=!1}={},n,i){n&&iV(n);const o=Em(t)?CV:AV;function l(f,d){let m;const v={...L.useContext(uE),...f,layoutId:DV(f)},{isStatic:E}=v,w=uV(f),A=o(f,E);if(!E&&Gp){NV();const D=bV(v);m=D.MeasureLayout,w.visualElement=RV(t,A,v,i,D.ProjectionNode)}return C.jsxs(lh.Provider,{value:w,children:[m&&w.visualElement?C.jsx(m,{visualElement:w.visualElement,...v}):null,TV(t,f,PV(A,w.visualElement,d),A,E,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=L.forwardRef(l);return u[IV]=t,u}function DV({layoutId:t}){const e=L.useContext(_1).id;return e&&t!==void 0?e+"-"+t:t}function NV(t,e){L.useContext(cE).strict}function bV(t){const{drag:e,layout:n}=Oo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function MV(t,e){if(typeof Proxy>"u")return od;const n=new Map,i=(l,u)=>od(l,u,t,e),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,od(u,void 0,t,e)),n.get(u))})}function xE({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function LV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ad(t){return t===void 0||t===1}function ep({scale:t,scaleX:e,scaleY:n}){return!ad(t)||!ad(e)||!ad(n)}function cs(t){return ep(t)||SE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SE(t){return S0(t.x)||S0(t.y)}function S0(t){return t&&t!=="0%"}function Fc(t,e,n){const i=t-n,o=e*i;return n+o}function A0(t,e,n,i,o){return o!==void 0&&(t=Fc(t,o,i)),Fc(t,n,i)+e}function tp(t,e=0,n=1,i,o){t.min=A0(t.min,e,n,i,o),t.max=A0(t.max,e,n,i,o)}function AE(t,{x:e,y:n}){tp(t.x,e.translate,e.scale,e.originPoint),tp(t.y,n.translate,n.scale,n.originPoint)}const C0=.999999999999,I0=1.0000000000001;function jV(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ao(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,AE(t,u)),i&&cs(l.latestValues)&&Ao(t,l.latestValues))}e.x<I0&&e.x>C0&&(e.x=1),e.y<I0&&e.y>C0&&(e.y=1)}function So(t,e){t.min=t.min+e,t.max=t.max+e}function P0(t,e,n,i,o=.5){const l=it(t.min,t.max,o);tp(t,e,n,l,i)}function Ao(t,e){P0(t.x,e.x,e.scaleX,e.scale,e.originX),P0(t.y,e.y,e.scaleY,e.scale,e.originY)}function CE(t,e){return xE(OV(t.getBoundingClientRect(),e))}function FV(t,e,n){const i=CE(t,n),{scroll:o}=e;return o&&(So(i.x,o.offset.x),So(i.y,o.offset.y)),i}const k0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:k0(),y:k0()}),R0=()=>({min:0,max:0}),ht=()=>({x:R0(),y:R0()}),np={current:null},IE={current:!1};function BV(){if(IE.current=!0,!!Gp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>np.current=t.matches;t.addEventListener("change",e),e()}else np.current=!1}const UV=new WeakMap;function zV(t,e,n){for(const i in e){const o=e[i],l=n[i];if(Kt(o))t.addValue(i,o);else if(Kt(l))t.addValue(i,Lo(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Lo(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const V0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $V{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=cn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,et.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=ch(n),this.isVariantNode=fE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in E){const A=E[w];d[w]!==void 0&&Kt(A)&&A.set(d[w])}}mount(e){this.current=e,UV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),IE.current||BV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:np.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ko.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Oo){const n=Oo[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<V0.length;i++){const o=V0[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=zV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Lo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(w1(i)||T1(i))?i=parseFloat(i):!nV(i)&&Ri.test(n)&&(i=rE(e,n)),this.setBaseTarget(e,Kt(i)?i.get():i)),Kt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Tm(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Kt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new em),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){mm.render(this.render)}}class PE extends $V{constructor(){super(...arguments),this.KeyframeResolver=$2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kE(t,{style:e,vars:n},i,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function HV(t){return window.getComputedStyle(t)}class WV extends PE{constructor(){super(...arguments),this.type="html",this.renderInstance=kE}readValueFromInstance(e,n){if(Ko.has(n))return this.projection?.isProjecting?Kd(n):l2(e,n);{const i=HV(e),o=(rm(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CE(e,n)}build(e,n,i){_m(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return xm(e,n,i)}}const RE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qV(t,e,n,i){kE(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(RE.has(o)?o:Sm(o),e.attrs[o])}class KV extends PE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ko.has(n)){const i=nE(n);return i&&i.default||0}return n=RE.has(n)?n:Sm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return _E(e,n,i)}build(e,n,i){mE(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){qV(e,n,i,o)}mount(e){this.isSVGTag=yE(e.tagName),super.mount(e)}}const GV=(t,e)=>Em(t)?new KV(e):new WV(e,{allowProjection:t!==L.Fragment});function ko(t,e,n){const i=t.getProps();return Tm(i,e,n!==void 0?n:i.custom,t)}const rp=t=>Array.isArray(t);function QV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lo(n))}function YV(t){return rp(t)?t[t.length-1]||0:t}function XV(t,e){const n=ko(t,e);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const u in l){const f=YV(l[u]);QV(t,u,f)}}function JV(t){return!!(Kt(t)&&t.add)}function ip(t,e){const n=t.getValue("willChange");if(JV(n))return n.add(e);if(!n&&Hr.WillChange){const i=new Hr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function VE(t){return t.props[wE]}const ZV=t=>t!==null;function eD(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(ZV),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const tD={type:"spring",stiffness:500,damping:25,restSpeed:10},nD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rD={type:"keyframes",duration:.8},iD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sD=(t,{keyframes:e})=>e.length>2?rD:Ko.has(t)?t.startsWith("scale")?nD(e[1]):tD:iD;function oD({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:m,...v}){return!!Object.keys(v).length}const Am=(t,e,n,i={},o,l)=>u=>{const f=dm(i,t)||{},d=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-fr(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:o};oD(f)||Object.assign(v,sD(t,v)),v.duration&&(v.duration=fr(v.duration)),v.repeatDelay&&(v.repeatDelay=fr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Jd(v),v.delay===0&&(E=!0)),(Hr.instantAnimations||Hr.skipAnimations)&&(E=!0,Jd(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,E&&!l&&e.get()!==void 0){const w=eD(v.keyframes,f);if(w!==void 0){et.update(()=>{v.onUpdate(w),v.onComplete()});return}}return f.isSync?new hm(v):new V2(v)};function aD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function DE(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const d=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const v in f){const E=t.getValue(v,t.latestValues[v]??null),w=f[v];if(w===void 0||m&&aD(m,v))continue;const A={delay:n,...dm(l||{},v)},D=E.get();if(D!==void 0&&!E.isAnimating&&!Array.isArray(w)&&w===D&&!A.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const F=VE(t);if(F){const G=window.MotionHandoffAnimation(F,v,et);G!==null&&(A.startTime=G,j=!0)}}ip(t,v),E.start(Am(v,E,w,t.shouldReduceMotion&&Z1.has(v)?{type:!1}:A,t,j));const b=E.animation;b&&d.push(b)}return u&&Promise.all(d).then(()=>{et.update(()=>{u&&XV(t,u)})}),d}function NE(t,e,n,i=0,o=1){const l=Array.from(t).sort((m,v)=>m.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):o===1?l*i:f-l*i}function sp(t,e,n={}){const i=ko(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(DE(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:E}=o;return lD(t,e,d,m,v,E,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,m]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function lD(t,e,n=0,i=0,o=0,l=1,u){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(sp(d,e,{...u,delay:n+(typeof i=="function"?0:i)+NE(t.variantChildren,d,i,o,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function uD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>sp(t,l,n));i=Promise.all(o)}else if(typeof e=="string")i=sp(t,e,n);else{const o=typeof e=="function"?ko(t,e,n.custom):e;i=Promise.all(DE(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function bE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const cD=vm.length;function ME(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ME(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cD;n++){const i=vm[n],o=t.props[i];(El(o)||o===!1)&&(e[i]=o)}return e}const hD=[...ym].reverse(),fD=ym.length;function dD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>uD(t,n,i)))}function pD(t){let e=dD(t),n=D0(),i=!0;const o=d=>(m,v)=>{const E=ko(t,v,d==="exit"?t.presenceContext?.custom:void 0);if(E){const{transition:w,transitionEnd:A,...D}=E;m={...m,...D,...A}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,v=ME(t.parent)||{},E=[],w=new Set;let A={},D=1/0;for(let b=0;b<fD;b++){const F=hD[b],G=n[F],q=m[F]!==void 0?m[F]:v[F],re=El(q),ne=F===d?G.isActive:null;ne===!1&&(D=b);let ae=q===v[F]&&q!==m[F]&&re;if(ae&&i&&t.manuallyAnimateOnMount&&(ae=!1),G.protectedKeys={...A},!G.isActive&&ne===null||!q&&!G.prevProp||uh(q)||typeof q=="boolean")continue;const V=mD(G.prevProp,q);let S=V||F===d&&G.isActive&&!ae&&re||b>D&&re,I=!1;const R=Array.isArray(q)?q:[q];let M=R.reduce(o(F),{});ne===!1&&(M={});const{prevResolvedValues:B={}}=G,P={...B,...M},Ce=me=>{S=!0,w.has(me)&&(I=!0,w.delete(me)),G.needsAnimating[me]=!0;const Q=t.getValue(me);Q&&(Q.liveStyle=!1)};for(const me in P){const Q=M[me],le=B[me];if(A.hasOwnProperty(me))continue;let oe=!1;rp(Q)&&rp(le)?oe=!bE(Q,le):oe=Q!==le,oe?Q!=null?Ce(me):w.add(me):Q!==void 0&&w.has(me)?Ce(me):G.protectedKeys[me]=!0}G.prevProp=q,G.prevResolvedValues=M,G.isActive&&(A={...A,...M}),i&&t.blockInitialAnimation&&(S=!1);const Ie=ae&&V;S&&(!Ie||I)&&E.push(...R.map(me=>{const Q={type:F};if(typeof me=="string"&&i&&!Ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,oe=ko(le,me);if(le.enteringChildren&&oe){const{delayChildren:U}=oe.transition||{};Q.delay=NE(le.enteringChildren,t,U)}}return{animation:me,options:Q}}))}if(w.size){const b={};if(typeof m.initial!="boolean"){const F=ko(t,Array.isArray(m.initial)?m.initial[0]:m.initial);F&&F.transition&&(b.transition=F.transition)}w.forEach(F=>{const G=t.getBaseTarget(F),q=t.getValue(F);q&&(q.liveStyle=!0),b[F]=G??null}),E.push({animation:b})}let j=!!E.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(E):Promise.resolve()}function f(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(E=>E.animationState?.setActive(d,m)),n[d].isActive=m;const v=u(d);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=D0(),i=!0}}}function mD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bE(e,t):!1}function ls(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function D0(){return{animate:ls(!0),whileInView:ls(),whileHover:ls(),whileTap:ls(),whileDrag:ls(),whileFocus:ls(),exit:ls()}}class Ni{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gD extends Ni{constructor(e){super(e),e.animationState||(e.animationState=pD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yD=0;class vD extends Ni{constructor(){super(...arguments),this.id=yD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _D={animation:{Feature:gD},exit:{Feature:vD}};function xl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ml(t){return{point:{x:t.pageX,y:t.pageY}}}const wD=t=>e=>gm(e)&&t(e,Ml(e));function il(t,e,n,i){return xl(t,e,wD(n),i)}const LE=1e-4,ED=1-LE,TD=1+LE,OE=.01,xD=0-OE,SD=0+OE;function Jt(t){return t.max-t.min}function AD(t,e,n){return Math.abs(t-e)<=n}function N0(t,e,n,i=.5){t.origin=i,t.originPoint=it(e.min,e.max,t.origin),t.scale=Jt(n)/Jt(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ED&&t.scale<=TD||isNaN(t.scale))&&(t.scale=1),(t.translate>=xD&&t.translate<=SD||isNaN(t.translate))&&(t.translate=0)}function sl(t,e,n,i){N0(t.x,e.x,n.x,i?i.originX:void 0),N0(t.y,e.y,n.y,i?i.originY:void 0)}function b0(t,e,n){t.min=n.min+e.min,t.max=t.min+Jt(e)}function CD(t,e,n){b0(t.x,e.x,n.x),b0(t.y,e.y,n.y)}function M0(t,e,n){t.min=e.min-n.min,t.max=t.min+Jt(e)}function ol(t,e,n){M0(t.x,e.x,n.x),M0(t.y,e.y,n.y)}function Rn(t){return[t("x"),t("y")]}const jE=({current:t})=>t?t.ownerDocument.defaultView:null,L0=(t,e)=>Math.abs(t-e);function ID(t,e){const n=L0(t.x,e.x),i=L0(t.y,e.y);return Math.sqrt(n**2+i**2)}class FE{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ud(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=ID(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:j}=w,{timestamp:b}=Lt;this.history.push({...j,timestamp:b});const{onStart:F,onMove:G}=this.handlers;A||(F&&F(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=ld(A,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:D,onSessionEnd:j,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=ud(w.type==="pointercancel"?this.lastMoveEventInfo:ld(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(w,F),j&&j(w,F)},!gm(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const f=Ml(e),d=ld(f,this.transformPagePoint),{point:m}=d,{timestamp:v}=Lt;this.history=[{...m,timestamp:v}];const{onSessionStart:E}=n;E&&E(e,ud(d,this.history)),this.removeListeners=Dl(il(this.contextWindow,"pointermove",this.handlePointerMove),il(this.contextWindow,"pointerup",this.handlePointerUp),il(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function ld(t,e){return e?{point:e(t.point)}:t}function O0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ud({point:t},e){return{point:t,delta:O0(t,BE(e)),offset:O0(t,PD(e)),velocity:kD(e,.1)}}function PD(t){return t[0]}function BE(t){return t[t.length-1]}function kD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=BE(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>fr(e)));)n--;if(!i)return{x:0,y:0};const l=dr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function RD(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?it(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?it(n,t,i.max):Math.min(t,n)),t}function j0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VD(t,{top:e,left:n,bottom:i,right:o}){return{x:j0(t.x,n,o),y:j0(t.y,e,i)}}function F0(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function DD(t,e){return{x:F0(t.x,e.x),y:F0(t.y,e.y)}}function ND(t,e){let n=.5;const i=Jt(t),o=Jt(e);return o>i?n=vl(e.min,e.max-i,t.min):i>o&&(n=vl(t.min,t.max-o,e.min)),$r(0,1,n)}function bD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const op=.35;function MD(t=op){return t===!1?t=0:t===!0&&(t=op),{x:B0(t,"left","right"),y:B0(t,"top","bottom")}}function B0(t,e,n){return{min:U0(t,e),max:U0(t,n)}}function U0(t,e){return typeof t=="number"?t:t[e]||0}const LD=new WeakMap;class OD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ml(E).point)},u=(E,w)=>{const{drag:A,dragPropagation:D,onDragStart:j}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G2(A),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(F=>{let G=this.getAxisMotionValue(F).get()||0;if(pr.test(G)){const{projection:q}=this.visualElement;if(q&&q.layout){const re=q.layout.layoutBox[F];re&&(G=Jt(re)*(parseFloat(G)/100))}}this.originPoint[F]=G}),j&&et.postRender(()=>j(E,w)),ip(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},f=(E,w)=>{this.latestPointerEvent=E,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:j,onDrag:b}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:F}=w;if(D&&this.currentDirection===null){this.currentDirection=jD(F),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,F),this.updateAxis("y",w.point,F),this.visualElement.render(),b&&b(E,w)},d=(E,w)=>{this.latestPointerEvent=E,this.latestPanInfo=w,this.stop(E,w),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Rn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new FE(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:jE(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&et.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!oc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=RD(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=VD(i.layoutBox,e):this.constraints=!1,this.elastic=MD(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=bD(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=FV(i,o.root,this.visualElement.getTransformPagePoint());let u=DD(o.layout.layoutBox,l);if(n){const f=n(LV(u));this.hasMutatedConstraints=!!f,f&&(u=xE(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=Rn(v=>{if(!oc(v,n,this.currentDirection))return;let E=d&&d[v]||{};u&&(E={min:0,max:0});const w=o?200:1e6,A=o?40:1e7,D={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(v,D)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ip(this.visualElement,e),i.start(Am(e,i,0,n,this.visualElement,!1))}stopAnimation(){Rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rn(n=>{const{drag:i}=this.getProps();if(!oc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(e[n]-it(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!xo(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Rn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();o[u]=ND({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!oc(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];f.set(it(d,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;LD.set(this.visualElement,this);const e=this.visualElement.current,n=il(e,"pointerdown",d=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();xo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),et.read(i);const u=xl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Rn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=d[v].translate,E.set(E.get()+d[v].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=op,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function oc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FD extends Ni{constructor(e){super(e),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new OD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const z0=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class BD extends Ni{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(e){this.session=new FE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:z0(e),onStart:z0(n),onMove:i,onEnd:(l,u)=>{delete this.session,o&&et.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=il(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ha={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=$0(t,e.target.x),i=$0(t,e.target.y);return`${n}% ${i}%`}},UD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Ri.parse(t);if(o.length>5)return i;const l=Ri.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=d;const m=it(f,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};let cd=!1;class zD extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;cV($D),l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),cd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,cd=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||et.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;cd=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UE(t){const[e,n]=rV(),i=L.useContext(_1);return C.jsx(zD,{...t,layoutGroup:i,switchLayoutGroup:L.useContext(EE),isPresent:e,safeToRemove:n})}const $D={borderRadius:{...Ha,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ha,borderTopRightRadius:Ha,borderBottomLeftRadius:Ha,borderBottomRightRadius:Ha,boxShadow:UD};function HD(t,e,n){const i=Kt(t)?t:Lo(t);return i.start(Am("",i,e,n)),i.animation}const WD=(t,e)=>t.depth-e.depth;class qD{constructor(){this.children=[],this.isDirty=!1}add(e){Yp(this.children,e),this.isDirty=!0}remove(e){Xp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WD),this.isDirty=!1,this.children.forEach(e)}}function KD(t,e){const n=cn.now(),i=({timestamp:o})=>{const l=o-n;l>=e&&(ki(i),t(l-e))};return et.setup(i,!0),()=>ki(i)}const zE=["TopLeft","TopRight","BottomLeft","BottomRight"],GD=zE.length,H0=t=>typeof t=="string"?parseFloat(t):t,W0=t=>typeof t=="number"||Te.test(t);function QD(t,e,n,i,o,l){o?(t.opacity=it(0,n.opacity??1,YD(i)),t.opacityExit=it(e.opacity??1,0,XD(i))):l&&(t.opacity=it(e.opacity??1,n.opacity??1,i));for(let u=0;u<GD;u++){const f=`border${zE[u]}Radius`;let d=q0(e,f),m=q0(n,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||W0(d)===W0(m)?(t[f]=Math.max(it(H0(d),H0(m),i),0),(pr.test(m)||pr.test(d))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,i))}function q0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YD=$E(0,.5,R1),XD=$E(.5,.95,Dn);function $E(t,e,n){return i=>i<t?0:i>e?1:n(vl(t,e,i))}function K0(t,e){t.min=e.min,t.max=e.max}function kn(t,e){K0(t.x,e.x),K0(t.y,e.y)}function G0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Q0(t,e,n,i,o){return t-=e,t=Fc(t,1/n,i),o!==void 0&&(t=Fc(t,1/o,i)),t}function JD(t,e=0,n=1,i=.5,o,l=t,u=t){if(pr.test(e)&&(e=parseFloat(e),e=it(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=it(l.min,l.max,i);t===l&&(f-=e),t.min=Q0(t.min,e,n,f,o),t.max=Q0(t.max,e,n,f,o)}function Y0(t,e,[n,i,o],l,u){JD(t,e[n],e[i],e[o],e.scale,l,u)}const ZD=["x","scaleX","originX"],eN=["y","scaleY","originY"];function X0(t,e,n,i){Y0(t.x,e,ZD,n?n.x:void 0,i?i.x:void 0),Y0(t.y,e,eN,n?n.y:void 0,i?i.y:void 0)}function J0(t){return t.translate===0&&t.scale===1}function HE(t){return J0(t.x)&&J0(t.y)}function Z0(t,e){return t.min===e.min&&t.max===e.max}function tN(t,e){return Z0(t.x,e.x)&&Z0(t.y,e.y)}function e_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WE(t,e){return e_(t.x,e.x)&&e_(t.y,e.y)}function t_(t){return Jt(t.x)/Jt(t.y)}function n_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nN{constructor(){this.members=[]}add(e){Yp(this.members,e),e.scheduleRender()}remove(e){if(Xp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rN(t,e,n){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:E,rotateY:w,skewX:A,skewY:D}=n;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),E&&(i+=`rotateX(${E}deg) `),w&&(i+=`rotateY(${w}deg) `),A&&(i+=`skewX(${A}deg) `),D&&(i+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const hd=["","X","Y","Z"],iN=1e3;let sN=0;function fd(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function qE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&qE(i)}function KE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e?.()){this.id=sN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lN),this.nodes.forEach(fN),this.nodes.forEach(dN),this.nodes.forEach(uN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new qD)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new em),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=lE(u)&&!eV(u),this.instance=u;const{layoutId:f,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let v,E=0;const w=()=>this.root.updateBlockedByResize=!1;et.read(()=>{E=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==E&&(E=A,this.root.updateBlockedByResize=!0,v&&v(),v=KD(w,250),vc.hasAnimatedSinceResize&&(vc.hasAnimatedSinceResize=!1,this.nodes.forEach(s_)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||m.getDefaultTransition()||vN,{onLayoutAnimationStart:j,onLayoutAnimationComplete:b}=m.getProps(),F=!this.targetLayout||!WE(this.targetLayout,A),G=!E&&w;if(this.options.layoutRoot||this.resumeFrom||G||E&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...dm(D,"layout"),onPlay:j,onComplete:b};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,G)}else E||s_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hN),this.nodes.forEach(oN),this.nodes.forEach(aN)):this.nodes.forEach(i_),this.clearAllSnapshots();const f=cn.now();Lt.delta=$r(0,1e3/60,f-Lt.timestamp),Lt.timestamp=f,Lt.isProcessing=!0,ed.update.process(Lt),ed.preRender.process(Lt),ed.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cN),this.sharedNodes.forEach(mN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!HE(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||cs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),_N(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ht();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wN))){const{scroll:m}=this.root;m&&(So(f.x,m.offset.x),So(f.y,m.offset.y))}return f}removeElementScroll(u){const f=ht();if(kn(f,u),this.scroll?.wasRoot)return f;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:v,options:E}=m;m!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&kn(f,u),So(f.x,v.offset.x),So(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const d=ht();kn(d,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ao(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),cs(v.latestValues)&&Ao(d,v.latestValues)}return cs(this.latestValues)&&Ao(d,this.latestValues),d}removeTransform(u){const f=ht();kn(f,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!cs(m.latestValues))continue;ep(m.latestValues)&&m.updateSnapshot();const v=ht(),E=m.measurePageBox();kn(v,E),X0(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return cs(this.latestValues)&&X0(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),ol(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),AE(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),ol(this.relativeTargetOrigin,this.target,w.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ep(this.parent.latestValues)||SE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;kn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,w=this.treeScale.y;jV(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ht());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(G0(this.prevProjectionDelta.x,this.projectionDelta.x),G0(this.prevProjectionDelta.y,this.projectionDelta.y)),sl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==w||!n_(this.projectionDelta.x,this.prevProjectionDelta.x)||!n_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(u,f=!1){const d=this.snapshot,m=d?d.latestValues:{},v={...this.latestValues},E=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=ht(),A=d?d.source:void 0,D=this.layout?this.layout.source:void 0,j=A!==D,b=this.getStack(),F=!b||b.members.length<=1,G=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(yN));this.animationProgress=0;let q;this.mixTargetDelta=re=>{const ne=re/1e3;o_(E.x,u.x,ne),o_(E.y,u.y,ne),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ol(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gN(this.relativeTarget,this.relativeTargetOrigin,w,ne),q&&tN(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ht()),kn(q,this.relativeTarget)),j&&(this.animationValues=v,QD(v,m,this.latestValues,ne,G,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{vc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lo(0)),this.currentAnimation=HD(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:v}=u;if(!(!f||!d||!m)){if(this!==u&&this.layout&&m&&GE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||ht();const E=Jt(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+E;const w=Jt(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+w}kn(f,d),Ao(f,v),sl(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new nN),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&fd("z",u,m,this.animationValues);for(let v=0;v<hd.length;v++)fd(`rotate${hd[v]}`,u,m,this.animationValues),fd(`skew${hd[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=yc(f?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=yc(f?.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=m.animationValues||m.latestValues;this.applyTransformsToTarget();let E=rN(this.projectionDeltaWithTransform,this.treeScale,v);d&&(E=d(v,E)),u.transform=E;const{x:w,y:A}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,m.animationValues?u.opacity=m===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in Tl){if(v[D]===void 0)continue;const{correct:j,applyTo:b,isCSSVariable:F}=Tl[D],G=E==="none"?v[D]:j(v[D],m);if(b){const q=b.length;for(let re=0;re<q;re++)u[b[re]]=G}else F?this.options.visualElement.renderState.vars[D]=G:u[D]=G}this.options.layoutId&&(u.pointerEvents=m===this?yc(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(r_),this.root.sharedNodes.clear()}}}function oN(t){t.updateLayout()}function aN(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Rn(v=>{const E=l?e.measuredBox[v]:e.layoutBox[v],w=Jt(E);E.min=n[v].min,E.max=E.min+w}):GE(o,e.layoutBox,n)&&Rn(v=>{const E=l?e.measuredBox[v]:e.layoutBox[v],w=Jt(n[v]);E.max=E.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=Co();sl(u,n,e.layoutBox);const f=Co();l?sl(f,t.applyTransform(i,!0),e.measuredBox):sl(f,n,e.layoutBox);const d=!HE(u);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:w}=v;if(E&&w){const A=ht();ol(A,e.layoutBox,E.layoutBox);const D=ht();ol(D,n,w.layoutBox),WE(A,D)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function lN(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cN(t){t.clearSnapshot()}function r_(t){t.clearMeasurements()}function i_(t){t.isLayoutDirty=!1}function hN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function s_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fN(t){t.resolveTargetDelta()}function dN(t){t.calcProjection()}function pN(t){t.resetSkewAndRotation()}function mN(t){t.removeLeadSnapshot()}function o_(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function a_(t,e,n,i){t.min=it(e.min,n.min,i),t.max=it(e.max,n.max,i)}function gN(t,e,n,i){a_(t.x,e.x,n.x,i),a_(t.y,e.y,n.y,i)}function yN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vN={duration:.45,ease:[.4,0,.1,1]},l_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),u_=l_("applewebkit/")&&!l_("chrome/")?Math.round:Dn;function c_(t){t.min=u_(t.min),t.max=u_(t.max)}function _N(t){c_(t.x),c_(t.y)}function GE(t,e,n){return t==="position"||t==="preserve-aspect"&&!AD(t_(e),t_(n),.2)}function wN(t){return t!==t.root&&t.scroll?.wasRoot}const EN=KE({attachResizeListener:(t,e)=>xl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dd={current:void 0},QE=KE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dd.current){const t=new EN({});t.mount(window),t.setOptions({layoutScroll:!0}),dd.current=t}return dd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TN={pan:{Feature:BD},drag:{Feature:FD,ProjectionNode:QE,MeasureLayout:UE}};function h_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&et.postRender(()=>l(e,Ml(e)))}class xN extends Ni{mount(){const{current:e}=this.node;e&&(this.unmount=Q2(e,(n,i)=>(h_(this.node,i,"Start"),o=>h_(this.node,o,"End"))))}unmount(){}}class SN extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dl(xl(this.node.current,"focus",()=>this.onFocus()),xl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f_(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&et.postRender(()=>l(e,Ml(e)))}class AN extends Ni{mount(){const{current:e}=this.node;e&&(this.unmount=Z2(e,(n,i)=>(f_(this.node,i,"Start"),(o,{success:l})=>f_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ap=new WeakMap,pd=new WeakMap,CN=t=>{const e=ap.get(t.target);e&&e(t)},IN=t=>{t.forEach(CN)};function PN({root:t,...e}){const n=t||document;pd.has(n)||pd.set(n,{});const i=pd.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(IN,{root:t,...e})),i[o]}function kN(t,e,n){const i=PN(e);return ap.set(t,n),i.observe(t),()=>{ap.delete(t),i.unobserve(t)}}const RN={some:0,all:1};class VN extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:RN[o]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),w=m?v:E;w&&w(d)};return kN(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DN(e,n))&&this.startObserver()}unmount(){}}function DN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const NN={inView:{Feature:VN},tap:{Feature:AN},focus:{Feature:SN},hover:{Feature:xN}},bN={layout:{ProjectionNode:QE,MeasureLayout:UE}},MN={..._D,...NN,...TN,...bN},LN=MV(MN,GV);function ON({text:t,speed:e=50,maxIterations:n=10,sequential:i=!1,revealDirection:o="start",useOriginalCharsOnly:l=!1,characters:u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+",className:f="",parentClassName:d="",encryptedClassName:m="",animateOn:v="hover",...E}){const[w,A]=L.useState(t),[D,j]=L.useState(!1),[b,F]=L.useState(!1),[G,q]=L.useState(new Set),[re,ne]=L.useState(!1),ae=L.useRef(null);L.useEffect(()=>{let S,I=0;const R=P=>{const Ce=t.length;switch(o){case"start":return P.size;case"end":return Ce-1-P.size;case"center":{const Ie=Math.floor(Ce/2),Ne=Math.floor(P.size/2),me=P.size%2===0?Ie+Ne:Ie-Ne-1;if(me>=0&&me<Ce&&!P.has(me))return me;for(let Q=0;Q<Ce;Q++)if(!P.has(Q))return Q;return 0}default:return P.size}},M=l?Array.from(new Set(t.split(""))).filter(P=>P!==" "):u.split(""),B=(P,Ce)=>{if(l){const Ie=P.split("").map((Q,le)=>({char:Q,isSpace:Q===" ",index:le,isRevealed:Ce.has(le)})),Ne=Ie.filter(Q=>!Q.isSpace&&!Q.isRevealed).map(Q=>Q.char);for(let Q=Ne.length-1;Q>0;Q--){const le=Math.floor(Math.random()*(Q+1));[Ne[Q],Ne[le]]=[Ne[le],Ne[Q]]}let me=0;return Ie.map(Q=>Q.isSpace?" ":Q.isRevealed?P[Q.index]:Ne[me++]).join("")}else return P.split("").map((Ie,Ne)=>Ie===" "?" ":Ce.has(Ne)?P[Ne]:M[Math.floor(Math.random()*M.length)]).join("")};return D?(F(!0),S=setInterval(()=>{q(P=>{if(i)if(P.size<t.length){const Ce=R(P),Ie=new Set(P);return Ie.add(Ce),A(B(t,Ie)),Ie}else return clearInterval(S),F(!1),P;else return A(B(t,P)),I++,I>=n&&(clearInterval(S),F(!1),A(t)),P})},e)):(A(t),q(new Set),F(!1)),()=>{S&&clearInterval(S)}},[D,t,e,n,i,o,u,l]),L.useEffect(()=>{if(v!=="view")return;const S=B=>{B.forEach(P=>{P.isIntersecting&&!re&&(j(!0),ne(!0))})},I={root:null,rootMargin:"0px",threshold:.1},R=new IntersectionObserver(S,I),M=ae.current;return M&&R.observe(M),()=>{M&&R.unobserve(M)}},[v,re]);const V=v==="hover"?{onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1)}:{};return C.jsxs(LN.span,{ref:ae,className:`inline-block whitespace-pre-wrap ${d}`,...V,...E,children:[C.jsx("span",{className:"sr-only",children:w}),C.jsx("span",{"aria-hidden":"true",children:w.split("").map((S,I)=>{const R=G.has(I)||!b||!D;return C.jsx("span",{className:R?f:m,children:S},I)})})]})}const jN=()=>{const t=[{name:"React",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg"},{name:"JavaScript",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg"},{name:"TypeScript",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg"},{name:"Node.js",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"},{name:"Java",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg"},{name:"Next.js",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nextjs/nextjs-original.svg"},{name:"Tailwind CSS",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tailwindcss/tailwindcss-original.svg"},{name:"Git",icon:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg"}],e=[...t,...t];return C.jsxs("div",{className:"relative overflow-hidden py-8",children:[C.jsx("div",{className:"flex animate-scroll space-x-6 sm:space-x-8 md:space-x-12",style:{width:`${e.length*160}px`},children:e.map((n,i)=>C.jsxs("div",{className:"flex flex-col items-center justify-center w-20 sm:w-24 md:w-28 lg:w-32",children:[C.jsx("img",{src:n.icon,alt:n.name,className:"w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16 lg:w-20 lg:h-20 object-contain mb-2"}),C.jsx("p",{className:"text-xs sm:text-sm md:text-base font-gotham-book text-gray-700 dark:text-gray-300 text-center",children:n.name})]},i))}),C.jsx("style",{jsx:!0,children:`
        @keyframes scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        .animate-scroll {
          animation: scroll 30s linear infinite;
        }
      `})]})},FN=()=>{const[t,e]=L.useState(!1),n=zc(),i=()=>e(!0),o=()=>e(!1),l=()=>o(),u=()=>{n("/contact")};return C.jsxs(C.Fragment,{children:[C.jsx("section",{id:"about",className:`min-h-screen py-20 px-6 
             bg-gray-50 text-gray-900 
             dark:bg-black dark:text-white 
             transition-colors duration-300`,children:C.jsxs("div",{className:"max-w-7xl mx-auto",children:[C.jsxs("div",{className:"lg:flex lg:items-center lg:space-x-12",children:[C.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0",children:[C.jsxs("div",{className:"flex items-center mb-6",children:[C.jsx("div",{className:"w-12 h-px bg-black dark:bg-cyan-400"}),C.jsx("span",{className:"ml-3 text-black dark:text-cyan-400 text-xs",children:"ABOUT"})]}),C.jsx("div",{className:"relative overflow-visible flex justify-center cursor-pointer",onClick:i,children:C.jsxs("div",{className:"relative rounded-xl aspect-[4/5] max-w-xs",children:[C.jsx("img",{src:"/assets/images/IMG_4027.jpeg",alt:"Vishal Gurung",className:"w-full h-full object-cover rounded-xl transition-transform duration-300 hover:scale-105",style:{transform:"translateY(12px) scale(0.95)"}}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"}),C.jsx("div",{className:"absolute inset-y-0 right-0 pointer-events-none",style:{transform:"translate(34%, 39%) scale(1.4)"},children:C.jsx(ON,{text:"プロフィール",className:"text-3xl md:text-3xl lg:text-4xl font-bold text-[#f1f1b9] dark:text-white whitespace-nowrap",encryptedClassName:"text-2xl md:text-3xl lg:text-4xl font-bold text-[#ffffff] whitespace-nowrap",animateOn:"view",sequential:!0,speed:500,revealDirection:"start",characters:"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンガギグゲゴザジズゼゾダヂヅデドバビブベボパピプペポ",style:{transform:"rotate(270deg)",fontFamily:"'Yu Gothic', 'Noto Sans JP', sans-serif"}})})]})})]}),C.jsxs("div",{className:"lg:w-1/2 transform scale-[1.14] transition-transform duration-500 origin-top-left",children:[C.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text:black dark:text-white mb-4 leading-tight font-gotham-book",children:"About Me"}),C.jsxs("div",{className:"space-y-4 mb-6 max-w-xs ",children:[C.jsxs("p",{className:"text-black dark:text-gray-400 text-sm leading-relaxed font-gotham-book ",children:["Hi, I'm ",C.jsx("span",{className:"underline",children:"Vishal Gurung"}),". Currently studying in Japan, I've immersed myself in a culture that values precision and craftsmanship."]}),C.jsx("p",{className:"text-black dark:text-gray-400 text-sm leading-relaxed font-gotham-book",children:"I believe in creating technology that doesn't just function, but inspires."})]}),C.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-6 mb-6",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-base sm:text-lg font-gotham-medium text-black-400 dark:text-white",children:"2+"}),C.jsx("div",{className:"text-xs font-gotham-book text-black-400 dark:text-gray-200",children:"Projects"})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-base sm:text-lg font-gotham-medium text-black-400 dark:text-white",children:"Exp."}),C.jsx("div",{className:"text-xs font-gotham-book text-black-400 dark:text-gray-200",children:"Developing"})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-base sm:text-lg font-bold text-white",children:"🇳🇵"}),C.jsx("div",{className:"text-xs font-gotham-book text-black-400 dark:text-gray-200",children:"Based in Nepal"})]})]}),C.jsxs("button",{onClick:u,className:`
                inline-flex items-center space-x-2
                bg-gray-800 dark:bg-cyan-400 
                text-white dark:text-black 
                px-4 py-2 md:px-6 md:py-3
                rounded-lg 
                text-xs md:text-sm 
                font-gotham 
                hover:bg-gray-600 dark:hover:bg-cyan-300 
                transition-colors duration-300 
                max-w-max`,children:[C.jsx("span",{children:"Send message"}),C.jsx(v1,{className:"w-4 h-4 md:w-5 md:h-5"})]})]})]}),C.jsx("div",{className:"mt-24 max-w-6xl mx-auto px-4 overflow-x-auto",style:{transform:"scale(0.85)",transformOrigin:"top center"},children:C.jsx(jN,{})})]})}),t&&C.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/70",onClick:l,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:C.jsxs("div",{className:"relative",children:[C.jsx("img",{src:"/assets/images/IMG_4027.jpeg",alt:"Vishal Gurung",id:"modal-title",className:"rounded-lg shadow-lg block",style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain",imageRendering:"-webkit-optimize-contrast",backfaceVisibility:"hidden",transform:"translateZ(0)"},onClick:f=>f.stopPropagation()}),C.jsx("button",{onClick:o,className:"absolute top-2 right-2 w-8 h-8 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white text-lg transition-colors duration-200","aria-label":"Close image",type:"button",children:"×"})]})})]})},BN=({type:t,gifUrl:e,onClick:n})=>e?C.jsx("div",{className:`w-full max-w-sm mx-auto h-48 bg-gradient-to-br from-gray-800 to-gray-900 
                   rounded-xl overflow-hidden border border-gray-700/50 cursor-pointer hover:scale-105 
                   transform transition-transform duration-300`,onClick:n,children:C.jsx("img",{src:e,alt:"Project demo",className:" w-full h-full object-cover rounded-xl scale-150"})}):t==="dog-api"?C.jsxs("div",{onClick:n,className:`w-full max-w-sm mx-auto h-48 bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl 
                   flex items-center justify-center border border-gray-700/50 overflow-hidden relative 
                   cursor-pointer hover:scale-105 transform transition-transform duration-300`,children:[C.jsxs("div",{className:"absolute inset-0",children:[C.jsx("div",{className:"absolute top-4 left-4 w-2 h-2 bg-cyan-400 rounded-full animate-ping"}),C.jsx("div",{className:"absolute top-6 right-6 w-2 h-2 bg-cyan-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),C.jsx("div",{className:"absolute bottom-4 left-6 w-2 h-2 bg-cyan-400 rounded-full animate-ping",style:{animationDelay:"1s"}})]}),C.jsx("div",{className:"text-center",children:C.jsx("div",{className:"w-12 h-12 mx-auto mb-3 border border-cyan-400/30 rounded flex items-center justify-center",children:C.jsx("div",{className:"text-cyan-400 font-mono text-xs font-medium",children:"API"})})})]}):null,UN=()=>{const[t,e]=L.useState(null),n=[{title:"Dog API",description:"Interactive web application that fetches and displays random dog images using REST API integration",type:"dog-api",gifUrl:"/assets/gif/dog.gif",url:"/dog-demo.html"},{title:"Responsive Portfolio",description:"Modern and fully responsive portfolio website showcasing projects with clean design and smooth animations",type:"portfolio",gifUrl:"/assets/gif/portfolio.gif",url:"https://github.com/g0GobliN/g0"}];return C.jsxs("section",{id:"project",className:"min-h-screen py-20 px-6 bg-gray-50 text-gray-900 dark:bg-black dark:text-white transition-colors duration-300",children:[C.jsx("div",{className:"max-w-7xl mx-auto",children:n.map((i,o)=>C.jsxs("div",{className:`mb-20 ${o%2===0?"lg:flex lg:items-center lg:space-x-12":"lg:flex lg:flex-row-reverse lg:items-center lg:space-x-reverse lg:space-x-12"}`,children:[C.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0",children:[C.jsxs("div",{className:"flex items-center mb-6",children:[C.jsx("div",{className:"w-12 h-px bg-gray-800 dark:bg-cyan-400"}),C.jsx("span",{className:"ml-3 text-gray-800 dark:text-cyan-400 font-gotham-book-italic text-xs",children:String(o+1).padStart(2,"0")})]}),C.jsx(BN,{type:i.type,gifUrl:i.gifUrl,onClick:()=>e(i)})]}),C.jsxs("div",{className:"lg:w-1/3",children:[C.jsx("h3",{className:"text-2xl lg:text-3xl font-gotham-book text-black-400 dark:text-white mb-4 leading-tight",children:i.title}),C.jsx("p",{className:"text-black-400 dark:text-gray-400 font-gotham-book text-sm mb-6 leading-relaxed max-w-xs",children:i.description}),C.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 bg-gray-800 dark:bg-cyan-400 text-white dark:text-black px-4 py-2 md:px-6 md:py-3 rounded-lg text-xs md:text-sm font-gotham hover:bg-gray-600 dark:hover:bg-cyan-300 transition-colors duration-300 max-w-max",children:[C.jsx("span",{children:"View website"}),C.jsx(v1,{size:16})]})]})]},o))}),t&&C.jsxs("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:[C.jsx("button",{className:"absolute top-6 right-6 text-white hover:text-cyan-400 transition",onClick:()=>e(null),children:C.jsx(rR,{size:32})}),C.jsxs("div",{className:"max-w-4xl w-full",children:[C.jsx("img",{src:t.gifUrl,alt:t.title,className:"w-full h-auto rounded-lg shadow-2xl transform scale-105 transition-transform duration-500"}),C.jsx("h2",{className:"text-white text-2xl mt-6",children:t.title}),C.jsx("p",{className:"text-gray-300 mt-2",children:t.description})]})]})]})};function zN({title:t,titleId:e,...n},i){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?L.createElement("title",{id:e},t):null,L.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))}const d_=L.forwardRef(zN),$N=()=>{const[t,e]=L.useState({name:"",email:"",message:""}),[n,i]=L.useState(!1),[o,l]=L.useState(""),u=d=>{e({...t,[d.target.name]:d.target.value})},f=async d=>{d.preventDefault(),i(!0);try{(await(await fetch("https://formsubmit.co/ajax/grgvishal.gurung17@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)})).json()).success==="true"?(l("✅ Thank you! Your message has been sent."),e({name:"",email:"",message:""})):l("❌ Something went wrong. Please try again.")}catch{l("❌ Error sending message. Please check your connection.")}finally{i(!1),setTimeout(()=>l(""),5e3)}};return C.jsx("div",{className:"max-w-2xl mx-auto mt-16",children:C.jsx(ms,{delay:300,children:C.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[C.jsx("h3",{className:"text-2xl mb-6 text-gray-900 dark:text-white text-center font-gotham-book",children:"Send me a message"}),o&&C.jsx("div",{className:"mb-6 p-4 bg-green-100 dark:bg-green-900 border border-green-300 dark:border-green-700 rounded-lg text-green-800 dark:text-green-200 text-center transition-all duration-300",children:o}),C.jsxs("form",{onSubmit:f,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 font-gotham-book",children:"Name"}),C.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:u,required:!0,className:`w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-colors
                     font-gotham-book`,placeholder:"Your name"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 font-gotham-book",children:"Email"}),C.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:u,required:!0,className:"w-full px-4 py-3 border font-gotham-book border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-colors",placeholder:"your.email@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"message",className:"block text-sm font-medium font-gotham-book text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),C.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:u,required:!0,rows:5,className:"w-full px-4 py-3 font-gotham-book border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-colors resize-none",placeholder:"Tell me about your project or just say hello..."})]}),C.jsx("button",{type:"submit",disabled:n,className:`w-full font-gotham-medium flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-medium transition-all duration-300 ease-in-out
              ${n?"bg-gray-400 dark:bg-gray-600 text-white animate-pulse cursor-wait":"bg-gradient-to-r from-zinc-500 to-neutral-400 text-white dark:from-white dark:to-gray-300 dark:text-black hover:brightness-110 hover:scale-[1.02] active:scale-95 shadow-md"}
              disabled:opacity-50 disabled:cursor-not-allowed
            `,children:n?C.jsxs(C.Fragment,{children:["Sending...",C.jsx(d_,{className:"w-5 h-5 animate-spin"})]}):C.jsxs(C.Fragment,{children:["Commit Message",C.jsx(d_,{className:"w-5 h-5"})]})})]})]})})})},HN=()=>{const[t,e]=L.useState(0),[n,i]=L.useState({x:0,y:0});return L.useEffect(()=>{const o=()=>e(window.scrollY);return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),L.useEffect(()=>{const o=l=>{i({x:l.clientX/window.innerWidth*2-1,y:l.clientY/window.innerHeight*2-1})};return window.addEventListener("mousemove",o),()=>window.removeEventListener("mousemove",o)},[]),C.jsx("section",{id:"contact",className:`min-h-screen py-20 px-6 
             bg-gray-50 text-gray-900 
             dark:bg-black dark:text-white 
             transition-colors duration-300`,children:C.jsx("div",{className:"max-w-7xl mx-auto",children:C.jsxs("div",{className:"md:flex md:items-center md:space-x-12",children:[C.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0",children:[C.jsxs("div",{className:"flex items-center mb-6",children:[C.jsx("div",{className:"w-12 h-px bg-black dark:bg-cyan-400"}),C.jsx("span",{className:"ml-3 text-black dark:text-cyan-400 text-xs",children:"CONTACT"})]}),C.jsxs("div",{className:"transform scale-[1.14] transition-transform duration-500 origin-top-left",children:[C.jsx(ms,{children:C.jsx("h2",{className:"text-2xl lg:text-3xl text-black-400 dark:text-white mb-4 leading-tight",children:"Let's Work Together"})}),C.jsx(ms,{delay:100,children:C.jsxs("div",{className:"space-y-4 mb-6",children:[C.jsx("p",{className:"text-black-400 dark:text-gray-400 text-sm font-gotham-book leading-relaxed max-w-xs",children:"I'm always excited to collaborate on innovative projects and explore new opportunities."}),C.jsx("p",{className:"text-black-400 dark:text-gray-400 text-sm font-gotham-book leading-relaxed max-w-xs",children:"Let's create something amazing together."})]})})]})]}),C.jsx("div",{className:"lg:w-1/2",children:C.jsx("div",{className:"relative z-10 backdrop-blur-sm border rounded-xl pt-2 px-6 pb-6 lg:pt-4 lg:px-8 lg:pb-8 mt-16",children:C.jsx(ms,{delay:250,children:C.jsx($N,{})})})})]})})})};function WN({scrollY:t,onSectionChange:e}){const n=_r();return L.useEffect(()=>{const i=n.pathname.replace("/","");if(i){const o=document.getElementById(i);o&&o.scrollIntoView({behavior:"smooth"})}else window.scrollTo(0,0)},[n]),C.jsxs(C.Fragment,{children:[C.jsx(Qk,{scrollY:t,id:"home",onSectionChange:e}),C.jsx(FN,{id:"about"}),C.jsx(UN,{id:"project"})]})}function qN(){const t=zc(),[e,n]=L.useState(0),[i,o]=L.useState("home"),[l,u]=L.useState(!1);L.useEffect(()=>{window.scrollTo(0,0)},[]),L.useEffect(()=>{const m=localStorage.getItem("theme");if(m)u(m==="dark");else{const v=window.matchMedia("(prefers-color-scheme: dark)").matches;u(v)}},[]),L.useEffect(()=>{l?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[l]),L.useEffect(()=>{const m=()=>{n(window.scrollY);const E=["home","about","project","contact"].find(w=>{const A=document.getElementById(w);if(A){const D=A.getBoundingClientRect();return D.top<=100&&D.bottom>=100}return!1});E&&o(E)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=m=>{if(o(m),m==="contact")t("/contact");else{const v=document.getElementById(m);v&&v.scrollIntoView({behavior:"smooth"})}},d=()=>{u(!l)};return C.jsxs("div",{className:`min-h-screen overflow-x-hidden transition-colors duration-300 ${l?"dark bg-gray-900 text-white":"bg-white text-gray-900"}`,children:[C.jsx(VS,{}),C.jsx(LS,{isDark:l,onSectionChange:f,onThemeToggle:d,activeSection:i}),C.jsx(qk,{}),C.jsxs(Jx,{children:[C.jsx(gd,{path:"/",element:C.jsx(WN,{scrollY:e,onSectionChange:f})}),C.jsx(gd,{path:"/contact",element:C.jsx(HN,{})})]}),C.jsx(Wk,{})]})}lx.createRoot(document.getElementById("root")).render(C.jsx(tx.StrictMode,{children:C.jsx(ES,{children:C.jsx(qN,{})})}));
